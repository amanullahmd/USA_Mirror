{"file_contents":{"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"client/src/components/StatsBar.tsx":{"content":"import { Building2, Globe2, MapPin } from \"lucide-react\";\n\nexport default function StatsBar() {\n  const stats = [\n    { icon: Building2, label: \"Total Listings\", value: \"2,500+\" },\n    { icon: Globe2, label: \"Countries\", value: \"50+\" },\n    { icon: MapPin, label: \"Cities\", value: \"200+\" },\n  ];\n\n  return (\n    <div className=\"bg-muted/50 py-6\">\n      <div className=\"max-w-7xl mx-auto px-4 md:px-6 lg:px-8\">\n        <div className=\"grid grid-cols-3 gap-4\">\n          {stats.map((stat, index) => (\n            <div key={index} className=\"text-center\" data-testid={`stat-${stat.label.toLowerCase().replace(/\\s+/g, '-')}`}>\n              <div className=\"flex justify-center mb-2\">\n                <div className=\"p-2 bg-primary/10 rounded-md\">\n                  <stat.icon className=\"w-5 h-5 text-primary\" />\n                </div>\n              </div>\n              <p className=\"text-xl md:text-2xl font-bold mb-1\">{stat.value}</p>\n              <p className=\"text-xs md:text-sm text-muted-foreground\">{stat.label}</p>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":1099},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"client/src/components/NewsHighlights.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Link } from \"wouter\";\nimport { TrendingUp, Clock } from \"lucide-react\";\n\ninterface NewsItem {\n  id: string;\n  title: string;\n  excerpt: string;\n  category: string;\n  time: string;\n  trending?: boolean;\n  imageUrl?: string;\n}\n\nexport default function NewsHighlights() {\n  const newsItems: NewsItem[] = [\n    {\n      id: \"1\",\n      title: \"Global Economic Summit Concludes with Historic Trade Agreement\",\n      excerpt: \"World leaders announce groundbreaking partnership that will reshape international commerce and strengthen economic ties across continents.\",\n      category: \"Business\",\n      time: \"2 hours ago\",\n      trending: true,\n    },\n    {\n      id: \"2\",\n      title: \"Breakthrough in Renewable Energy Technology Announced\",\n      excerpt: \"Scientists unveil revolutionary solar panel design that could triple energy efficiency and reduce costs by 60%.\",\n      category: \"Technology\",\n      time: \"5 hours ago\",\n      trending: true,\n    },\n    {\n      id: \"3\",\n      title: \"International Education Initiative Launches in 50 Countries\",\n      excerpt: \"New program aims to provide free online learning resources to students in developing nations, bridging the digital divide.\",\n      category: \"Education\",\n      time: \"8 hours ago\",\n    },\n    {\n      id: \"4\",\n      title: \"Major Healthcare Innovation Approved by Global Medical Board\",\n      excerpt: \"Revolutionary treatment method receives international approval, offering hope to millions of patients worldwide.\",\n      category: \"Healthcare\",\n      time: \"1 day ago\",\n    },\n  ];\n\n  return (\n    <section className=\"py-8 md:py-12 bg-gradient-to-b from-primary/5 to-background border-y\">\n      <div className=\"max-w-7xl mx-auto px-4 md:px-6 lg:px-8\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"p-2 bg-primary/10 rounded-md\">\n              <TrendingUp className=\"w-5 h-5 text-primary\" />\n            </div>\n            <div>\n              <h2 className=\"text-2xl font-semibold\">World's Top News & Events</h2>\n              <p className=\"text-sm text-muted-foreground\">Stay updated with breaking stories from around the globe</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\n          {newsItems.map((item, index) => (\n            <Link key={item.id} href={`/news/${item.id}`}>\n              <Card \n                className={`hover-elevate active-elevate-2 cursor-pointer h-full ${index === 0 ? 'lg:row-span-2' : ''}`}\n                data-testid={`card-news-${item.id}`}\n              >\n                <CardContent className=\"p-5\">\n                  <div className=\"flex items-start justify-between gap-3 mb-3\">\n                    <Badge variant=\"secondary\">{item.category}</Badge>\n                    {item.trending && (\n                      <Badge variant=\"default\" className=\"gap-1\">\n                        <TrendingUp className=\"w-3 h-3\" />\n                        Trending\n                      </Badge>\n                    )}\n                  </div>\n                  <h3 className={`font-semibold mb-2 ${index === 0 ? 'text-xl' : 'text-base'}`}>\n                    {item.title}\n                  </h3>\n                  <p className=\"text-sm text-muted-foreground mb-3 line-clamp-2\">\n                    {item.excerpt}\n                  </p>\n                  <div className=\"flex items-center gap-1 text-xs text-muted-foreground\">\n                    <Clock className=\"w-3 h-3\" />\n                    <span>{item.time}</span>\n                  </div>\n                </CardContent>\n              </Card>\n            </Link>\n          ))}\n        </div>\n\n        <div className=\"mt-6 text-center\">\n          <Link href=\"/category/news\">\n            <span className=\"text-sm text-primary hover:underline font-medium cursor-pointer\" data-testid=\"link-view-all-news\">\n              View all news stories â†’\n            </span>\n          </Link>\n        </div>\n      </div>\n    </section>\n  );\n}\n","size_bytes":4160},"client/src/components/Logo.tsx":{"content":"import { Globe, Newspaper } from \"lucide-react\";\n\nexport function Logo({ className = \"\" }: { className?: string }) {\n  return (\n    <div className={`flex items-center gap-2 ${className}`} data-testid=\"logo\">\n      <div className=\"relative\">\n        <Globe className=\"w-8 h-8 text-primary\" strokeWidth={1.5} />\n        <Newspaper className=\"absolute bottom-0 right-0 w-4 h-4 text-primary-foreground bg-primary rounded-full p-0.5\" strokeWidth={2} />\n      </div>\n      <div className=\"flex flex-col\">\n        <span className=\"text-xl font-bold leading-none text-foreground\">\n          The USA Mirror\n        </span>\n        <span className=\"text-xs text-muted-foreground leading-none mt-0.5\">\n          Global Business Directory\n        </span>\n      </div>\n    </div>\n  );\n}\n","size_bytes":774},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1383},"client/src/components/ListingCard.tsx":{"content":"import { Link } from \"wouter\";\nimport { Card, CardContent, CardFooter } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { MapPin, ExternalLink } from \"lucide-react\";\n\ninterface ListingCardProps {\n  id: string;\n  title: string;\n  category: string;\n  location: string;\n  description: string;\n  featured?: boolean;\n}\n\nexport default function ListingCard({\n  id,\n  title,\n  category,\n  location,\n  description,\n  featured = false,\n}: ListingCardProps) {\n  return (\n    <Card className={`hover-elevate active-elevate-2 transition-all ${featured ? \"border-primary\" : \"\"}`} data-testid={`card-listing-${id}`}>\n      <CardContent className=\"p-4\">\n        <div className=\"flex items-start gap-3 mb-3\">\n          <div className=\"w-12 h-12 bg-muted rounded-md flex items-center justify-center flex-shrink-0\">\n            <span className=\"text-lg font-semibold text-muted-foreground\">{title.charAt(0)}</span>\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"flex items-start justify-between gap-2 mb-1\">\n              <h3 className=\"font-semibold text-base line-clamp-1\">{title}</h3>\n              {featured && <Badge variant=\"default\" className=\"flex-shrink-0\">Featured</Badge>}\n            </div>\n            <div className=\"flex items-center gap-2 text-sm text-muted-foreground mb-2\">\n              <Badge variant=\"secondary\" className=\"text-xs\">{category}</Badge>\n              <span className=\"flex items-center gap-1\">\n                <MapPin className=\"w-3 h-3\" />\n                {location}\n              </span>\n            </div>\n          </div>\n        </div>\n        <p className=\"text-sm text-muted-foreground line-clamp-2 mb-3\">{description}</p>\n      </CardContent>\n      <CardFooter className=\"p-4 pt-0\">\n        <Link href={`/listing/${id}`} className=\"w-full\">\n          <Button variant=\"outline\" size=\"sm\" className=\"w-full gap-2\" data-testid={`button-view-${id}`}>\n            View Details\n            <ExternalLink className=\"w-3 h-3\" />\n          </Button>\n        </Link>\n      </CardFooter>\n    </Card>\n  );\n}\n","size_bytes":2146},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"client/src/components/examples/CountryTabs.tsx":{"content":"import { Router } from \"wouter\";\nimport CountryTabs from \"../CountryTabs\";\n\nexport default function CountryTabsExample() {\n  return (\n    <Router>\n      <div className=\"p-4\">\n        <CountryTabs />\n      </div>\n    </Router>\n  );\n}\n","size_bytes":233},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/pages/AdminLogin.tsx":{"content":"import { useLocation } from \"wouter\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Globe } from \"lucide-react\";\n\nconst formSchema = z.object({\n  email: z.string().email(\"Please enter a valid email address\"),\n  password: z.string().min(6, \"Password must be at least 6 characters\"),\n});\n\ntype FormData = z.infer<typeof formSchema>;\n\nexport default function AdminLogin() {\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n\n  const form = useForm<FormData>({\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      email: \"\",\n      password: \"\",\n    },\n  });\n\n  const loginMutation = useMutation({\n    mutationFn: async (data: FormData) => {\n      const response = await apiRequest(\"POST\", \"/api/admin/login\", data);\n      return response.json();\n    },\n    onSuccess: async () => {\n      // Invalidate and wait for refetch to complete\n      await queryClient.invalidateQueries({ queryKey: ['/api/admin/session'] });\n      await queryClient.refetchQueries({ queryKey: ['/api/admin/session'] });\n      \n      toast({\n        title: \"Login Successful\",\n        description: \"Welcome to the admin panel!\",\n      });\n      \n      // Use window.location for reliable redirect\n      window.location.href = \"/admin/dashboard\";\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Login Failed\",\n        description: error.message || \"Invalid credentials. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  function onSubmit(data: FormData) {\n    loginMutation.mutate(data);\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-muted/30 p-4\">\n      <Card className=\"w-full max-w-md\" data-testid=\"card-login\">\n        <CardHeader className=\"text-center\">\n          <div className=\"flex justify-center mb-4\">\n            <div className=\"w-12 h-12 bg-primary rounded-md flex items-center justify-center\">\n              <Globe className=\"w-7 h-7 text-primary-foreground\" />\n            </div>\n          </div>\n          <CardTitle>Admin Login</CardTitle>\n          <CardDescription>\n            Enter your credentials to access the admin panel\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <Form {...form}>\n            <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n              <FormField\n                control={form.control}\n                name=\"email\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Email</FormLabel>\n                    <FormControl>\n                      <Input \n                        type=\"email\" \n                        placeholder=\"Enter your email\" \n                        {...field} \n                        data-testid=\"input-email\" \n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <FormField\n                control={form.control}\n                name=\"password\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Password</FormLabel>\n                    <FormControl>\n                      <Input type=\"password\" placeholder=\"Enter password\" {...field} data-testid=\"input-password\" />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <Button \n                type=\"submit\" \n                className=\"w-full\" \n                data-testid=\"button-login\"\n                disabled={loginMutation.isPending}\n              >\n                {loginMutation.isPending ? \"Logging in...\" : \"Login\"}\n              </Button>\n            </form>\n          </Form>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":4385},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"server/seed.ts":{"content":"import { db } from \"./db\";\nimport { categories, countries, regions, adminUsers, promotionalPackages } from \"@shared/schema\";\nimport bcrypt from \"bcrypt\";\n\nasync function seed() {\n  console.log(\"Starting database seeding...\");\n\n  const adminPassword = await bcrypt.hash(\"USA@de\", 10);\n  const existingAdmin = await db.select().from(adminUsers).limit(1);\n  \n  if (existingAdmin.length === 0) {\n    await db.insert(adminUsers).values({\n      username: \"admin\",\n      email: \"mumkhande@gmail.com\",\n      passwordHash: adminPassword,\n    });\n    console.log(\"âœ… Created admin user (email: mumkhande@gmail.com, password: USA@de)\");\n  } else {\n    console.log(\"â„¹ï¸  Admin user already exists\");\n  }\n\n  const existingPackages = await db.select().from(promotionalPackages).limit(1);\n  \n  if (existingPackages.length === 0) {\n    await db.insert(promotionalPackages).values([\n      {\n        name: \"Basic Highlight\",\n        price: 2999, // $29.99\n        durationDays: 30,\n        features: [\"Featured badge\", \"Top placement for 30 days\", \"Standard support\"],\n        active: true,\n      },\n      {\n        name: \"Premium Featured\",\n        price: 4999, // $49.99\n        durationDays: 60,\n        features: [\"Featured badge\", \"Top placement for 60 days\", \"Priority support\", \"Social media spotlight\"],\n        active: true,\n      },\n      {\n        name: \"Enterprise Showcase\",\n        price: 9999, // $99.99\n        durationDays: 90,\n        features: [\"Featured badge\", \"Top placement for 90 days\", \"Priority support\", \"Social media spotlight\", \"Monthly analytics report\", \"Dedicated account manager\"],\n        active: true,\n      },\n    ]);\n    console.log(\"âœ… Created promotional packages\");\n  } else {\n    console.log(\"â„¹ï¸  Promotional packages already exist\");\n  }\n\n  const existingCountries = await db.select().from(countries).limit(1);\n  \n  if (existingCountries.length === 0) {\n    const countryData = [\n      { name: \"United States\", slug: \"usa\", flag: \"ðŸ‡ºðŸ‡¸\" },\n      { name: \"United Kingdom\", slug: \"uk\", flag: \"ðŸ‡¬ðŸ‡§\" },\n      { name: \"Canada\", slug: \"canada\", flag: \"ðŸ‡¨ðŸ‡¦\" },\n      { name: \"Australia\", slug: \"australia\", flag: \"ðŸ‡¦ðŸ‡º\" },\n      { name: \"India\", slug: \"india\", flag: \"ðŸ‡®ðŸ‡³\" },\n      { name: \"Bangladesh\", slug: \"bangladesh\", flag: \"ðŸ‡§ðŸ‡©\" },\n    ];\n\n    const insertedCountries = await db.insert(countries).values(countryData).returning();\n    console.log(\"âœ… Created countries\");\n\n    const regionData = [\n      { name: \"California\", slug: \"california\", countryId: insertedCountries[0].id },\n      { name: \"New York\", slug: \"new-york\", countryId: insertedCountries[0].id },\n      { name: \"Texas\", slug: \"texas\", countryId: insertedCountries[0].id },\n      { name: \"London\", slug: \"london\", countryId: insertedCountries[1].id },\n      { name: \"Manchester\", slug: \"manchester\", countryId: insertedCountries[1].id },\n      { name: \"Ontario\", slug: \"ontario\", countryId: insertedCountries[2].id },\n      { name: \"British Columbia\", slug: \"british-columbia\", countryId: insertedCountries[2].id },\n      { name: \"New South Wales\", slug: \"new-south-wales\", countryId: insertedCountries[3].id },\n      { name: \"Victoria\", slug: \"victoria\", countryId: insertedCountries[3].id },\n      { name: \"Maharashtra\", slug: \"maharashtra\", countryId: insertedCountries[4].id },\n      { name: \"Karnataka\", slug: \"karnataka\", countryId: insertedCountries[4].id },\n      { name: \"Dhaka\", slug: \"dhaka\", countryId: insertedCountries[5].id },\n      { name: \"Chittagong\", slug: \"chittagong\", countryId: insertedCountries[5].id },\n    ];\n\n    await db.insert(regions).values(regionData);\n    console.log(\"âœ… Created regions\");\n  } else {\n    console.log(\"â„¹ï¸  Countries and regions already exist\");\n  }\n\n  const existingCategories = await db.select().from(categories).limit(1);\n  \n  if (existingCategories.length === 0) {\n    await db.insert(categories).values([\n      { name: \"Technology\", slug: \"technology\", icon: \"Cpu\", count: 0 },\n      { name: \"Healthcare\", slug: \"healthcare\", icon: \"Heart\", count: 0 },\n      { name: \"Education\", slug: \"education\", icon: \"GraduationCap\", count: 0 },\n      { name: \"Finance\", slug: \"finance\", icon: \"DollarSign\", count: 0 },\n      { name: \"Retail\", slug: \"retail\", icon: \"ShoppingBag\", count: 0 },\n      { name: \"Food & Beverage\", slug: \"food-beverage\", icon: \"Utensils\", count: 0 },\n      { name: \"Real Estate\", slug: \"real-estate\", icon: \"Home\", count: 0 },\n      { name: \"Legal Services\", slug: \"legal\", icon: \"Scale\", count: 0 },\n    ]);\n    console.log(\"âœ… Created categories\");\n  } else {\n    console.log(\"â„¹ï¸  Categories already exist\");\n  }\n\n  console.log(\"âœ… Database seeding completed!\");\n}\n\nseed().catch((error) => {\n  console.error(\"âŒ Error seeding database:\", error);\n  process.exit(1);\n});\n","size_bytes":4782},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\nimport { createServer } from \"http\";\nimport session from \"express-session\";\nimport connectPg from \"connect-pg-simple\";\nimport { seedAdminUser } from \"./utils/seedAdmin\";\n\nconst app = express();\nconst server = createServer(app);\n\ndeclare module 'http' {\n  interface IncomingMessage {\n    rawBody: unknown\n  }\n}\napp.use(express.json({\n  verify: (req, _res, buf) => {\n    req.rawBody = buf;\n  }\n}));\napp.use(express.urlencoded({ extended: false }));\n\nconst PgSession = connectPg(session);\napp.use(\n  session({\n    store: new PgSession({\n      conString: process.env.DATABASE_URL,\n      createTableIfMissing: true,\n    }),\n    secret: process.env.SESSION_SECRET || \"usa-mirror-secret-key-change-in-production\",\n    resave: false,\n    saveUninitialized: false,\n    cookie: {\n      maxAge: 30 * 24 * 60 * 60 * 1000, // 30 days\n      httpOnly: true,\n      secure: false, // Allow cookies over HTTP and HTTPS\n      sameSite: \"lax\",\n    },\n  })\n);\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"â€¦\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  // Seed admin user on startup (works in both dev and production)\n  await seedAdminUser();\n  \n  registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":2980},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n","size_bytes":1904},"server/storage.ts":{"content":"import { \n  type Category, type InsertCategory,\n  type Country, type InsertCountry,\n  type Region, type InsertRegion,\n  type City, type InsertCity,\n  type Listing, type InsertListing,\n  type Submission, type InsertSubmission,\n  type AdminUser,\n  type User,\n  type PromotionalPackage, type InsertPromotionalPackage,\n  type PaginatedResponse,\n  categories, countries, regions, cities, listings, submissions, adminUsers, users, promotionalPackages\n} from \"@shared/schema\";\nimport { db } from \"./db\";\nimport { eq, desc, and, sql } from \"drizzle-orm\";\n\nexport interface IStorage {\n  // Categories\n  getCategories(options?: { parentId?: number | null; approved?: boolean }): Promise<Category[]>;\n  getCategoryBySlug(slug: string): Promise<Category | undefined>;\n  getCategoryById(id: number): Promise<Category | undefined>;\n  createCategory(category: InsertCategory): Promise<Category>;\n  updateCategory(id: number, category: Partial<Omit<Category, 'id'>>): Promise<Category | undefined>;\n  deleteCategory(id: number): Promise<void>;\n  \n  // Countries\n  getCountries(): Promise<Country[]>;\n  getCountryBySlug(slug: string): Promise<Country | undefined>;\n  createCountry(country: InsertCountry): Promise<Country>;\n  \n  // Regions\n  getRegions(): Promise<Region[]>;\n  getRegionsByCountry(countryId: number): Promise<Region[]>;\n  getRegionBySlug(slug: string): Promise<Region | undefined>;\n  createRegion(region: InsertRegion): Promise<Region>;\n  \n  // Cities\n  getCities(options?: { countryId?: number; regionId?: number; isCapital?: boolean }): Promise<City[]>;\n  getCityById(id: number): Promise<City | undefined>;\n  createCity(city: InsertCity): Promise<City>;\n  \n  // Promotional Packages\n  getPromotionalPackages(): Promise<PromotionalPackage[]>;\n  getActivePromotionalPackages(): Promise<PromotionalPackage[]>;\n  getPromotionalPackageById(id: number): Promise<PromotionalPackage | undefined>;\n  createPromotionalPackage(pkg: InsertPromotionalPackage): Promise<PromotionalPackage>;\n  updatePromotionalPackage(id: number, pkg: Partial<InsertPromotionalPackage>): Promise<PromotionalPackage | undefined>;\n  deletePromotionalPackage(id: number): Promise<void>;\n  \n  // Listings\n  getListings(options?: { categoryId?: number; countryId?: number; regionId?: number; featured?: boolean; limit?: number }): Promise<Listing[]>;\n  getListingById(id: number): Promise<Listing | undefined>;\n  createListing(listing: InsertListing): Promise<Listing>;\n  incrementListingViews(id: number): Promise<void>;\n  \n  // Listing Positioning\n  setListingPosition(listingId: number, position: number, expiresAt: Date | null): Promise<Listing | undefined>;\n  clearListingPosition(listingId: number): Promise<Listing | undefined>;\n  clearExpiredPositions(): Promise<number>; // Returns count of cleared positions\n  \n  // Submissions\n  getSubmissions(status?: string, page?: number, pageSize?: number): Promise<PaginatedResponse<Submission>>;\n  getSubmissionById(id: number): Promise<Submission | undefined>;\n  createSubmission(submission: InsertSubmission): Promise<Submission>;\n  updateSubmissionStatus(id: number, status: string): Promise<Submission | undefined>;\n  \n  // Admin Users\n  getAdminByUsername(username: string): Promise<AdminUser | undefined>;\n  getAdminByEmail(email: string): Promise<AdminUser | undefined>;\n  createAdmin(username: string, email: string, passwordHash: string): Promise<AdminUser>;\n  updateAdminPassword(id: number, passwordHash: string): Promise<AdminUser | undefined>;\n  setPasswordResetToken(email: string, token: string, expiry: Date): Promise<AdminUser | undefined>;\n  getAdminByResetToken(token: string): Promise<AdminUser | undefined>;\n  \n  // Users\n  getAllUsers(): Promise<User[]>;\n  getUserByEmail(email: string): Promise<User | undefined>;\n  getUserById(id: number): Promise<User | undefined>;\n  createUser(user: { email: string; passwordHash: string; firstName?: string; lastName?: string; phone?: string }): Promise<User>;\n  updateUser(id: number, data: Partial<Omit<User, 'id'>>): Promise<User | undefined>;\n  setVerificationToken(userId: number, tokenHash: string, expiry: Date): Promise<User | undefined>;\n  getUserByVerificationToken(tokenHash: string): Promise<User | undefined>;\n  verifyUserEmail(userId: number): Promise<User | undefined>;\n  setUserPasswordResetToken(email: string, tokenHash: string, expiry: Date): Promise<User | undefined>;\n  getUserByPasswordResetToken(tokenHash: string): Promise<User | undefined>;\n  updateUserPassword(id: number, passwordHash: string): Promise<User | undefined>;\n  \n  // Stats\n  getStats(): Promise<{\n    totalListings: number;\n    pendingSubmissions: number;\n    approvedThisWeek: number;\n    totalViews: number;\n  }>;\n}\n\nexport class DatabaseStorage implements IStorage {\n  // Categories\n  async getCategories(options?: { parentId?: number | null; approved?: boolean }): Promise<Category[]> {\n    let query = db.select().from(categories);\n    \n    const conditions = [];\n    \n    // Filter by parentId (null = root categories, number = subcategories of that parent)\n    if (options?.parentId !== undefined) {\n      if (options.parentId === null) {\n        conditions.push(sql`${categories.parentId} IS NULL`);\n      } else {\n        conditions.push(eq(categories.parentId, options.parentId));\n      }\n    }\n    \n    // Filter by approval status\n    if (options?.approved !== undefined) {\n      conditions.push(eq(categories.approved, options.approved));\n    }\n    \n    if (conditions.length > 0) {\n      query = query.where(and(...conditions)) as any;\n    }\n    \n    return await query.orderBy(categories.name);\n  }\n\n  async getCategoryBySlug(slug: string): Promise<Category | undefined> {\n    const [category] = await db.select().from(categories).where(eq(categories.slug, slug));\n    return category || undefined;\n  }\n\n  async getCategoryById(id: number): Promise<Category | undefined> {\n    const [category] = await db.select().from(categories).where(eq(categories.id, id));\n    return category || undefined;\n  }\n\n  async createCategory(insertCategory: InsertCategory): Promise<Category> {\n    const [category] = await db.insert(categories).values(insertCategory).returning();\n    return category;\n  }\n\n  async updateCategory(id: number, updateData: Partial<Omit<Category, 'id'>>): Promise<Category | undefined> {\n    const [category] = await db.update(categories)\n      .set(updateData)\n      .where(eq(categories.id, id))\n      .returning();\n    return category || undefined;\n  }\n\n  async deleteCategory(id: number): Promise<void> {\n    await db.delete(categories).where(eq(categories.id, id));\n  }\n\n  // Countries\n  async getCountries(): Promise<Country[]> {\n    return await db.select().from(countries).orderBy(countries.name);\n  }\n\n  async getCountryBySlug(slug: string): Promise<Country | undefined> {\n    const [country] = await db.select().from(countries).where(eq(countries.slug, slug));\n    return country || undefined;\n  }\n\n  async createCountry(insertCountry: InsertCountry): Promise<Country> {\n    const [country] = await db.insert(countries).values(insertCountry).returning();\n    return country;\n  }\n\n  // Regions\n  async getRegions(): Promise<Region[]> {\n    return await db.select().from(regions).orderBy(regions.name);\n  }\n\n  async getRegionsByCountry(countryId: number): Promise<Region[]> {\n    return await db.select().from(regions).where(eq(regions.countryId, countryId));\n  }\n\n  async getRegionBySlug(slug: string): Promise<Region | undefined> {\n    const [region] = await db.select().from(regions).where(eq(regions.slug, slug));\n    return region || undefined;\n  }\n\n  async createRegion(insertRegion: InsertRegion): Promise<Region> {\n    const [region] = await db.insert(regions).values(insertRegion).returning();\n    return region;\n  }\n\n  // Cities\n  async getCities(options?: { countryId?: number; regionId?: number; isCapital?: boolean }): Promise<City[]> {\n    let query = db.select().from(cities);\n    \n    const conditions = [];\n    if (options?.countryId) conditions.push(eq(cities.countryId, options.countryId));\n    if (options?.regionId) conditions.push(eq(cities.regionId, options.regionId));\n    if (options?.isCapital !== undefined) conditions.push(eq(cities.isCapital, options.isCapital));\n    \n    if (conditions.length > 0) {\n      query = query.where(and(...conditions)) as any;\n    }\n    \n    return await query.orderBy(cities.name);\n  }\n\n  async getCityById(id: number): Promise<City | undefined> {\n    const [city] = await db.select().from(cities).where(eq(cities.id, id));\n    return city || undefined;\n  }\n\n  async createCity(insertCity: InsertCity): Promise<City> {\n    const [city] = await db.insert(cities).values(insertCity).returning();\n    return city;\n  }\n\n  // Promotional Packages\n  async getPromotionalPackages(): Promise<PromotionalPackage[]> {\n    return await db.select().from(promotionalPackages).orderBy(promotionalPackages.price);\n  }\n\n  async getActivePromotionalPackages(): Promise<PromotionalPackage[]> {\n    return await db.select()\n      .from(promotionalPackages)\n      .where(eq(promotionalPackages.active, true))\n      .orderBy(promotionalPackages.price);\n  }\n\n  async getPromotionalPackageById(id: number): Promise<PromotionalPackage | undefined> {\n    const [pkg] = await db.select().from(promotionalPackages).where(eq(promotionalPackages.id, id));\n    return pkg || undefined;\n  }\n\n  async createPromotionalPackage(insertPackage: InsertPromotionalPackage): Promise<PromotionalPackage> {\n    const [pkg] = await db.insert(promotionalPackages).values(insertPackage).returning();\n    return pkg;\n  }\n\n  async updatePromotionalPackage(id: number, updateData: Partial<InsertPromotionalPackage>): Promise<PromotionalPackage | undefined> {\n    const [pkg] = await db.update(promotionalPackages)\n      .set(updateData)\n      .where(eq(promotionalPackages.id, id))\n      .returning();\n    return pkg || undefined;\n  }\n\n  async deletePromotionalPackage(id: number): Promise<void> {\n    await db.delete(promotionalPackages).where(eq(promotionalPackages.id, id));\n  }\n\n  // Listings\n  async getListings(options?: { categoryId?: number; countryId?: number; regionId?: number; featured?: boolean; limit?: number }): Promise<Listing[]> {\n    // Auto-cleanup expired positions before fetching\n    await this.clearExpiredPositions();\n    \n    let query = db.select().from(listings);\n    \n    const conditions = [];\n    if (options?.categoryId) conditions.push(eq(listings.categoryId, options.categoryId));\n    if (options?.countryId) conditions.push(eq(listings.countryId, options.countryId));\n    if (options?.regionId) conditions.push(eq(listings.regionId, options.regionId));\n    if (options?.featured !== undefined) conditions.push(eq(listings.featured, options.featured));\n    \n    if (conditions.length > 0) {\n      query = query.where(and(...conditions)) as any;\n    }\n    \n    // Sort by position first (positioned listings on top), then by createdAt for non-positioned\n    query = query.orderBy(\n      sql`CASE WHEN ${listings.position} IS NULL THEN 1 ELSE 0 END`, // Positioned first\n      sql`${listings.position} NULLS LAST`, // Sort by position value\n      desc(listings.createdAt) // Then by creation date\n    ) as any;\n    \n    if (options?.limit) {\n      query = query.limit(options.limit) as any;\n    }\n    \n    return await query;\n  }\n\n  async getListingById(id: number): Promise<Listing | undefined> {\n    const [listing] = await db.select().from(listings).where(eq(listings.id, id));\n    return listing || undefined;\n  }\n\n  async createListing(insertListing: InsertListing): Promise<Listing> {\n    const [listing] = await db.insert(listings).values(insertListing).returning();\n    return listing;\n  }\n\n  async incrementListingViews(id: number): Promise<void> {\n    await db.update(listings)\n      .set({ views: sql`${listings.views} + 1` })\n      .where(eq(listings.id, id));\n  }\n\n  // Listing Positioning\n  async setListingPosition(listingId: number, position: number, expiresAt: Date | null): Promise<Listing | undefined> {\n    const [listing] = await db.update(listings)\n      .set({ position, positionExpiresAt: expiresAt })\n      .where(eq(listings.id, listingId))\n      .returning();\n    return listing || undefined;\n  }\n\n  async clearListingPosition(listingId: number): Promise<Listing | undefined> {\n    const [listing] = await db.update(listings)\n      .set({ position: null, positionExpiresAt: null })\n      .where(eq(listings.id, listingId))\n      .returning();\n    return listing || undefined;\n  }\n\n  async clearExpiredPositions(): Promise<number> {\n    const result = await db.update(listings)\n      .set({ position: null, positionExpiresAt: null })\n      .where(sql`${listings.positionExpiresAt} IS NOT NULL AND ${listings.positionExpiresAt} <= NOW()`)\n      .returning();\n    return result.length;\n  }\n\n  // Submissions\n  async getSubmissions(status?: string, page: number = 1, pageSize: number = 10): Promise<PaginatedResponse<Submission>> {\n    // Ensure valid pagination parameters\n    const validPage = Math.max(1, page);\n    const validPageSize = Math.min(100, Math.max(1, pageSize)); // Cap at 100\n    const offset = (validPage - 1) * validPageSize;\n    \n    // Build where condition\n    const whereCondition = status ? eq(submissions.status, status) : undefined;\n    \n    // Get total count\n    const countQuery = db.select({ count: sql<number>`count(*)::int` }).from(submissions);\n    const countResult = whereCondition \n      ? await countQuery.where(whereCondition)\n      : await countQuery;\n    const total = countResult[0]?.count || 0;\n    \n    // Get paginated data\n    let dataQuery = db.select().from(submissions);\n    if (whereCondition) {\n      dataQuery = dataQuery.where(whereCondition) as any;\n    }\n    const data = await dataQuery\n      .orderBy(desc(submissions.submittedAt))\n      .limit(validPageSize)\n      .offset(offset);\n    \n    return {\n      data,\n      page: validPage,\n      pageSize: validPageSize,\n      total,\n    };\n  }\n\n  async getSubmissionById(id: number): Promise<Submission | undefined> {\n    const [submission] = await db.select().from(submissions).where(eq(submissions.id, id));\n    return submission || undefined;\n  }\n\n  async createSubmission(insertSubmission: InsertSubmission): Promise<Submission> {\n    const [submission] = await db.insert(submissions).values(insertSubmission).returning();\n    return submission;\n  }\n\n  async updateSubmissionStatus(id: number, status: string): Promise<Submission | undefined> {\n    const [submission] = await db.update(submissions)\n      .set({ status, reviewedAt: new Date() })\n      .where(eq(submissions.id, id))\n      .returning();\n    return submission || undefined;\n  }\n\n  // Admin Users\n  async getAdminByUsername(username: string): Promise<AdminUser | undefined> {\n    const [admin] = await db.select().from(adminUsers).where(eq(adminUsers.username, username));\n    return admin || undefined;\n  }\n\n  async getAdminByEmail(email: string): Promise<AdminUser | undefined> {\n    const [admin] = await db.select().from(adminUsers).where(eq(adminUsers.email, email));\n    return admin || undefined;\n  }\n\n  async createAdmin(username: string, email: string, passwordHash: string): Promise<AdminUser> {\n    const [admin] = await db.insert(adminUsers).values({ username, email, passwordHash }).returning();\n    return admin;\n  }\n\n  async updateAdminPassword(id: number, passwordHash: string): Promise<AdminUser | undefined> {\n    const [admin] = await db.update(adminUsers)\n      .set({ passwordHash, resetTokenHash: null, resetTokenExpiry: null })\n      .where(eq(adminUsers.id, id))\n      .returning();\n    return admin || undefined;\n  }\n\n  async setPasswordResetToken(email: string, tokenHash: string, expiry: Date): Promise<AdminUser | undefined> {\n    const [admin] = await db.update(adminUsers)\n      .set({ resetTokenHash: tokenHash, resetTokenExpiry: expiry })\n      .where(eq(adminUsers.email, email))\n      .returning();\n    return admin || undefined;\n  }\n\n  async getAdminByResetToken(tokenHash: string): Promise<AdminUser | undefined> {\n    const [admin] = await db.select().from(adminUsers)\n      .where(and(\n        eq(adminUsers.resetTokenHash, tokenHash),\n        sql`${adminUsers.resetTokenExpiry} > NOW()`\n      ));\n    return admin || undefined;\n  }\n\n  // Users\n  async getAllUsers(): Promise<User[]> {\n    const allUsers = await db.select().from(users).orderBy(users.createdAt);\n    return allUsers;\n  }\n\n  async getUserByEmail(email: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.email, email));\n    return user || undefined;\n  }\n\n  async getUserById(id: number): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.id, id));\n    return user || undefined;\n  }\n\n  async createUser(insertUser: { email: string; passwordHash: string; firstName?: string; lastName?: string; phone?: string }): Promise<User> {\n    const [user] = await db.insert(users).values(insertUser).returning();\n    return user;\n  }\n\n  async updateUser(id: number, data: Partial<Omit<User, 'id'>>): Promise<User | undefined> {\n    const [user] = await db.update(users)\n      .set(data)\n      .where(eq(users.id, id))\n      .returning();\n    return user || undefined;\n  }\n\n  async setVerificationToken(userId: number, tokenHash: string, expiry: Date): Promise<User | undefined> {\n    const [user] = await db.update(users)\n      .set({ verificationTokenHash: tokenHash, verificationTokenExpiry: expiry })\n      .where(eq(users.id, userId))\n      .returning();\n    return user || undefined;\n  }\n\n  async getUserByVerificationToken(tokenHash: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users)\n      .where(and(\n        eq(users.verificationTokenHash, tokenHash),\n        sql`${users.verificationTokenExpiry} > NOW()`\n      ));\n    return user || undefined;\n  }\n\n  async verifyUserEmail(userId: number): Promise<User | undefined> {\n    const [user] = await db.update(users)\n      .set({ \n        emailVerified: true, \n        verificationTokenHash: null, \n        verificationTokenExpiry: null \n      })\n      .where(eq(users.id, userId))\n      .returning();\n    return user || undefined;\n  }\n\n  async setUserPasswordResetToken(email: string, tokenHash: string, expiry: Date): Promise<User | undefined> {\n    const [user] = await db.update(users)\n      .set({ resetTokenHash: tokenHash, resetTokenExpiry: expiry })\n      .where(eq(users.email, email))\n      .returning();\n    return user || undefined;\n  }\n\n  async getUserByPasswordResetToken(tokenHash: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users)\n      .where(and(\n        eq(users.resetTokenHash, tokenHash),\n        sql`${users.resetTokenExpiry} > NOW()`\n      ));\n    return user || undefined;\n  }\n\n  async updateUserPassword(id: number, passwordHash: string): Promise<User | undefined> {\n    const [user] = await db.update(users)\n      .set({ \n        passwordHash, \n        resetTokenHash: null, \n        resetTokenExpiry: null \n      })\n      .where(eq(users.id, id))\n      .returning();\n    return user || undefined;\n  }\n\n  // Stats\n  async getStats(): Promise<{\n    totalListings: number;\n    pendingSubmissions: number;\n    approvedThisWeek: number;\n    totalViews: number;\n  }> {\n    const [listingsCount] = await db.select({ count: sql<number>`count(*)` }).from(listings);\n    const [pendingCount] = await db.select({ count: sql<number>`count(*)` }).from(submissions).where(eq(submissions.status, 'pending'));\n    \n    const weekAgo = new Date();\n    weekAgo.setDate(weekAgo.getDate() - 7);\n    const [approvedCount] = await db.select({ count: sql<number>`count(*)` })\n      .from(submissions)\n      .where(and(\n        eq(submissions.status, 'approved'),\n        sql`${submissions.reviewedAt} >= ${weekAgo}`\n      ));\n    \n    const [viewsSum] = await db.select({ sum: sql<number>`COALESCE(sum(${listings.views}), 0)` }).from(listings);\n    \n    return {\n      totalListings: listingsCount.count,\n      pendingSubmissions: pendingCount.count,\n      approvedThisWeek: approvedCount.count,\n      totalViews: viewsSum.sum,\n    };\n  }\n}\n\nexport const storage = new DatabaseStorage();\n","size_bytes":20142},"client/src/pages/AdminDashboard.tsx":{"content":"import { SidebarProvider, SidebarTrigger } from \"@/components/ui/sidebar\";\nimport AdminSidebar from \"@/components/AdminSidebar\";\nimport AdminStatsCards from \"@/components/AdminStatsCards\";\nimport AdminSubmissionsTable from \"@/components/AdminSubmissionsTable\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\n\nexport default function AdminDashboard() {\n  const style = {\n    \"--sidebar-width\": \"16rem\",\n  };\n\n  return (\n    <SidebarProvider style={style as React.CSSProperties}>\n      <div className=\"flex h-screen w-full\">\n        <AdminSidebar />\n        <div className=\"flex flex-col flex-1\">\n          <header className=\"flex items-center justify-between p-4 border-b\">\n            <div className=\"flex items-center gap-3\">\n              <SidebarTrigger data-testid=\"button-sidebar-toggle\" />\n              <h1 className=\"text-xl font-semibold\">Dashboard</h1>\n            </div>\n          </header>\n          <main className=\"flex-1 overflow-auto p-6 bg-muted/30\">\n            <div className=\"max-w-7xl mx-auto space-y-6\">\n              <AdminStatsCards />\n\n              <Card>\n                <CardHeader>\n                  <CardTitle>Recent Submissions</CardTitle>\n                  <CardDescription>\n                    Review and manage pending business listings\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <AdminSubmissionsTable />\n                </CardContent>\n              </Card>\n            </div>\n          </main>\n        </div>\n      </div>\n    </SidebarProvider>\n  );\n}\n","size_bytes":1611},"server/types.ts":{"content":"import 'express-session';\n\ndeclare module 'express-session' {\n  interface SessionData {\n    adminId?: number;\n    email?: string;\n    username?: string;\n    userId?: number;\n    userEmail?: string;\n  }\n}\n","size_bytes":204},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { ProtectedRoute } from \"@/components/ProtectedRoute\";\nimport NotFound from \"@/pages/not-found\";\nimport Home from \"@/pages/Home\";\nimport SubmitPage from \"@/pages/SubmitPage\";\nimport AdminLogin from \"@/pages/AdminLogin\";\nimport AdminDashboard from \"@/pages/AdminDashboard\";\nimport AdminCategories from \"@/pages/AdminCategories\";\nimport AdminPackages from \"@/pages/AdminPackages\";\nimport AdminSettings from \"@/pages/AdminSettings\";\nimport AdminSubmissions from \"@/pages/AdminSubmissions\";\nimport AdminListings from \"@/pages/AdminListings\";\nimport AdminLocations from \"@/pages/AdminLocations\";\nimport AdminUsers from \"@/pages/AdminUsers\";\nimport AdminDatabaseTools from \"@/pages/AdminDatabaseTools\";\nimport CategoryPage from \"@/pages/CategoryPage\";\nimport ListingDetail from \"@/pages/ListingDetail\";\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route path=\"/\" component={Home} />\n      <Route path=\"/submit\" component={SubmitPage} />\n      <Route path=\"/admin/login\" component={AdminLogin} />\n      <Route path=\"/admin\">\n        <ProtectedRoute>\n          <AdminDashboard />\n        </ProtectedRoute>\n      </Route>\n      <Route path=\"/admin/dashboard\">\n        <ProtectedRoute>\n          <AdminDashboard />\n        </ProtectedRoute>\n      </Route>\n      <Route path=\"/admin/categories\">\n        <ProtectedRoute>\n          <AdminCategories />\n        </ProtectedRoute>\n      </Route>\n      <Route path=\"/admin/promotional-packages\">\n        <ProtectedRoute>\n          <AdminPackages />\n        </ProtectedRoute>\n      </Route>\n      <Route path=\"/admin/settings\">\n        <ProtectedRoute>\n          <AdminSettings />\n        </ProtectedRoute>\n      </Route>\n      <Route path=\"/admin/submissions\">\n        <ProtectedRoute>\n          <AdminSubmissions />\n        </ProtectedRoute>\n      </Route>\n      <Route path=\"/admin/listings\">\n        <ProtectedRoute>\n          <AdminListings />\n        </ProtectedRoute>\n      </Route>\n      <Route path=\"/admin/locations\">\n        <ProtectedRoute>\n          <AdminLocations />\n        </ProtectedRoute>\n      </Route>\n      <Route path=\"/admin/users\">\n        <ProtectedRoute>\n          <AdminUsers />\n        </ProtectedRoute>\n      </Route>\n      <Route path=\"/admin/database-tools\">\n        <ProtectedRoute>\n          <AdminDatabaseTools />\n        </ProtectedRoute>\n      </Route>\n      <Route path=\"/category/:category\" component={CategoryPage} />\n      <Route path=\"/listing/:id\" component={ListingDetail} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <Toaster />\n        <Router />\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","size_bytes":3004},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"client/src/components/AdminStatsCards.tsx":{"content":"import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Building2, Clock, CheckCircle2, TrendingUp } from \"lucide-react\";\n\nexport default function AdminStatsCards() {\n  const stats = [\n    {\n      title: \"Total Listings\",\n      value: \"2,500\",\n      change: \"+145 this week\",\n      icon: Building2,\n      color: \"text-blue-600\",\n    },\n    {\n      title: \"Pending Submissions\",\n      value: \"38\",\n      change: \"Awaiting review\",\n      icon: Clock,\n      color: \"text-orange-600\",\n    },\n    {\n      title: \"Approved This Week\",\n      value: \"127\",\n      change: \"+23 from last week\",\n      icon: CheckCircle2,\n      color: \"text-green-600\",\n    },\n    {\n      title: \"Total Views\",\n      value: \"485K\",\n      change: \"+28% this month\",\n      icon: TrendingUp,\n      color: \"text-purple-600\",\n    },\n  ];\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n      {stats.map((stat) => (\n        <Card key={stat.title} data-testid={`card-stat-${stat.title.toLowerCase().replace(/\\s+/g, '-')}`}>\n          <CardHeader className=\"flex flex-row items-center justify-between gap-1 space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">{stat.title}</CardTitle>\n            <stat.icon className={`w-4 h-4 ${stat.color}`} />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{stat.value}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">{stat.change}</p>\n          </CardContent>\n        </Card>\n      ))}\n    </div>\n  );\n}\n","size_bytes":1567},"client/src/pages/AdminCategories.tsx":{"content":"import { useState } from \"react\";\nimport React from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { SidebarProvider, SidebarTrigger } from \"@/components/ui/sidebar\";\nimport AdminSidebar from \"@/components/AdminSidebar\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle } from \"@/components/ui/alert-dialog\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { Plus, Edit, Trash2 } from \"lucide-react\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport type { Category, InsertCategory } from \"@shared/schema\";\nimport { insertCategorySchema } from \"@shared/schema\";\n\nconst categoryFormSchema = insertCategorySchema.extend({\n  name: z.string().min(1, \"Name is required\"),\n  slug: z.string().min(1, \"Slug is required\"),\n  icon: z.string().min(1, \"Icon is required\"),\n  logoUrl: z.string().url(\"Must be a valid URL\").optional().or(z.literal(\"\")),\n  parentId: z.number().optional().nullable(),\n});\n\ntype CategoryFormData = z.infer<typeof categoryFormSchema>;\n\nexport default function AdminCategories() {\n  const { toast } = useToast();\n  const [createDialogOpen, setCreateDialogOpen] = useState(false);\n  const [editDialogOpen, setEditDialogOpen] = useState(false);\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\n  const [selectedCategory, setSelectedCategory] = useState<Category | null>(null);\n\n  const { data: categories, isLoading } = useQuery<Category[]>({\n    queryKey: [\"/api/categories\"],\n  });\n\n  const createForm = useForm<CategoryFormData>({\n    resolver: zodResolver(categoryFormSchema),\n    defaultValues: {\n      name: \"\",\n      slug: \"\",\n      icon: \"\",\n      logoUrl: \"\",\n      parentId: null,\n    },\n  });\n\n  const editForm = useForm<CategoryFormData>({\n    resolver: zodResolver(categoryFormSchema),\n    defaultValues: {\n      name: \"\",\n      slug: \"\",\n      icon: \"\",\n      logoUrl: \"\",\n      parentId: null,\n    },\n  });\n\n  const createMutation = useMutation({\n    mutationFn: async (data: CategoryFormData) => {\n      await apiRequest(\"POST\", \"/api/admin/categories\", data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/categories\"] });\n      toast({\n        title: \"Success\",\n        description: \"Category created successfully\",\n      });\n      setCreateDialogOpen(false);\n      createForm.reset();\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const updateMutation = useMutation({\n    mutationFn: async ({ id, data }: { id: number; data: CategoryFormData }) => {\n      await apiRequest(\"PATCH\", `/api/admin/categories/${id}`, data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/categories\"] });\n      toast({\n        title: \"Success\",\n        description: \"Category updated successfully\",\n      });\n      setEditDialogOpen(false);\n      setSelectedCategory(null);\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const deleteMutation = useMutation({\n    mutationFn: async (id: number) => {\n      await apiRequest(\"DELETE\", `/api/admin/categories/${id}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/categories\"] });\n      toast({\n        title: \"Success\",\n        description: \"Category deleted successfully\",\n      });\n      setDeleteDialogOpen(false);\n      setSelectedCategory(null);\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleCreate = (data: CategoryFormData) => {\n    createMutation.mutate(data);\n  };\n\n  const handleEdit = (category: Category) => {\n    setSelectedCategory(category);\n    editForm.reset({\n      name: category.name,\n      slug: category.slug,\n      icon: category.icon,\n      logoUrl: category.logoUrl || \"\",\n      parentId: category.parentId || null,\n    });\n    setEditDialogOpen(true);\n  };\n\n  const handleUpdate = (data: CategoryFormData) => {\n    if (selectedCategory) {\n      updateMutation.mutate({ id: selectedCategory.id, data });\n    }\n  };\n\n  const handleDeleteClick = (category: Category) => {\n    setSelectedCategory(category);\n    setDeleteDialogOpen(true);\n  };\n\n  const handleDeleteConfirm = () => {\n    if (selectedCategory) {\n      deleteMutation.mutate(selectedCategory.id);\n    }\n  };\n\n  const style = {\n    \"--sidebar-width\": \"16rem\",\n  };\n\n  return (\n    <SidebarProvider style={style as React.CSSProperties}>\n      <div className=\"flex h-screen w-full\">\n        <AdminSidebar />\n        <div className=\"flex flex-col flex-1\">\n          <header className=\"flex items-center justify-between p-4 border-b\">\n            <div className=\"flex items-center gap-3\">\n              <SidebarTrigger data-testid=\"button-sidebar-toggle\" />\n              <h1 className=\"text-xl font-semibold\">Categories</h1>\n            </div>\n            <Button\n              onClick={() => setCreateDialogOpen(true)}\n              data-testid=\"button-create-category\"\n            >\n              <Plus className=\"w-4 h-4 mr-2\" />\n              Create Category\n            </Button>\n          </header>\n          <main className=\"flex-1 overflow-auto p-6 bg-muted/30\">\n            <div className=\"max-w-7xl mx-auto\">\n              <Card>\n                <CardHeader>\n                  <CardTitle>All Categories</CardTitle>\n                  <CardDescription>\n                    Manage categories for business listings\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  {isLoading ? (\n                    <div className=\"space-y-3\">\n                      {[1, 2, 3, 4, 5].map((i) => (\n                        <Skeleton key={i} className=\"h-12 w-full\" />\n                      ))}\n                    </div>\n                  ) : (\n                    <Table>\n                      <TableHeader>\n                        <TableRow>\n                          <TableHead>Name</TableHead>\n                          <TableHead>Slug</TableHead>\n                          <TableHead>Icon</TableHead>\n                          <TableHead className=\"text-right\">Count</TableHead>\n                          <TableHead className=\"text-right\">Actions</TableHead>\n                        </TableRow>\n                      </TableHeader>\n                      <TableBody>\n                        {categories?.filter(c => !c.parentId).map((category) => (\n                          <React.Fragment key={category.id}>\n                            <TableRow data-testid={`row-category-${category.id}`}>\n                              <TableCell className=\"font-medium\" data-testid={`text-category-name-${category.id}`}>\n                                {category.name}\n                              </TableCell>\n                              <TableCell data-testid={`text-category-slug-${category.id}`}>\n                                {category.slug}\n                              </TableCell>\n                              <TableCell data-testid={`text-category-icon-${category.id}`}>\n                                {category.icon}\n                              </TableCell>\n                              <TableCell className=\"text-right\" data-testid={`text-category-count-${category.id}`}>\n                                {category.count}\n                              </TableCell>\n                              <TableCell className=\"text-right\">\n                                <div className=\"flex justify-end gap-2\">\n                                  <Button\n                                    size=\"sm\"\n                                    variant=\"outline\"\n                                    onClick={() => handleEdit(category)}\n                                    data-testid={`button-edit-category-${category.id}`}\n                                  >\n                                    <Edit className=\"w-4 h-4\" />\n                                  </Button>\n                                  <Button\n                                    size=\"sm\"\n                                    variant=\"outline\"\n                                    onClick={() => handleDeleteClick(category)}\n                                    data-testid={`button-delete-category-${category.id}`}\n                                  >\n                                    <Trash2 className=\"w-4 h-4\" />\n                                  </Button>\n                                </div>\n                              </TableCell>\n                            </TableRow>\n                            {categories?.filter(sub => sub.parentId === category.id).map((subcategory) => (\n                              <TableRow key={subcategory.id} data-testid={`row-category-${subcategory.id}`} className=\"bg-muted/30\">\n                                <TableCell className=\"font-medium pl-8\" data-testid={`text-category-name-${subcategory.id}`}>\n                                  â†³ {subcategory.name}\n                                </TableCell>\n                                <TableCell data-testid={`text-category-slug-${subcategory.id}`}>\n                                  {subcategory.slug}\n                                </TableCell>\n                                <TableCell data-testid={`text-category-icon-${subcategory.id}`}>\n                                  {subcategory.icon}\n                                </TableCell>\n                                <TableCell className=\"text-right\" data-testid={`text-category-count-${subcategory.id}`}>\n                                  {subcategory.count}\n                                </TableCell>\n                                <TableCell className=\"text-right\">\n                                  <div className=\"flex justify-end gap-2\">\n                                    <Button\n                                      size=\"sm\"\n                                      variant=\"outline\"\n                                      onClick={() => handleEdit(subcategory)}\n                                      data-testid={`button-edit-category-${subcategory.id}`}\n                                    >\n                                      <Edit className=\"w-4 h-4\" />\n                                    </Button>\n                                    <Button\n                                      size=\"sm\"\n                                      variant=\"outline\"\n                                      onClick={() => handleDeleteClick(subcategory)}\n                                      data-testid={`button-delete-category-${subcategory.id}`}\n                                    >\n                                      <Trash2 className=\"w-4 h-4\" />\n                                    </Button>\n                                  </div>\n                                </TableCell>\n                              </TableRow>\n                            ))}\n                          </React.Fragment>\n                        ))}\n                      </TableBody>\n                    </Table>\n                  )}\n                </CardContent>\n              </Card>\n            </div>\n          </main>\n        </div>\n      </div>\n\n      {/* Create Dialog */}\n      <Dialog open={createDialogOpen} onOpenChange={setCreateDialogOpen}>\n        <DialogContent data-testid=\"dialog-create-category\">\n          <DialogHeader>\n            <DialogTitle>Create Category</DialogTitle>\n            <DialogDescription>\n              Add a new category for business listings\n            </DialogDescription>\n          </DialogHeader>\n          <Form {...createForm}>\n            <form onSubmit={createForm.handleSubmit(handleCreate)} className=\"space-y-4\">\n              <FormField\n                control={createForm.control}\n                name=\"name\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Name</FormLabel>\n                    <FormControl>\n                      <Input\n                        {...field}\n                        placeholder=\"e.g., Restaurants\"\n                        data-testid=\"input-category-name\"\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <FormField\n                control={createForm.control}\n                name=\"slug\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Slug</FormLabel>\n                    <FormControl>\n                      <Input\n                        {...field}\n                        placeholder=\"e.g., restaurants\"\n                        data-testid=\"input-category-slug\"\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <FormField\n                control={createForm.control}\n                name=\"icon\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Icon</FormLabel>\n                    <FormControl>\n                      <Input\n                        {...field}\n                        placeholder=\"e.g., utensils\"\n                        data-testid=\"input-category-icon\"\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <FormField\n                control={createForm.control}\n                name=\"logoUrl\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Logo URL (Optional)</FormLabel>\n                    <FormControl>\n                      <Input\n                        {...field}\n                        placeholder=\"https://example.com/logo.png\"\n                        data-testid=\"input-category-logoUrl\"\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <FormField\n                control={createForm.control}\n                name=\"parentId\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Parent Category (Optional)</FormLabel>\n                    <Select\n                      value={field.value?.toString() || \"none\"}\n                      onValueChange={(value) => field.onChange(value === \"none\" ? null : parseInt(value))}\n                    >\n                      <FormControl>\n                        <SelectTrigger data-testid=\"select-parent-category\">\n                          <SelectValue placeholder=\"Select parent category\" />\n                        </SelectTrigger>\n                      </FormControl>\n                      <SelectContent>\n                        <SelectItem value=\"none\">None (Top-level category)</SelectItem>\n                        {categories?.filter(c => !c.parentId).map((category) => (\n                          <SelectItem key={category.id} value={category.id.toString()}>\n                            {category.name}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <DialogFooter>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={() => setCreateDialogOpen(false)}\n                  data-testid=\"button-cancel-create\"\n                >\n                  Cancel\n                </Button>\n                <Button\n                  type=\"submit\"\n                  disabled={createMutation.isPending}\n                  data-testid=\"button-submit-create\"\n                >\n                  {createMutation.isPending ? \"Creating...\" : \"Create\"}\n                </Button>\n              </DialogFooter>\n            </form>\n          </Form>\n        </DialogContent>\n      </Dialog>\n\n      {/* Edit Dialog */}\n      <Dialog open={editDialogOpen} onOpenChange={setEditDialogOpen}>\n        <DialogContent data-testid=\"dialog-edit-category\">\n          <DialogHeader>\n            <DialogTitle>Edit Category</DialogTitle>\n            <DialogDescription>\n              Update category information\n            </DialogDescription>\n          </DialogHeader>\n          <Form {...editForm}>\n            <form onSubmit={editForm.handleSubmit(handleUpdate)} className=\"space-y-4\">\n              <FormField\n                control={editForm.control}\n                name=\"name\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Name</FormLabel>\n                    <FormControl>\n                      <Input\n                        {...field}\n                        placeholder=\"e.g., Restaurants\"\n                        data-testid=\"input-edit-category-name\"\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <FormField\n                control={editForm.control}\n                name=\"slug\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Slug</FormLabel>\n                    <FormControl>\n                      <Input\n                        {...field}\n                        placeholder=\"e.g., restaurants\"\n                        data-testid=\"input-edit-category-slug\"\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <FormField\n                control={editForm.control}\n                name=\"icon\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Icon</FormLabel>\n                    <FormControl>\n                      <Input\n                        {...field}\n                        placeholder=\"e.g., utensils\"\n                        data-testid=\"input-edit-category-icon\"\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <FormField\n                control={editForm.control}\n                name=\"logoUrl\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Logo URL (Optional)</FormLabel>\n                    <FormControl>\n                      <Input\n                        {...field}\n                        placeholder=\"https://example.com/logo.png\"\n                        data-testid=\"input-edit-category-logoUrl\"\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <FormField\n                control={editForm.control}\n                name=\"parentId\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Parent Category (Optional)</FormLabel>\n                    <Select\n                      value={field.value?.toString() || \"none\"}\n                      onValueChange={(value) => field.onChange(value === \"none\" ? null : parseInt(value))}\n                    >\n                      <FormControl>\n                        <SelectTrigger data-testid=\"select-edit-parent-category\">\n                          <SelectValue placeholder=\"Select parent category\" />\n                        </SelectTrigger>\n                      </FormControl>\n                      <SelectContent>\n                        <SelectItem value=\"none\">None (Top-level category)</SelectItem>\n                        {categories?.filter(c => !c.parentId && c.id !== selectedCategory?.id).map((category) => (\n                          <SelectItem key={category.id} value={category.id.toString()}>\n                            {category.name}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <DialogFooter>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={() => setEditDialogOpen(false)}\n                  data-testid=\"button-cancel-edit\"\n                >\n                  Cancel\n                </Button>\n                <Button\n                  type=\"submit\"\n                  disabled={updateMutation.isPending}\n                  data-testid=\"button-submit-edit\"\n                >\n                  {updateMutation.isPending ? \"Updating...\" : \"Update\"}\n                </Button>\n              </DialogFooter>\n            </form>\n          </Form>\n        </DialogContent>\n      </Dialog>\n\n      {/* Delete Alert Dialog */}\n      <AlertDialog open={deleteDialogOpen} onOpenChange={setDeleteDialogOpen}>\n        <AlertDialogContent data-testid=\"dialog-delete-category\">\n          <AlertDialogHeader>\n            <AlertDialogTitle>Are you sure?</AlertDialogTitle>\n            <AlertDialogDescription>\n              This will permanently delete the category \"{selectedCategory?.name}\".\n              This action cannot be undone.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel data-testid=\"button-cancel-delete\">\n              Cancel\n            </AlertDialogCancel>\n            <AlertDialogAction\n              onClick={handleDeleteConfirm}\n              disabled={deleteMutation.isPending}\n              data-testid=\"button-confirm-delete\"\n            >\n              {deleteMutation.isPending ? \"Deleting...\" : \"Delete\"}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </SidebarProvider>\n  );\n}\n","size_bytes":23123},"client/src/components/examples/Header.tsx":{"content":"import { Router } from \"wouter\";\nimport Header from \"../Header\";\n\nexport default function HeaderExample() {\n  return (\n    <Router>\n      <Header />\n    </Router>\n  );\n}\n","size_bytes":170},"client/src/pages/ListingDetail.tsx":{"content":"import { useRoute, Link } from \"wouter\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { MapPin, Phone, Mail, Globe, ExternalLink } from \"lucide-react\";\n\nexport default function ListingDetail() {\n  const [, params] = useRoute(\"/listing/:id\");\n  const id = params?.id || \"1\";\n\n  const listing = {\n    id,\n    title: \"The New York Times\",\n    category: \"News\",\n    country: \"United States\",\n    city: \"New York\",\n    description: \"The New York Times is an American daily newspaper based in New York City with a worldwide readership. Founded in 1851, the Times has since won 132 Pulitzer Prizes, more than any other newspaper, and has long been regarded within the industry as a national newspaper of record. It is ranked 18th in the world by circulation and 3rd in the U.S. The paper is owned by The New York Times Company.\",\n    contactPerson: \"Editorial Department\",\n    phone: \"+1 212 556 1234\",\n    email: \"news@nytimes.com\",\n    website: \"https://www.nytimes.com\",\n    featured: true,\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col\">\n      <Header />\n      \n      <main className=\"flex-1 py-8 md:py-12 bg-muted/30\">\n        <div className=\"max-w-5xl mx-auto px-4 md:px-6 lg:px-8\">\n          <nav className=\"text-sm text-muted-foreground mb-6\" data-testid=\"breadcrumb\">\n            <Link href=\"/\">Home</Link> / <Link href={`/category/${listing.category.toLowerCase()}`}>{listing.category}</Link> / <span className=\"text-foreground\">{listing.title}</span>\n          </nav>\n\n          <Card>\n            <CardContent className=\"p-6 md:p-8\">\n              <div className=\"flex items-start gap-4 mb-6\">\n                <div className=\"w-20 h-20 bg-muted rounded-lg flex items-center justify-center flex-shrink-0\">\n                  <span className=\"text-3xl font-bold text-muted-foreground\">\n                    {listing.title.charAt(0)}\n                  </span>\n                </div>\n                <div className=\"flex-1\">\n                  <div className=\"flex flex-wrap items-start justify-between gap-3 mb-2\">\n                    <h1 className=\"text-2xl md:text-3xl font-bold\">{listing.title}</h1>\n                    {listing.featured && (\n                      <Badge variant=\"default\">Featured</Badge>\n                    )}\n                  </div>\n                  <div className=\"flex flex-wrap gap-2 mb-3\">\n                    <Badge variant=\"secondary\">{listing.category}</Badge>\n                    <Badge variant=\"outline\" className=\"gap-1\">\n                      <MapPin className=\"w-3 h-3\" />\n                      {listing.city}, {listing.country}\n                    </Badge>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"space-y-6\">\n                <div>\n                  <h2 className=\"text-lg font-semibold mb-3\">About</h2>\n                  <p className=\"text-muted-foreground leading-relaxed\">\n                    {listing.description}\n                  </p>\n                </div>\n\n                <div className=\"border-t pt-6\">\n                  <h2 className=\"text-lg font-semibold mb-4\">Contact Information</h2>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"p-2 bg-muted rounded-md\">\n                        <Phone className=\"w-4 h-4 text-muted-foreground\" />\n                      </div>\n                      <div>\n                        <p className=\"text-xs text-muted-foreground mb-1\">Phone</p>\n                        <p className=\"font-medium\">{listing.phone}</p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"p-2 bg-muted rounded-md\">\n                        <Mail className=\"w-4 h-4 text-muted-foreground\" />\n                      </div>\n                      <div>\n                        <p className=\"text-xs text-muted-foreground mb-1\">Email</p>\n                        <p className=\"font-medium\">{listing.email}</p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center gap-3 md:col-span-2\">\n                      <div className=\"p-2 bg-muted rounded-md\">\n                        <Globe className=\"w-4 h-4 text-muted-foreground\" />\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"text-xs text-muted-foreground mb-1\">Website</p>\n                        <a\n                          href={listing.website}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"font-medium text-primary hover:underline truncate block\"\n                          data-testid=\"link-website\"\n                        >\n                          {listing.website}\n                        </a>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"border-t pt-6\">\n                  <Button asChild className=\"w-full gap-2\" data-testid=\"button-visit-website\">\n                    <a href={listing.website} target=\"_blank\" rel=\"noopener noreferrer\">\n                      Visit Website\n                      <ExternalLink className=\"w-4 h-4\" />\n                    </a>\n                  </Button>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </main>\n\n      <Footer />\n    </div>\n  );\n}\n","size_bytes":5768},"client/src/components/DivisionTabs.tsx":{"content":"import { useState } from \"react\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Link } from \"wouter\";\n\ninterface District {\n  name: string;\n  slug: string;\n}\n\ninterface Division {\n  name: string;\n  slug: string;\n  districts: District[];\n}\n\nconst divisions: Division[] = [\n  {\n    name: \"Dhaka\",\n    slug: \"dhaka\",\n    districts: [\n      { name: \"Dhaka\", slug: \"dhaka\" },\n      { name: \"Gazipur\", slug: \"gazipur\" },\n      { name: \"Narayanganj\", slug: \"narayanganj\" },\n      { name: \"Tangail\", slug: \"tangail\" },\n      { name: \"Manikganj\", slug: \"manikganj\" },\n      { name: \"Munshiganj\", slug: \"munshiganj\" },\n    ],\n  },\n  {\n    name: \"Chittagong\",\n    slug: \"chittagong\",\n    districts: [\n      { name: \"Chittagong\", slug: \"chittagong\" },\n      { name: \"Cox's Bazar\", slug: \"coxs-bazar\" },\n      { name: \"Comilla\", slug: \"comilla\" },\n      { name: \"Rangamati\", slug: \"rangamati\" },\n      { name: \"Bandarban\", slug: \"bandarban\" },\n      { name: \"Khagrachhari\", slug: \"khagrachhari\" },\n    ],\n  },\n  {\n    name: \"Rajshahi\",\n    slug: \"rajshahi\",\n    districts: [\n      { name: \"Rajshahi\", slug: \"rajshahi\" },\n      { name: \"Bogra\", slug: \"bogra\" },\n      { name: \"Pabna\", slug: \"pabna\" },\n      { name: \"Natore\", slug: \"natore\" },\n      { name: \"Sirajganj\", slug: \"sirajganj\" },\n      { name: \"Naogaon\", slug: \"naogaon\" },\n    ],\n  },\n  {\n    name: \"Khulna\",\n    slug: \"khulna\",\n    districts: [\n      { name: \"Khulna\", slug: \"khulna\" },\n      { name: \"Jessore\", slug: \"jessore\" },\n      { name: \"Satkhira\", slug: \"satkhira\" },\n      { name: \"Bagerhat\", slug: \"bagerhat\" },\n      { name: \"Kushtia\", slug: \"kushtia\" },\n      { name: \"Chuadanga\", slug: \"chuadanga\" },\n    ],\n  },\n];\n\nexport default function DivisionTabs() {\n  const [activeTab, setActiveTab] = useState(divisions[0].slug);\n\n  return (\n    <div className=\"w-full\" data-testid=\"component-division-tabs\">\n      <Tabs value={activeTab} onValueChange={setActiveTab}>\n        <TabsList className=\"w-full justify-start overflow-x-auto flex-wrap h-auto gap-1\">\n          {divisions.map((division) => (\n            <TabsTrigger\n              key={division.slug}\n              value={division.slug}\n              data-testid={`tab-${division.slug}`}\n            >\n              {division.name}\n            </TabsTrigger>\n          ))}\n        </TabsList>\n        {divisions.map((division) => (\n          <TabsContent key={division.slug} value={division.slug} className=\"mt-4\">\n            <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3\">\n              {division.districts.map((district) => (\n                <Link key={district.slug} href={`/location/${division.slug}/${district.slug}`}>\n                  <Card className=\"hover-elevate active-elevate-2 cursor-pointer\" data-testid={`card-district-${district.slug}`}>\n                    <CardContent className=\"p-3\">\n                      <p className=\"font-medium text-sm text-center\">{district.name}</p>\n                    </CardContent>\n                  </Card>\n                </Link>\n              ))}\n            </div>\n          </TabsContent>\n        ))}\n      </Tabs>\n    </div>\n  );\n}\n","size_bytes":3226},"client/src/components/examples/AdminSidebar.tsx":{"content":"import { Router } from \"wouter\";\nimport { SidebarProvider } from \"@/components/ui/sidebar\";\nimport AdminSidebar from \"../AdminSidebar\";\n\nexport default function AdminSidebarExample() {\n  const style = {\n    \"--sidebar-width\": \"16rem\",\n  };\n\n  return (\n    <Router>\n      <SidebarProvider style={style as React.CSSProperties}>\n        <div className=\"flex h-screen w-full\">\n          <AdminSidebar />\n          <div className=\"flex-1 p-4\">\n            <p className=\"text-muted-foreground\">Main content area</p>\n          </div>\n        </div>\n      </SidebarProvider>\n    </Router>\n  );\n}\n","size_bytes":588},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { storage } from \"./storage\";\nimport { insertSubmissionSchema, insertCategorySchema, insertPromotionalPackageSchema } from \"@shared/schema\";\nimport bcrypt from \"bcrypt\";\nimport crypto from \"crypto\";\nimport { generateResetToken, hashToken } from \"./utils/auth\";\nimport \"./types\";\n\nexport function registerRoutes(app: Express) {\n  // Categories\n  app.get(\"/api/categories\", async (req, res) => {\n    try {\n      // Support filtering by parentId (for subcategories)\n      let parentId: number | null | undefined = undefined;\n      if (req.query.parentId === 'null') {\n        parentId = null; // Root categories only\n      } else if (req.query.parentId) {\n        const parsed = parseInt(req.query.parentId as string);\n        if (isNaN(parsed)) {\n          return res.status(400).json({ error: \"Invalid parentId: must be a number or 'null'\" });\n        }\n        parentId = parsed;\n      }\n      \n      // Support filtering by approval status\n      let approved: boolean | undefined = undefined;\n      if (req.query.approved === 'true') {\n        approved = true;\n      } else if (req.query.approved === 'false') {\n        approved = false;\n      } else if (req.query.approved !== undefined) {\n        return res.status(400).json({ error: \"Invalid approved: must be 'true' or 'false'\" });\n      }\n      \n      const categories = await storage.getCategories({ parentId, approved });\n      res.json(categories);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch categories\" });\n    }\n  });\n\n  app.get(\"/api/categories/:slug\", async (req, res) => {\n    try {\n      const category = await storage.getCategoryBySlug(req.params.slug);\n      if (!category) {\n        return res.status(404).json({ error: \"Category not found\" });\n      }\n      res.json(category);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch category\" });\n    }\n  });\n\n  // Countries\n  app.get(\"/api/countries\", async (req, res) => {\n    try {\n      const countries = await storage.getCountries();\n      res.json(countries);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch countries\" });\n    }\n  });\n\n  app.get(\"/api/countries/:slug\", async (req, res) => {\n    try {\n      const country = await storage.getCountryBySlug(req.params.slug);\n      if (!country) {\n        return res.status(404).json({ error: \"Country not found\" });\n      }\n      res.json(country);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch country\" });\n    }\n  });\n\n  // Regions\n  app.get(\"/api/regions\", async (req, res) => {\n    try {\n      const countryId = req.query.countryId ? parseInt(req.query.countryId as string) : undefined;\n      const regions = countryId\n        ? await storage.getRegionsByCountry(countryId)\n        : await storage.getRegions();\n      res.json(regions);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch regions\" });\n    }\n  });\n\n  // Cities\n  app.get(\"/api/cities\", async (req, res) => {\n    try {\n      const countryId = req.query.countryId ? parseInt(req.query.countryId as string) : undefined;\n      const regionId = req.query.regionId ? parseInt(req.query.regionId as string) : undefined;\n      \n      let isCapital: boolean | undefined = undefined;\n      if (req.query.isCapital === 'true') {\n        isCapital = true;\n      } else if (req.query.isCapital === 'false') {\n        isCapital = false;\n      }\n      \n      const cities = await storage.getCities({ countryId, regionId, isCapital });\n      res.json(cities);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch cities\" });\n    }\n  });\n\n  // Listings\n  app.get(\"/api/listings\", async (req, res) => {\n    try {\n      const options: any = {};\n      if (req.query.categoryId) options.categoryId = parseInt(req.query.categoryId as string);\n      if (req.query.countryId) options.countryId = parseInt(req.query.countryId as string);\n      if (req.query.regionId) options.regionId = parseInt(req.query.regionId as string);\n      if (req.query.featured) options.featured = req.query.featured === 'true';\n      if (req.query.limit) options.limit = parseInt(req.query.limit as string);\n\n      const listings = await storage.getListings(options);\n      res.json(listings);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch listings\" });\n    }\n  });\n\n  app.get(\"/api/listings/:id\", async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      const listing = await storage.getListingById(id);\n      if (!listing) {\n        return res.status(404).json({ error: \"Listing not found\" });\n      }\n      \n      // Increment view count\n      await storage.incrementListingViews(id);\n      \n      res.json(listing);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch listing\" });\n    }\n  });\n\n  // Submissions\n  app.post(\"/api/submissions\", async (req, res) => {\n    try {\n      const validatedData = insertSubmissionSchema.parse(req.body);\n      const submission = await storage.createSubmission(validatedData);\n      res.status(201).json(submission);\n    } catch (error: any) {\n      res.status(400).json({ error: error.message || \"Failed to create submission\" });\n    }\n  });\n\n  app.get(\"/api/submissions\", async (req, res) => {\n    try {\n      // Check if user is authenticated as admin\n      if (!req.session?.adminId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n\n      const status = req.query.status as string | undefined;\n      const page = req.query.page ? parseInt(req.query.page as string, 10) : 1;\n      const pageSize = req.query.pageSize ? parseInt(req.query.pageSize as string, 10) : 10;\n      \n      // Validate pagination parameters\n      if (isNaN(page) || page < 1) {\n        return res.status(400).json({ error: \"Invalid page parameter\" });\n      }\n      if (isNaN(pageSize) || pageSize < 1 || pageSize > 100) {\n        return res.status(400).json({ error: \"Invalid pageSize parameter (must be 1-100)\" });\n      }\n      \n      const result = await storage.getSubmissions(status, page, pageSize);\n      res.json(result);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch submissions\" });\n    }\n  });\n\n  app.patch(\"/api/submissions/:id/status\", async (req, res) => {\n    try {\n      // Check if user is authenticated as admin\n      if (!req.session?.adminId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n\n      const id = parseInt(req.params.id);\n      const { status } = req.body;\n\n      if (!['pending', 'approved', 'rejected'].includes(status)) {\n        return res.status(400).json({ error: \"Invalid status\" });\n      }\n\n      // If approved, create a listing from the submission\n      if (status === 'approved') {\n        const submission = await storage.getSubmissionById(id);\n        if (submission) {\n          const newListing: any = {\n            title: submission.businessName,\n            description: submission.description,\n            categoryId: submission.categoryId,\n            countryId: submission.countryId,\n            regionId: submission.regionId,\n            cityId: submission.cityId || undefined,\n            contactPerson: submission.contactPerson,\n            phone: submission.phone,\n            email: submission.email,\n            website: submission.website || undefined,\n            imageUrl: submission.imageUrl || undefined,\n            videoUrl: submission.videoUrl || undefined,\n            listingType: submission.listingType,\n            packageId: submission.packageId || undefined,\n          };\n\n          // Calculate expiration if promotional\n          if (submission.listingType === 'promotional' && submission.packageId) {\n            const pkg = await storage.getPromotionalPackageById(submission.packageId);\n            if (pkg) {\n              const expiresAt = new Date();\n              expiresAt.setDate(expiresAt.getDate() + pkg.durationDays);\n              newListing.expiresAt = expiresAt;\n            }\n          }\n\n          await storage.createListing(newListing);\n        }\n      }\n\n      const updatedSubmission = await storage.updateSubmissionStatus(id, status);\n      if (!updatedSubmission) {\n        return res.status(404).json({ error: \"Submission not found\" });\n      }\n\n      res.json(updatedSubmission);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to update submission\" });\n    }\n  });\n\n  // Promotional Packages\n  app.get(\"/api/promotional-packages\", async (req, res) => {\n    try {\n      const packages = await storage.getActivePromotionalPackages();\n      res.json(packages);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch promotional packages\" });\n    }\n  });\n\n  // Admin Routes - Promotional Packages\n  app.get(\"/api/admin/promotional-packages\", async (req, res) => {\n    try {\n      if (!req.session?.adminId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n      const packages = await storage.getPromotionalPackages();\n      res.json(packages);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch promotional packages\" });\n    }\n  });\n\n  app.post(\"/api/admin/promotional-packages\", async (req, res) => {\n    try {\n      if (!req.session?.adminId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n      const validatedData = insertPromotionalPackageSchema.parse(req.body);\n      const pkg = await storage.createPromotionalPackage(validatedData);\n      res.status(201).json(pkg);\n    } catch (error: any) {\n      res.status(400).json({ error: error.message || \"Failed to create promotional package\" });\n    }\n  });\n\n  app.patch(\"/api/admin/promotional-packages/:id\", async (req, res) => {\n    try {\n      if (!req.session?.adminId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n      const id = parseInt(req.params.id);\n      const pkg = await storage.updatePromotionalPackage(id, req.body);\n      if (!pkg) {\n        return res.status(404).json({ error: \"Package not found\" });\n      }\n      res.json(pkg);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to update promotional package\" });\n    }\n  });\n\n  app.delete(\"/api/admin/promotional-packages/:id\", async (req, res) => {\n    try {\n      if (!req.session?.adminId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n      const id = parseInt(req.params.id);\n      await storage.deletePromotionalPackage(id);\n      res.json({ success: true });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to delete promotional package\" });\n    }\n  });\n\n  // Admin Routes - Categories\n  app.post(\"/api/admin/categories\", async (req, res) => {\n    try {\n      if (!req.session?.adminId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n      const validatedData = insertCategorySchema.parse(req.body);\n      const category = await storage.createCategory(validatedData);\n      res.status(201).json(category);\n    } catch (error: any) {\n      res.status(400).json({ error: error.message || \"Failed to create category\" });\n    }\n  });\n\n  app.patch(\"/api/admin/categories/:id\", async (req, res) => {\n    try {\n      if (!req.session?.adminId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n      const id = parseInt(req.params.id);\n      const category = await storage.updateCategory(id, req.body);\n      if (!category) {\n        return res.status(404).json({ error: \"Category not found\" });\n      }\n      res.json(category);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to update category\" });\n    }\n  });\n\n  app.delete(\"/api/admin/categories/:id\", async (req, res) => {\n    try {\n      if (!req.session?.adminId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n      const id = parseInt(req.params.id);\n      await storage.deleteCategory(id);\n      res.json({ success: true });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to delete category\" });\n    }\n  });\n\n  // Admin Routes - Category Approval\n  app.patch(\"/api/admin/categories/:id/approve\", async (req, res) => {\n    try {\n      if (!req.session?.adminId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n\n      const id = parseInt(req.params.id);\n      if (isNaN(id)) {\n        return res.status(400).json({ error: \"Invalid category ID\" });\n      }\n\n      const { approved } = req.body;\n      if (typeof approved !== 'boolean') {\n        return res.status(400).json({ error: \"Approved must be a boolean value\" });\n      }\n\n      const category = await storage.updateCategory(id, { approved });\n      if (!category) {\n        return res.status(404).json({ error: \"Category not found\" });\n      }\n\n      res.json(category);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to update category approval status\" });\n    }\n  });\n\n  // Admin Routes - Listing Positioning\n  app.post(\"/api/admin/listings/:id/position\", async (req, res) => {\n    try {\n      if (!req.session?.adminId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n      \n      const listingId = parseInt(req.params.id);\n      const { position, durationHours } = req.body;\n\n      // Validate position is a positive integer\n      if (typeof position !== 'number' || position < 1 || !Number.isInteger(position)) {\n        return res.status(400).json({ error: \"Position must be a positive integer\" });\n      }\n\n      // Get the listing to check its category\n      const listing = await storage.getListingById(listingId);\n      if (!listing) {\n        return res.status(404).json({ error: \"Listing not found\" });\n      }\n\n      // Check if position is already occupied in the same category\n      const categoryListings = await storage.getListings({ categoryId: listing.categoryId });\n      const existingPosition = categoryListings.find(\n        l => l.id !== listingId && l.position === position\n      );\n      if (existingPosition) {\n        return res.status(409).json({ \n          error: `Position ${position} is already occupied by listing #${existingPosition.id}` \n        });\n      }\n\n      // Calculate expiry if duration is provided\n      let expiresAt: Date | null = null;\n      if (durationHours && durationHours > 0) {\n        expiresAt = new Date(Date.now() + durationHours * 60 * 60 * 1000);\n      }\n\n      const updatedListing = await storage.setListingPosition(listingId, position, expiresAt);\n      res.json(updatedListing);\n    } catch (error: any) {\n      if (error.message?.includes('unique constraint')) {\n        res.status(409).json({ error: \"Position already occupied in this category\" });\n      } else {\n        res.status(500).json({ error: \"Failed to set listing position\" });\n      }\n    }\n  });\n\n  app.delete(\"/api/admin/listings/:id/position\", async (req, res) => {\n    try {\n      if (!req.session?.adminId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n\n      const listingId = parseInt(req.params.id);\n      const listing = await storage.clearListingPosition(listingId);\n      \n      if (!listing) {\n        return res.status(404).json({ error: \"Listing not found\" });\n      }\n\n      res.json(listing);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to clear listing position\" });\n    }\n  });\n\n  app.post(\"/api/admin/listings/cleanup-positions\", async (req, res) => {\n    try {\n      if (!req.session?.adminId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n\n      const count = await storage.clearExpiredPositions();\n      res.json({ success: true, clearedCount: count });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to cleanup expired positions\" });\n    }\n  });\n\n  // Stats\n  app.get(\"/api/admin/stats\", async (req, res) => {\n    try {\n      if (!req.session?.adminId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n      const stats = await storage.getStats();\n      res.json(stats);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch stats\" });\n    }\n  });\n\n  // Admin Authentication\n  app.post(\"/api/admin/login\", async (req, res) => {\n    try {\n      const { email, password } = req.body;\n\n      if (!email || !password) {\n        return res.status(400).json({ error: \"Email and password required\" });\n      }\n\n      const admin = await storage.getAdminByEmail(email);\n      if (!admin) {\n        return res.status(401).json({ error: \"Invalid credentials\" });\n      }\n\n      const isValid = await bcrypt.compare(password, admin.passwordHash);\n      if (!isValid) {\n        return res.status(401).json({ error: \"Invalid credentials\" });\n      }\n\n      // Regenerate session to prevent session fixation\n      await new Promise<void>((resolve, reject) => {\n        req.session.regenerate((err: any) => {\n          if (err) reject(err);\n          else resolve();\n        });\n      });\n\n      req.session.adminId = admin.id;\n      req.session.email = admin.email;\n      req.session.username = admin.username;\n\n      res.json({ success: true, email: admin.email, username: admin.username });\n    } catch (error) {\n      res.status(500).json({ error: \"Login failed\" });\n    }\n  });\n\n  app.post(\"/api/admin/logout\", async (req, res) => {\n    req.session.destroy((err: any) => {\n      if (err) {\n        return res.status(500).json({ error: \"Logout failed\" });\n      }\n      res.json({ success: true });\n    });\n  });\n\n  app.get(\"/api/admin/session\", async (req, res) => {\n    if (req.session?.adminId) {\n      res.json({ authenticated: true, email: req.session.email, username: req.session.username });\n    } else {\n      res.json({ authenticated: false });\n    }\n  });\n\n  app.get(\"/api/admin/users\", async (req, res) => {\n    try {\n      if (!req.session?.adminId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n      const users = await storage.getAllUsers();\n      res.json(users);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch users\" });\n    }\n  });\n\n  // Password Change\n  app.post(\"/api/admin/change-password\", async (req, res) => {\n    try {\n      if (!req.session?.adminId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n\n      const { currentPassword, newPassword } = req.body;\n\n      if (!currentPassword || !newPassword) {\n        return res.status(400).json({ error: \"Current and new password required\" });\n      }\n\n      if (newPassword.length < 6) {\n        return res.status(400).json({ error: \"New password must be at least 6 characters\" });\n      }\n\n      const admin = await storage.getAdminByEmail(req.session.email!);\n      if (!admin) {\n        return res.status(404).json({ error: \"Admin not found\" });\n      }\n\n      const isValid = await bcrypt.compare(currentPassword, admin.passwordHash);\n      if (!isValid) {\n        return res.status(401).json({ error: \"Current password is incorrect\" });\n      }\n\n      const newPasswordHash = await bcrypt.hash(newPassword, 10);\n      await storage.updateAdminPassword(admin.id, newPasswordHash);\n\n      res.json({ success: true, message: \"Password changed successfully\" });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to change password\" });\n    }\n  });\n\n  // Password Recovery - Request Reset\n  app.post(\"/api/admin/forgot-password\", async (req, res) => {\n    try {\n      const { email } = req.body;\n\n      if (!email) {\n        return res.status(400).json({ error: \"Email required\" });\n      }\n\n      const admin = await storage.getAdminByEmail(email);\n      \n      // Always return success to prevent email enumeration\n      if (!admin) {\n        return res.json({ success: true, message: \"If the email exists, a reset code will be sent\" });\n      }\n\n      // Generate cryptographically secure reset token with hash\n      const { token: resetToken, hash: hashedToken, expiry } = generateResetToken(0.25); // 15 minutes\n      \n      await storage.setPasswordResetToken(email, hashedToken, expiry);\n\n      // TODO: In production, send the resetToken via email to the user\n      // The token would be included in a password reset link\n      // For development, the token can be retrieved from the database if needed\n      \n      res.json({ \n        success: true, \n        message: \"If the email exists, a reset code will be sent\"\n      });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to process password reset\" });\n    }\n  });\n\n  // Password Recovery - Reset with Token\n  app.post(\"/api/admin/reset-password\", async (req, res) => {\n    try {\n      const { token, newPassword } = req.body;\n\n      if (!token || !newPassword) {\n        return res.status(400).json({ error: \"Token and new password required\" });\n      }\n\n      if (newPassword.length < 6) {\n        return res.status(400).json({ error: \"New password must be at least 6 characters\" });\n      }\n\n      // Hash the provided token to compare with stored hashed version\n      const hashedToken = hashToken(token);\n      \n      const admin = await storage.getAdminByResetToken(hashedToken);\n      if (!admin) {\n        return res.status(400).json({ error: \"Invalid or expired reset token\" });\n      }\n\n      const newPasswordHash = await bcrypt.hash(newPassword, 10);\n      await storage.updateAdminPassword(admin.id, newPasswordHash);\n\n      res.json({ success: true, message: \"Password reset successfully\" });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to reset password\" });\n    }\n  });\n\n  // User Authentication Routes\n  app.post(\"/api/auth/signup\", async (req, res) => {\n    try {\n      const { email, password, firstName, lastName, phone } = req.body;\n\n      if (!email || !password) {\n        return res.status(400).json({ error: \"Email and password required\" });\n      }\n\n      if (password.length < 6) {\n        return res.status(400).json({ error: \"Password must be at least 6 characters\" });\n      }\n\n      // Check if user already exists\n      const existingUser = await storage.getUserByEmail(email);\n      if (existingUser) {\n        return res.status(409).json({ error: \"Email already registered\" });\n      }\n\n      // Hash password\n      const passwordHash = await bcrypt.hash(password, 10);\n\n      // Create user\n      const user = await storage.createUser({\n        email,\n        passwordHash,\n        firstName,\n        lastName,\n        phone\n      });\n\n      // Generate verification token\n      const { token: verificationToken, hash: verificationTokenHash, expiry: verificationExpiry } = generateResetToken(24); // 24 hours\n\n      await storage.setVerificationToken(user.id, verificationTokenHash, verificationExpiry);\n\n      // In production, send verification email here\n      // For now, log the token (in development only)\n      if (process.env.NODE_ENV === 'development') {\n        console.log(`[DEV] Verification token for ${email}: ${verificationToken}`);\n      }\n\n      // Auto-login after signup\n      await new Promise<void>((resolve, reject) => {\n        req.session.regenerate((err: any) => {\n          if (err) reject(err);\n          else resolve();\n        });\n      });\n\n      req.session.userId = user.id;\n      req.session.userEmail = user.email;\n\n      res.status(201).json({\n        success: true,\n        message: \"Account created successfully. Please check your email to verify your account.\",\n        user: {\n          id: user.id,\n          email: user.email,\n          firstName: user.firstName,\n          lastName: user.lastName,\n          emailVerified: user.emailVerified\n        }\n      });\n    } catch (error) {\n      res.status(500).json({ error: \"Signup failed\" });\n    }\n  });\n\n  app.post(\"/api/auth/login\", async (req, res) => {\n    try {\n      const { email, password } = req.body;\n\n      if (!email || !password) {\n        return res.status(400).json({ error: \"Email and password required\" });\n      }\n\n      const user = await storage.getUserByEmail(email);\n      if (!user) {\n        return res.status(401).json({ error: \"Invalid credentials\" });\n      }\n\n      const isValid = await bcrypt.compare(password, user.passwordHash);\n      if (!isValid) {\n        return res.status(401).json({ error: \"Invalid credentials\" });\n      }\n\n      // Regenerate session to prevent session fixation\n      await new Promise<void>((resolve, reject) => {\n        req.session.regenerate((err: any) => {\n          if (err) reject(err);\n          else resolve();\n        });\n      });\n\n      req.session.userId = user.id;\n      req.session.userEmail = user.email;\n\n      res.json({\n        success: true,\n        user: {\n          id: user.id,\n          email: user.email,\n          firstName: user.firstName,\n          lastName: user.lastName,\n          emailVerified: user.emailVerified\n        }\n      });\n    } catch (error) {\n      res.status(500).json({ error: \"Login failed\" });\n    }\n  });\n\n  app.post(\"/api/auth/logout\", async (req, res) => {\n    req.session.destroy((err: any) => {\n      if (err) {\n        return res.status(500).json({ error: \"Logout failed\" });\n      }\n      res.json({ success: true });\n    });\n  });\n\n  app.get(\"/api/auth/session\", async (req, res) => {\n    if (req.session?.userId) {\n      const user = await storage.getUserById(req.session.userId);\n      if (user) {\n        res.json({\n          authenticated: true,\n          user: {\n            id: user.id,\n            email: user.email,\n            firstName: user.firstName,\n            lastName: user.lastName,\n            emailVerified: user.emailVerified\n          }\n        });\n      } else {\n        res.json({ authenticated: false });\n      }\n    } else {\n      res.json({ authenticated: false });\n    }\n  });\n\n  app.post(\"/api/auth/verify-email\", async (req, res) => {\n    try {\n      const { token } = req.body;\n\n      if (!token) {\n        return res.status(400).json({ error: \"Verification token required\" });\n      }\n\n      const tokenHash = hashToken(token);\n      const user = await storage.getUserByVerificationToken(tokenHash);\n\n      if (!user) {\n        return res.status(400).json({ error: \"Invalid or expired verification token\" });\n      }\n\n      await storage.verifyUserEmail(user.id);\n\n      res.json({ success: true, message: \"Email verified successfully\" });\n    } catch (error) {\n      res.status(500).json({ error: \"Email verification failed\" });\n    }\n  });\n\n  app.post(\"/api/auth/forgot-password\", async (req, res) => {\n    try {\n      const { email } = req.body;\n\n      if (!email) {\n        return res.status(400).json({ error: \"Email required\" });\n      }\n\n      const user = await storage.getUserByEmail(email);\n      if (user) {\n        const { token: resetToken, hash: resetTokenHash, expiry: resetExpiry } = generateResetToken(1); // 1 hour\n\n        await storage.setUserPasswordResetToken(email, resetTokenHash, resetExpiry);\n\n        // In production, send reset email here\n        // For now, log the token (in development only)\n        if (process.env.NODE_ENV === 'development') {\n          console.log(`[DEV] Password reset token for ${email}: ${resetToken}`);\n        }\n      }\n\n      res.json({\n        success: true,\n        message: \"If the email exists, a reset link will be sent\"\n      });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to process password reset\" });\n    }\n  });\n\n  app.post(\"/api/auth/reset-password\", async (req, res) => {\n    try {\n      const { token, newPassword } = req.body;\n\n      if (!token || !newPassword) {\n        return res.status(400).json({ error: \"Token and new password required\" });\n      }\n\n      if (newPassword.length < 6) {\n        return res.status(400).json({ error: \"New password must be at least 6 characters\" });\n      }\n\n      const tokenHash = hashToken(token);\n      const user = await storage.getUserByPasswordResetToken(tokenHash);\n\n      if (!user) {\n        return res.status(400).json({ error: \"Invalid or expired reset token\" });\n      }\n\n      const newPasswordHash = await bcrypt.hash(newPassword, 10);\n      await storage.updateUserPassword(user.id, newPasswordHash);\n\n      res.json({ success: true, message: \"Password reset successfully\" });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to reset password\" });\n    }\n  });\n\n  // Database Schema Export (CREATE TABLE statements)\n  app.get(\"/api/admin/export-schema\", async (req, res) => {\n    try {\n      if (!req.session?.adminId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n\n      const fs = await import('fs/promises');\n      const path = await import('path');\n      \n      // Read ALL migration files and combine them\n      const migrationsDir = path.join(process.cwd(), 'migrations');\n      const files = await fs.readdir(migrationsDir);\n      const sqlFiles = files\n        .filter(f => f.endsWith('.sql'))\n        .sort(); // Sort to get them in order\n      \n      let combinedSchema = '';\n      for (const file of sqlFiles) {\n        const content = await fs.readFile(path.join(migrationsDir, file), 'utf-8');\n        combinedSchema += content + '\\n\\n';\n      }\n      \n      res.type('text/plain').send(combinedSchema);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to export schema\" });\n    }\n  });\n\n  // Database Export Tool\n  app.get(\"/api/admin/export-sql\", async (req, res) => {\n    try {\n      if (!req.session?.adminId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n\n      const sqlParts: string[] = [];\n\n      // Categories\n      const categories = await storage.getCategories({});\n      if (categories.length > 0) {\n        const sortedCategories = [...categories].sort((a, b) => {\n          if (!a.parentId && b.parentId) return -1;\n          if (a.parentId && !b.parentId) return 1;\n          return 0;\n        });\n\n        const categorySql = sortedCategories.map(cat => {\n          const parentIdValue = cat.parentId ? cat.parentId : 'NULL';\n          const countValue = cat.count || 0;\n          const name = cat.name.replace(/'/g, \"''\");\n          return `INSERT INTO categories (name, slug, icon, parent_id, count)\nVALUES ('${name}', '${cat.slug}', '${cat.icon}', ${parentIdValue}, ${countValue})\nON CONFLICT (slug) DO UPDATE SET name = EXCLUDED.name, icon = EXCLUDED.icon, parent_id = EXCLUDED.parent_id, count = EXCLUDED.count;`;\n        });\n\n        sqlParts.push(`-- ========================================\n-- CATEGORIES (${categories.length} total)\n-- ========================================\n${categorySql.join('\\n\\n')}`);\n      }\n\n      // Countries\n      const countries = await storage.getCountries();\n      if (countries.length > 0) {\n        const countrySql = countries.map(c => {\n          const name = c.name.replace(/'/g, \"''\");\n          const code = c.code ? `'${c.code}'` : 'NULL';\n          const continent = c.continent ? `'${c.continent.replace(/'/g, \"''\")}'` : 'NULL';\n          return `INSERT INTO countries (name, slug, flag, code, continent)\nVALUES ('${name}', '${c.slug}', '${c.flag}', ${code}, ${continent})\nON CONFLICT (slug) DO UPDATE SET name = EXCLUDED.name, flag = EXCLUDED.flag, code = EXCLUDED.code, continent = EXCLUDED.continent;`;\n        });\n        sqlParts.push(`\\n\\n-- ========================================\n-- COUNTRIES (${countries.length} total)\n-- ========================================\n${countrySql.join('\\n\\n')}`);\n      }\n\n      // Regions\n      const regions = await storage.getRegions();\n      if (regions.length > 0) {\n        const regionSql = regions.map(r => {\n          const name = r.name.replace(/'/g, \"''\");\n          const type = r.type ? `'${r.type.replace(/'/g, \"''\")}'` : 'NULL';\n          return `INSERT INTO regions (name, slug, country_id, type)\nVALUES ('${name}', '${r.slug}', ${r.countryId}, ${type})\nON CONFLICT (slug) DO UPDATE SET name = EXCLUDED.name, country_id = EXCLUDED.country_id, type = EXCLUDED.type;`;\n        });\n        sqlParts.push(`\\n\\n-- ========================================\n-- REGIONS (${regions.length} total)\n-- ========================================\n${regionSql.join('\\n\\n')}`);\n      }\n\n      // Cities\n      const cities = await storage.getCities();\n      if (cities.length > 0) {\n        const citySql = cities.map(c => {\n          const name = c.name.replace(/'/g, \"''\");\n          const regionId = c.regionId || 'NULL';\n          const population = c.population || 'NULL';\n          const isCapital = c.isCapital ? 'true' : 'false';\n          const latitude = c.latitude || 'NULL';\n          const longitude = c.longitude || 'NULL';\n          return `INSERT INTO cities (name, slug, country_id, region_id, population, is_capital, latitude, longitude)\nVALUES ('${name}', '${c.slug}', ${c.countryId}, ${regionId}, ${population}, ${isCapital}, ${latitude}, ${longitude})\nON CONFLICT (slug) DO UPDATE SET name = EXCLUDED.name, country_id = EXCLUDED.country_id, region_id = EXCLUDED.region_id, population = EXCLUDED.population, is_capital = EXCLUDED.is_capital, latitude = EXCLUDED.latitude, longitude = EXCLUDED.longitude;`;\n        });\n        sqlParts.push(`\\n\\n-- ========================================\n-- CITIES (${cities.length} total)\n-- ========================================\n${citySql.join('\\n\\n')}`);\n      }\n\n      // Promotional Packages\n      const packages = await storage.getPromotionalPackages();\n      if (packages.length > 0) {\n        const packageSql = packages.map(p => {\n          const name = p.name.replace(/'/g, \"''\");\n          const featuresStr = JSON.stringify(p.features).replace(/'/g, \"''\");\n          return `INSERT INTO promotional_packages (name, price, duration_days, features, active)\nVALUES ('${name}', ${p.price}, ${p.durationDays}, '${featuresStr}'::jsonb, ${p.active})\nON CONFLICT (name) DO UPDATE SET price = EXCLUDED.price, duration_days = EXCLUDED.duration_days, features = EXCLUDED.features, active = EXCLUDED.active;`;\n        });\n        sqlParts.push(`\\n\\n-- ========================================\n-- PROMOTIONAL PACKAGES (${packages.length} total)\n-- ========================================\n${packageSql.join('\\n\\n')}`);\n      }\n\n      // Sequence resets - CRITICAL for preventing ID collisions!\n      const sequenceResets = [];\n      if (categories.length > 0) {\n        const maxId = Math.max(...categories.map(c => c.id));\n        sequenceResets.push(`SELECT setval('categories_id_seq', ${maxId}, true);`);\n      }\n      if (countries.length > 0) {\n        const maxId = Math.max(...countries.map(c => c.id));\n        sequenceResets.push(`SELECT setval('countries_id_seq', ${maxId}, true);`);\n      }\n      if (regions.length > 0) {\n        const maxId = Math.max(...regions.map(r => r.id));\n        sequenceResets.push(`SELECT setval('regions_id_seq', ${maxId}, true);`);\n      }\n      if (cities.length > 0) {\n        const maxId = Math.max(...cities.map(c => c.id));\n        sequenceResets.push(`SELECT setval('cities_id_seq', ${maxId}, true);`);\n      }\n      if (packages.length > 0) {\n        const maxId = Math.max(...packages.map(p => p.id));\n        sequenceResets.push(`SELECT setval('promotional_packages_id_seq', ${maxId}, true);`);\n      }\n\n      const fullSql = `-- ========================================\n-- REFERENCE DATA EXPORT\n-- Generated: ${new Date().toLocaleString()}\n-- ========================================\n-- Total: ${categories.length} categories, ${countries.length} countries, \n--        ${regions.length} regions, ${cities.length} cities, ${packages.length} packages\n--\n-- This SQL uses ON CONFLICT to safely insert/update data\n-- Includes sequence resets to prevent ID collisions\n-- Safe to run multiple times\n-- ========================================\n\nBEGIN;\n\n${sqlParts.join('\\n')}\n\n-- ========================================\n-- RESET SEQUENCES (Prevents ID Collisions!)\n-- ========================================\n${sequenceResets.join('\\n')}\n\nCOMMIT;\n\n-- ========================================\n-- IMPORT COMPLETE!\n-- ========================================`;\n\n      res.type('text/plain').send(fullSql);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to generate SQL export\" });\n    }\n  });\n}\n","size_bytes":36093},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2263},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/components/examples/StatsBar.tsx":{"content":"import StatsBar from \"../StatsBar\";\n\nexport default function StatsBarExample() {\n  return <StatsBar />;\n}\n","size_bytes":106},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n  \" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          // Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color.\n          \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n        secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n        ghost: \"border border-transparent\",\n      },\n      // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n      // inside buttons. With a min-height they will look appropriate with small amounts of content,\n      // but will expand to fit large amounts of content.\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":2359},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"client/src/components/Footer.tsx":{"content":"import { Link } from \"wouter\";\nimport { Separator } from \"@/components/ui/separator\";\n\nexport default function Footer() {\n  const currentYear = new Date().getFullYear();\n\n  const categories = [\n    { label: \"News\", href: \"/category/news\" },\n    { label: \"Business\", href: \"/category/business\" },\n    { label: \"Education\", href: \"/category/education\" },\n    { label: \"Technology\", href: \"/category/technology\" },\n  ];\n\n  const countries = [\n    { label: \"United States\", href: \"/location/usa\" },\n    { label: \"United Kingdom\", href: \"/location/uk\" },\n    { label: \"Canada\", href: \"/location/canada\" },\n    { label: \"Australia\", href: \"/location/australia\" },\n  ];\n\n  return (\n    <footer className=\"bg-muted/30 border-t mt-auto\">\n      <div className=\"max-w-7xl mx-auto px-4 md:px-6 lg:px-8 py-8\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8\">\n          <div>\n            <h3 className=\"font-semibold mb-3\">About</h3>\n            <p className=\"text-sm text-muted-foreground\">\n              The USA Mirror - Your global directory featuring listings across multiple countries and regions.\n            </p>\n          </div>\n          <div>\n            <h3 className=\"font-semibold mb-3\">Categories</h3>\n            <ul className=\"space-y-2\">\n              {categories.map((item) => (\n                <li key={item.href}>\n                  <Link href={item.href}>\n                    <span className=\"text-sm text-muted-foreground hover:text-foreground transition-colors cursor-pointer\" data-testid={`link-footer-${item.label.toLowerCase()}`}>\n                      {item.label}\n                    </span>\n                  </Link>\n                </li>\n              ))}\n            </ul>\n          </div>\n          <div>\n            <h3 className=\"font-semibold mb-3\">Countries</h3>\n            <ul className=\"space-y-2\">\n              {countries.map((item) => (\n                <li key={item.href}>\n                  <Link href={item.href}>\n                    <span className=\"text-sm text-muted-foreground hover:text-foreground transition-colors cursor-pointer\" data-testid={`link-footer-country-${item.label.toLowerCase().replace(/\\s+/g, '-')}`}>\n                      {item.label}\n                    </span>\n                  </Link>\n                </li>\n              ))}\n            </ul>\n          </div>\n          <div>\n            <h3 className=\"font-semibold mb-3\">Quick Links</h3>\n            <ul className=\"space-y-2\">\n              <li>\n                <Link href=\"/submit\">\n                  <span className=\"text-sm text-muted-foreground hover:text-foreground transition-colors cursor-pointer\" data-testid=\"link-footer-submit\">\n                    Submit Listing\n                  </span>\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/admin\">\n                  <span className=\"text-sm text-muted-foreground hover:text-foreground transition-colors cursor-pointer\" data-testid=\"link-footer-admin\">\n                    Admin Login\n                  </span>\n                </Link>\n              </li>\n            </ul>\n          </div>\n        </div>\n        <Separator className=\"mb-6\" />\n        <div className=\"text-center text-sm text-muted-foreground\">\n          <p>&copy; {currentYear} The USA Mirror. All rights reserved.</p>\n        </div>\n      </div>\n    </footer>\n  );\n}\n","size_bytes":3365},"client/src/components/examples/ListingCard.tsx":{"content":"import { Router } from \"wouter\";\nimport ListingCard from \"../ListingCard\";\n\nexport default function ListingCardExample() {\n  return (\n    <Router>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4\">\n        <ListingCard\n          id=\"1\"\n          title=\"Daily Prothom Alo\"\n          category=\"News\"\n          location=\"Dhaka\"\n          description=\"Leading Bengali daily newspaper providing comprehensive news coverage across Bangladesh and the world.\"\n          featured\n        />\n        <ListingCard\n          id=\"2\"\n          title=\"Bangladesh Bank\"\n          category=\"Banks\"\n          location=\"Dhaka\"\n          description=\"Central bank of Bangladesh responsible for monetary policy and banking regulation.\"\n        />\n        <ListingCard\n          id=\"3\"\n          title=\"Dhaka University\"\n          category=\"Education\"\n          location=\"Dhaka\"\n          description=\"Premier public university in Bangladesh offering undergraduate and graduate programs.\"\n        />\n      </div>\n    </Router>\n  );\n}\n","size_bytes":1042},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"client/src/pages/AdminPackages.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { SidebarProvider, SidebarTrigger } from \"@/components/ui/sidebar\";\nimport AdminSidebar from \"@/components/AdminSidebar\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage, FormDescription } from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle } from \"@/components/ui/alert-dialog\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { Plus, Edit, Trash2, CheckCircle, XCircle } from \"lucide-react\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport type { PromotionalPackage, InsertPromotionalPackage } from \"@shared/schema\";\nimport { insertPromotionalPackageSchema } from \"@shared/schema\";\n\nconst packageFormSchema = insertPromotionalPackageSchema.extend({\n  name: z.string().min(1, \"Name is required\"),\n  price: z.number().min(0, \"Price must be positive\"),\n  durationDays: z.number().min(1, \"Duration must be at least 1 day\"),\n  features: z.array(z.string()).min(1, \"At least one feature is required\"),\n  active: z.boolean(),\n});\n\ntype PackageFormData = z.infer<typeof packageFormSchema>;\n\ninterface PackageFormValues {\n  name: string;\n  price: string;\n  durationDays: string;\n  features: string;\n  active: boolean;\n}\n\nexport default function AdminPackages() {\n  const { toast } = useToast();\n  const [createDialogOpen, setCreateDialogOpen] = useState(false);\n  const [editDialogOpen, setEditDialogOpen] = useState(false);\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\n  const [selectedPackage, setSelectedPackage] = useState<PromotionalPackage | null>(null);\n\n  const { data: packages, isLoading } = useQuery<PromotionalPackage[]>({\n    queryKey: [\"/api/admin/promotional-packages\"],\n  });\n\n  const createForm = useForm<PackageFormValues>({\n    defaultValues: {\n      name: \"\",\n      price: \"\",\n      durationDays: \"\",\n      features: \"\",\n      active: true,\n    },\n  });\n\n  const editForm = useForm<PackageFormValues>({\n    defaultValues: {\n      name: \"\",\n      price: \"\",\n      durationDays: \"\",\n      features: \"\",\n      active: true,\n    },\n  });\n\n  const createMutation = useMutation({\n    mutationFn: async (data: PackageFormData) => {\n      await apiRequest(\"POST\", \"/api/admin/promotional-packages\", data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/promotional-packages\"] });\n      toast({\n        title: \"Success\",\n        description: \"Package created successfully\",\n      });\n      setCreateDialogOpen(false);\n      createForm.reset();\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const updateMutation = useMutation({\n    mutationFn: async ({ id, data }: { id: number; data: PackageFormData }) => {\n      await apiRequest(\"PATCH\", `/api/admin/promotional-packages/${id}`, data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/promotional-packages\"] });\n      toast({\n        title: \"Success\",\n        description: \"Package updated successfully\",\n      });\n      setEditDialogOpen(false);\n      setSelectedPackage(null);\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const deleteMutation = useMutation({\n    mutationFn: async (id: number) => {\n      await apiRequest(\"DELETE\", `/api/admin/promotional-packages/${id}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/promotional-packages\"] });\n      toast({\n        title: \"Success\",\n        description: \"Package deleted successfully\",\n      });\n      setDeleteDialogOpen(false);\n      setSelectedPackage(null);\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const transformFormData = (values: PackageFormValues): PackageFormData => {\n    return {\n      name: values.name,\n      price: Math.round(parseFloat(values.price) * 100), // Convert dollars to cents\n      durationDays: parseInt(values.durationDays),\n      features: values.features.split('\\n').filter(f => f.trim() !== ''),\n      active: values.active,\n    };\n  };\n\n  const handleCreate = (values: PackageFormValues) => {\n    const data = transformFormData(values);\n    createMutation.mutate(data);\n  };\n\n  const handleEdit = (pkg: PromotionalPackage) => {\n    setSelectedPackage(pkg);\n    editForm.reset({\n      name: pkg.name,\n      price: (pkg.price / 100).toFixed(2),\n      durationDays: pkg.durationDays.toString(),\n      features: pkg.features.join('\\n'),\n      active: pkg.active,\n    });\n    setEditDialogOpen(true);\n  };\n\n  const handleUpdate = (values: PackageFormValues) => {\n    if (selectedPackage) {\n      const data = transformFormData(values);\n      updateMutation.mutate({ id: selectedPackage.id, data });\n    }\n  };\n\n  const handleDeleteClick = (pkg: PromotionalPackage) => {\n    setSelectedPackage(pkg);\n    setDeleteDialogOpen(true);\n  };\n\n  const handleDeleteConfirm = () => {\n    if (selectedPackage) {\n      deleteMutation.mutate(selectedPackage.id);\n    }\n  };\n\n  const formatPrice = (priceInCents: number) => {\n    return `$${(priceInCents / 100).toFixed(2)}`;\n  };\n\n  const style = {\n    \"--sidebar-width\": \"16rem\",\n  };\n\n  return (\n    <SidebarProvider style={style as React.CSSProperties}>\n      <div className=\"flex h-screen w-full\">\n        <AdminSidebar />\n        <div className=\"flex flex-col flex-1\">\n          <header className=\"flex items-center justify-between p-4 border-b\">\n            <div className=\"flex items-center gap-3\">\n              <SidebarTrigger data-testid=\"button-sidebar-toggle\" />\n              <h1 className=\"text-xl font-semibold\">Promotional Packages</h1>\n            </div>\n            <Button\n              onClick={() => setCreateDialogOpen(true)}\n              data-testid=\"button-create-package\"\n            >\n              <Plus className=\"w-4 h-4 mr-2\" />\n              Create Package\n            </Button>\n          </header>\n          <main className=\"flex-1 overflow-auto p-6 bg-muted/30\">\n            <div className=\"max-w-7xl mx-auto\">\n              <div className=\"mb-6\">\n                <h2 className=\"text-2xl font-semibold mb-2\">Manage Packages</h2>\n                <p className=\"text-muted-foreground\">\n                  Create and manage promotional packages for business listings\n                </p>\n              </div>\n\n              {isLoading ? (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                  {[1, 2, 3].map((i) => (\n                    <Skeleton key={i} className=\"h-64 w-full\" />\n                  ))}\n                </div>\n              ) : (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                  {packages?.map((pkg) => (\n                    <Card key={pkg.id} data-testid={`card-package-${pkg.id}`}>\n                      <CardHeader>\n                        <div className=\"flex items-start justify-between\">\n                          <div className=\"flex-1\">\n                            <CardTitle data-testid={`text-package-name-${pkg.id}`}>\n                              {pkg.name}\n                            </CardTitle>\n                            <CardDescription className=\"mt-2\">\n                              <span className=\"text-2xl font-bold text-foreground\" data-testid={`text-package-price-${pkg.id}`}>\n                                {formatPrice(pkg.price)}\n                              </span>\n                            </CardDescription>\n                          </div>\n                          <Badge\n                            variant={pkg.active ? \"default\" : \"secondary\"}\n                            data-testid={`badge-package-status-${pkg.id}`}\n                          >\n                            {pkg.active ? (\n                              <>\n                                <CheckCircle className=\"w-3 h-3 mr-1\" />\n                                Active\n                              </>\n                            ) : (\n                              <>\n                                <XCircle className=\"w-3 h-3 mr-1\" />\n                                Inactive\n                              </>\n                            )}\n                          </Badge>\n                        </div>\n                      </CardHeader>\n                      <CardContent>\n                        <div className=\"space-y-4\">\n                          <div>\n                            <p className=\"text-sm font-medium text-muted-foreground\">Duration</p>\n                            <p className=\"text-base\" data-testid={`text-package-duration-${pkg.id}`}>\n                              {pkg.durationDays} days\n                            </p>\n                          </div>\n                          <div>\n                            <p className=\"text-sm font-medium text-muted-foreground mb-2\">Features</p>\n                            <ul className=\"space-y-1\" data-testid={`list-package-features-${pkg.id}`}>\n                              {pkg.features.map((feature, idx) => (\n                                <li key={idx} className=\"text-sm flex items-start gap-2\">\n                                  <span className=\"text-primary mt-1\">â€¢</span>\n                                  <span>{feature}</span>\n                                </li>\n                              ))}\n                            </ul>\n                          </div>\n                          <div className=\"flex gap-2 pt-4\">\n                            <Button\n                              size=\"sm\"\n                              variant=\"outline\"\n                              className=\"flex-1\"\n                              onClick={() => handleEdit(pkg)}\n                              data-testid={`button-edit-package-${pkg.id}`}\n                            >\n                              <Edit className=\"w-4 h-4 mr-1\" />\n                              Edit\n                            </Button>\n                            <Button\n                              size=\"sm\"\n                              variant=\"outline\"\n                              onClick={() => handleDeleteClick(pkg)}\n                              data-testid={`button-delete-package-${pkg.id}`}\n                            >\n                              <Trash2 className=\"w-4 h-4\" />\n                            </Button>\n                          </div>\n                        </div>\n                      </CardContent>\n                    </Card>\n                  ))}\n                </div>\n              )}\n            </div>\n          </main>\n        </div>\n      </div>\n\n      {/* Create Dialog */}\n      <Dialog open={createDialogOpen} onOpenChange={setCreateDialogOpen}>\n        <DialogContent className=\"max-w-2xl\" data-testid=\"dialog-create-package\">\n          <DialogHeader>\n            <DialogTitle>Create Package</DialogTitle>\n            <DialogDescription>\n              Add a new promotional package for business listings\n            </DialogDescription>\n          </DialogHeader>\n          <Form {...createForm}>\n            <form onSubmit={createForm.handleSubmit(handleCreate)} className=\"space-y-4\">\n              <FormField\n                control={createForm.control}\n                name=\"name\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Name</FormLabel>\n                    <FormControl>\n                      <Input\n                        {...field}\n                        placeholder=\"e.g., Premium Listing\"\n                        data-testid=\"input-package-name\"\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <div className=\"grid grid-cols-2 gap-4\">\n                <FormField\n                  control={createForm.control}\n                  name=\"price\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Price (USD)</FormLabel>\n                      <FormControl>\n                        <Input\n                          {...field}\n                          type=\"number\"\n                          step=\"0.01\"\n                          placeholder=\"e.g., 29.99\"\n                          data-testid=\"input-package-price\"\n                        />\n                      </FormControl>\n                      <FormDescription>Price in dollars</FormDescription>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <FormField\n                  control={createForm.control}\n                  name=\"durationDays\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Duration (Days)</FormLabel>\n                      <FormControl>\n                        <Input\n                          {...field}\n                          type=\"number\"\n                          placeholder=\"e.g., 30\"\n                          data-testid=\"input-package-duration\"\n                        />\n                      </FormControl>\n                      <FormDescription>Number of days</FormDescription>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </div>\n              <FormField\n                control={createForm.control}\n                name=\"features\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Features</FormLabel>\n                    <FormControl>\n                      <Textarea\n                        {...field}\n                        placeholder=\"Enter one feature per line&#10;e.g.,&#10;Featured placement&#10;Priority listing&#10;Enhanced visibility\"\n                        rows={5}\n                        data-testid=\"input-package-features\"\n                      />\n                    </FormControl>\n                    <FormDescription>One feature per line</FormDescription>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <FormField\n                control={createForm.control}\n                name=\"active\"\n                render={({ field }) => (\n                  <FormItem className=\"flex items-center justify-between rounded-lg border p-4\">\n                    <div className=\"space-y-0.5\">\n                      <FormLabel>Active</FormLabel>\n                      <FormDescription>\n                        Make this package available for purchase\n                      </FormDescription>\n                    </div>\n                    <FormControl>\n                      <Switch\n                        checked={field.value}\n                        onCheckedChange={field.onChange}\n                        data-testid=\"switch-package-active\"\n                      />\n                    </FormControl>\n                  </FormItem>\n                )}\n              />\n              <DialogFooter>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={() => setCreateDialogOpen(false)}\n                  data-testid=\"button-cancel-create\"\n                >\n                  Cancel\n                </Button>\n                <Button\n                  type=\"submit\"\n                  disabled={createMutation.isPending}\n                  data-testid=\"button-submit-create\"\n                >\n                  {createMutation.isPending ? \"Creating...\" : \"Create\"}\n                </Button>\n              </DialogFooter>\n            </form>\n          </Form>\n        </DialogContent>\n      </Dialog>\n\n      {/* Edit Dialog */}\n      <Dialog open={editDialogOpen} onOpenChange={setEditDialogOpen}>\n        <DialogContent className=\"max-w-2xl\" data-testid=\"dialog-edit-package\">\n          <DialogHeader>\n            <DialogTitle>Edit Package</DialogTitle>\n            <DialogDescription>\n              Update package information\n            </DialogDescription>\n          </DialogHeader>\n          <Form {...editForm}>\n            <form onSubmit={editForm.handleSubmit(handleUpdate)} className=\"space-y-4\">\n              <FormField\n                control={editForm.control}\n                name=\"name\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Name</FormLabel>\n                    <FormControl>\n                      <Input\n                        {...field}\n                        placeholder=\"e.g., Premium Listing\"\n                        data-testid=\"input-edit-package-name\"\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <div className=\"grid grid-cols-2 gap-4\">\n                <FormField\n                  control={editForm.control}\n                  name=\"price\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Price (USD)</FormLabel>\n                      <FormControl>\n                        <Input\n                          {...field}\n                          type=\"number\"\n                          step=\"0.01\"\n                          placeholder=\"e.g., 29.99\"\n                          data-testid=\"input-edit-package-price\"\n                        />\n                      </FormControl>\n                      <FormDescription>Price in dollars</FormDescription>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <FormField\n                  control={editForm.control}\n                  name=\"durationDays\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Duration (Days)</FormLabel>\n                      <FormControl>\n                        <Input\n                          {...field}\n                          type=\"number\"\n                          placeholder=\"e.g., 30\"\n                          data-testid=\"input-edit-package-duration\"\n                        />\n                      </FormControl>\n                      <FormDescription>Number of days</FormDescription>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </div>\n              <FormField\n                control={editForm.control}\n                name=\"features\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Features</FormLabel>\n                    <FormControl>\n                      <Textarea\n                        {...field}\n                        placeholder=\"Enter one feature per line\"\n                        rows={5}\n                        data-testid=\"input-edit-package-features\"\n                      />\n                    </FormControl>\n                    <FormDescription>One feature per line</FormDescription>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <FormField\n                control={editForm.control}\n                name=\"active\"\n                render={({ field }) => (\n                  <FormItem className=\"flex items-center justify-between rounded-lg border p-4\">\n                    <div className=\"space-y-0.5\">\n                      <FormLabel>Active</FormLabel>\n                      <FormDescription>\n                        Make this package available for purchase\n                      </FormDescription>\n                    </div>\n                    <FormControl>\n                      <Switch\n                        checked={field.value}\n                        onCheckedChange={field.onChange}\n                        data-testid=\"switch-edit-package-active\"\n                      />\n                    </FormControl>\n                  </FormItem>\n                )}\n              />\n              <DialogFooter>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={() => setEditDialogOpen(false)}\n                  data-testid=\"button-cancel-edit\"\n                >\n                  Cancel\n                </Button>\n                <Button\n                  type=\"submit\"\n                  disabled={updateMutation.isPending}\n                  data-testid=\"button-submit-edit\"\n                >\n                  {updateMutation.isPending ? \"Updating...\" : \"Update\"}\n                </Button>\n              </DialogFooter>\n            </form>\n          </Form>\n        </DialogContent>\n      </Dialog>\n\n      {/* Delete Alert Dialog */}\n      <AlertDialog open={deleteDialogOpen} onOpenChange={setDeleteDialogOpen}>\n        <AlertDialogContent data-testid=\"dialog-delete-package\">\n          <AlertDialogHeader>\n            <AlertDialogTitle>Are you sure?</AlertDialogTitle>\n            <AlertDialogDescription>\n              This will permanently delete the package \"{selectedPackage?.name}\".\n              This action cannot be undone.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel data-testid=\"button-cancel-delete\">\n              Cancel\n            </AlertDialogCancel>\n            <AlertDialogAction\n              onClick={handleDeleteConfirm}\n              disabled={deleteMutation.isPending}\n              data-testid=\"button-confirm-delete\"\n            >\n              {deleteMutation.isPending ? \"Deleting...\" : \"Delete\"}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </SidebarProvider>\n  );\n}\n","size_bytes":22806},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":21846},"client/src/components/SubmissionForm.tsx":{"content":"import { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { useMutation, useQuery } from \"@tanstack/react-query\";\nimport { z } from \"zod\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Form,\n  FormControl,\n  FormDescription,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { Loader2, Check, Image, Video, Star } from \"lucide-react\";\nimport type { Category, Country, PromotionalPackage } from \"@shared/schema\";\n\nconst formSchema = z.object({\n  businessName: z.string().min(2, \"Business name must be at least 2 characters\"),\n  parentCategory: z.string().min(1, \"Please select a category\"),\n  subcategory: z.string().optional(),\n  country: z.string().min(1, \"Please select a country\"),\n  regionName: z.string().min(2, \"Please enter your state/province/region name\"),\n  cityName: z.string().optional(),\n  description: z.string().min(10, \"Description must be at least 10 characters\"),\n  contactPerson: z.string().min(2, \"Contact person name is required\"),\n  phone: z.string().min(10, \"Valid phone number is required\"),\n  email: z.string().email(\"Valid email is required\"),\n  website: z.string().url(\"Valid URL is required\").or(z.literal(\"\")),\n  imageUrl: z.string().url(\"Valid image URL is required\").or(z.literal(\"\")),\n  videoUrl: z.string().url(\"Valid video URL is required\").or(z.literal(\"\")),\n  listingType: z.enum([\"free\", \"promotional\"]),\n  packageId: z.string().optional(),\n}).refine((data) => {\n  // If promotional listing is selected, packageId is required\n  if (data.listingType === \"promotional\" && !data.packageId) {\n    return false;\n  }\n  return true;\n}, {\n  message: \"Please select a promotional package\",\n  path: [\"packageId\"], // This will show the error under the packageId field\n});\n\ntype FormData = z.infer<typeof formSchema>;\n\nexport default function SubmissionForm() {\n  const [step, setStep] = useState(1);\n  const { toast } = useToast();\n\n  const { data: categories = [], isLoading: categoriesLoading } = useQuery<Category[]>({\n    queryKey: [\"/api/categories\"],\n  });\n\n  const { data: countries = [], isLoading: countriesLoading } = useQuery<Country[]>({\n    queryKey: [\"/api/countries\"],\n  });\n\n  const { data: packages = [], isLoading: packagesLoading } = useQuery<PromotionalPackage[]>({\n    queryKey: [\"/api/promotional-packages\"],\n  });\n\n\n  const form = useForm<FormData>({\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      businessName: \"\",\n      parentCategory: \"\",\n      subcategory: \"\",\n      country: \"\",\n      regionName: \"\",\n      cityName: \"\",\n      description: \"\",\n      contactPerson: \"\",\n      phone: \"\",\n      email: \"\",\n      website: \"\",\n      imageUrl: \"\",\n      videoUrl: \"\",\n      listingType: \"free\",\n      packageId: \"\",\n    },\n  });\n\n  const parentCategoryId = form.watch(\"parentCategory\");\n  const subcategories = categories.filter(c => c.parentId === (parentCategoryId ? parseInt(parentCategoryId) : null));\n  const parentCategories = categories.filter(c => !c.parentId);\n  const listingType = form.watch(\"listingType\");\n\n  const submitMutation = useMutation({\n    mutationFn: async (data: FormData) => {\n      // Use subcategory if selected, otherwise use parent category\n      const finalCategoryId = data.subcategory || data.parentCategory;\n      const category = categories.find((c) => c.id.toString() === finalCategoryId);\n      const country = countries.find((c) => c.id.toString() === data.country);\n\n      if (!category || !country) {\n        throw new Error(\"Invalid selection\");\n      }\n\n      const response = await apiRequest(\"POST\", \"/api/submissions\", {\n        businessName: data.businessName,\n        description: data.description,\n        categoryId: category.id,\n        countryId: country.id,\n        regionName: data.regionName,\n        cityName: data.cityName || undefined,\n        contactPerson: data.contactPerson,\n        phone: data.phone,\n        email: data.email,\n        website: data.website || undefined,\n        imageUrl: data.imageUrl || undefined,\n        videoUrl: data.videoUrl || undefined,\n        listingType: data.listingType,\n        packageId: data.packageId ? parseInt(data.packageId) : undefined,\n      });\n      return response.json();\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Submission Received!\",\n        description: \"Your listing will be reviewed by our team shortly.\",\n      });\n      form.reset();\n      setStep(1);\n      queryClient.invalidateQueries({ queryKey: [\"/api/submissions\"] });\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Submission Failed\",\n        description: error.message || \"Please try again later\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  function onSubmit(data: FormData) {\n    submitMutation.mutate(data);\n  }\n\n  const formatPrice = (cents: number) => {\n    return new Intl.NumberFormat(\"en-US\", {\n      style: \"currency\",\n      currency: \"USD\",\n    }).format(cents / 100);\n  };\n\n  return (\n    <Card className=\"max-w-3xl mx-auto\" data-testid=\"form-submission\">\n      <CardHeader>\n        <CardTitle>Submit Your Business Listing</CardTitle>\n        <CardDescription>\n          Fill out the form below to add your business to our global directory. Choose between free and promotional listings.\n        </CardDescription>\n        <div className=\"flex items-center gap-2 mt-4\">\n          <div className={`flex-1 h-2 rounded-full ${step >= 1 ? \"bg-primary\" : \"bg-muted\"}`} />\n          <div className={`flex-1 h-2 rounded-full ${step >= 2 ? \"bg-primary\" : \"bg-muted\"}`} />\n          <div className={`flex-1 h-2 rounded-full ${step >= 3 ? \"bg-primary\" : \"bg-muted\"}`} />\n        </div>\n        <p className=\"text-sm text-muted-foreground mt-2\">Step {step} of 3</p>\n      </CardHeader>\n      <CardContent>\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n            {step === 1 && (\n              <>\n                <FormField\n                  control={form.control}\n                  name=\"businessName\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Business Name</FormLabel>\n                      <FormControl>\n                        <Input placeholder=\"Enter business name\" {...field} data-testid=\"input-business-name\" />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <FormField\n                  control={form.control}\n                  name=\"parentCategory\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Category</FormLabel>\n                      <Select\n                        onValueChange={(value) => {\n                          field.onChange(value);\n                          // Reset subcategory when parent changes\n                          form.setValue(\"subcategory\", \"\");\n                        }}\n                        value={field.value}\n                        disabled={categoriesLoading}\n                      >\n                        <FormControl>\n                          <SelectTrigger data-testid=\"select-category\">\n                            <SelectValue placeholder={categoriesLoading ? \"Loading...\" : \"Select category\"} />\n                          </SelectTrigger>\n                        </FormControl>\n                        <SelectContent>\n                          {parentCategories.map((cat) => (\n                            <SelectItem \n                              key={cat.id} \n                              value={cat.id.toString()}\n                              data-testid={`option-category-${cat.id}`}\n                            >\n                              {cat.name}\n                            </SelectItem>\n                          ))}\n                        </SelectContent>\n                      </Select>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                {subcategories.length > 0 && (\n                  <FormField\n                    control={form.control}\n                    name=\"subcategory\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>Subcategory (Optional)</FormLabel>\n                        <Select onValueChange={(value) => field.onChange(value === \"NONE\" ? \"\" : value)} value={field.value || \"NONE\"}>\n                          <FormControl>\n                            <SelectTrigger data-testid=\"select-subcategory\">\n                              <SelectValue placeholder=\"Select subcategory (optional)\" />\n                            </SelectTrigger>\n                          </FormControl>\n                          <SelectContent>\n                            <SelectItem value=\"NONE\">None (use main category)</SelectItem>\n                            {subcategories.map((cat) => (\n                              <SelectItem \n                                key={cat.id} \n                                value={cat.id.toString()}\n                                data-testid={`option-subcategory-${cat.id}`}\n                              >\n                                {cat.name}\n                              </SelectItem>\n                            ))}\n                          </SelectContent>\n                        </Select>\n                        <FormDescription>\n                          Leave as \"None\" to list under the main category\n                        </FormDescription>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                )}\n                <FormField\n                  control={form.control}\n                  name=\"country\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Country</FormLabel>\n                      <Select\n                        onValueChange={field.onChange}\n                        value={field.value}\n                        disabled={countriesLoading}\n                      >\n                        <FormControl>\n                          <SelectTrigger data-testid=\"select-country\">\n                            <SelectValue placeholder={countriesLoading ? \"Loading...\" : \"Select country\"} />\n                          </SelectTrigger>\n                        </FormControl>\n                        <SelectContent>\n                          {countries.map((country) => (\n                            <SelectItem \n                              key={country.id} \n                              value={country.id.toString()}\n                              data-testid={`option-country-${country.id}`}\n                            >\n                              {country.flag} {country.name}\n                            </SelectItem>\n                          ))}\n                        </SelectContent>\n                      </Select>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <FormField\n                  control={form.control}\n                  name=\"regionName\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>State/Province/Region</FormLabel>\n                      <FormControl>\n                        <Input \n                          placeholder=\"Enter your state, province, or region name\" \n                          {...field} \n                          data-testid=\"input-region-name\" \n                        />\n                      </FormControl>\n                      <FormDescription>\n                        Type the name of your state, province, or region\n                      </FormDescription>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <FormField\n                  control={form.control}\n                  name=\"cityName\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>City (Optional)</FormLabel>\n                      <FormControl>\n                        <Input \n                          placeholder=\"Enter your city name\" \n                          {...field} \n                          data-testid=\"input-city-name\" \n                        />\n                      </FormControl>\n                      <FormDescription>\n                        Leave blank if not applicable\n                      </FormDescription>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <FormField\n                  control={form.control}\n                  name=\"description\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Business Description</FormLabel>\n                      <FormControl>\n                        <Textarea\n                          placeholder=\"Describe your business, services, and what makes you unique...\"\n                          className=\"min-h-32\"\n                          {...field}\n                          data-testid=\"input-description\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <div className=\"flex justify-end\">\n                  <Button \n                    type=\"button\" \n                    onClick={async () => {\n                      // Validate step 1 fields before proceeding\n                      const step1Fields = await form.trigger([\"businessName\", \"parentCategory\", \"country\", \"regionName\", \"description\"]);\n                      if (step1Fields) {\n                        setStep(2);\n                      }\n                    }} \n                    data-testid=\"button-next-step-1\"\n                  >\n                    Next\n                  </Button>\n                </div>\n              </>\n            )}\n\n            {step === 2 && (\n              <>\n                <FormField\n                  control={form.control}\n                  name=\"contactPerson\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Contact Person</FormLabel>\n                      <FormControl>\n                        <Input placeholder=\"Full name\" {...field} data-testid=\"input-contact-person\" />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <FormField\n                  control={form.control}\n                  name=\"phone\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Phone Number</FormLabel>\n                      <FormControl>\n                        <Input placeholder=\"+1 234 567 8900\" {...field} data-testid=\"input-phone\" />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <FormField\n                  control={form.control}\n                  name=\"email\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Email Address</FormLabel>\n                      <FormControl>\n                        <Input type=\"email\" placeholder=\"contact@business.com\" {...field} data-testid=\"input-email\" />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <FormField\n                  control={form.control}\n                  name=\"website\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Website (Optional)</FormLabel>\n                      <FormControl>\n                        <Input placeholder=\"https://www.yourbusiness.com\" {...field} data-testid=\"input-website\" />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <FormField\n                  control={form.control}\n                  name=\"imageUrl\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Image URL (Optional)</FormLabel>\n                      <FormControl>\n                        <div className=\"relative\">\n                          <Image className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\n                          <Input placeholder=\"https://example.com/image.jpg\" {...field} className=\"pl-9\" data-testid=\"input-image-url\" />\n                        </div>\n                      </FormControl>\n                      <FormDescription>Add a photo of your business or product</FormDescription>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <FormField\n                  control={form.control}\n                  name=\"videoUrl\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Video URL (Optional)</FormLabel>\n                      <FormControl>\n                        <div className=\"relative\">\n                          <Video className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\n                          <Input placeholder=\"https://youtube.com/watch?v=...\" {...field} className=\"pl-9\" data-testid=\"input-video-url\" />\n                        </div>\n                      </FormControl>\n                      <FormDescription>Link to a video showcasing your business</FormDescription>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <div className=\"flex justify-between\">\n                  <Button type=\"button\" variant=\"outline\" onClick={() => setStep(1)} data-testid=\"button-back-step-2\">\n                    Back\n                  </Button>\n                  <Button \n                    type=\"button\" \n                    onClick={async () => {\n                      // Validate step 2 fields before proceeding\n                      const step2Fields = await form.trigger([\"contactPerson\", \"phone\", \"email\", \"website\", \"imageUrl\", \"videoUrl\"]);\n                      if (step2Fields) {\n                        setStep(3);\n                      }\n                    }} \n                    data-testid=\"button-next-step-2\"\n                  >\n                    Next\n                  </Button>\n                </div>\n              </>\n            )}\n\n            {step === 3 && (\n              <>\n                <FormField\n                  control={form.control}\n                  name=\"listingType\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Listing Type</FormLabel>\n                      <FormControl>\n                        <RadioGroup onValueChange={field.onChange} value={field.value} className=\"gap-4\">\n                          <Card className=\"hover-elevate cursor-pointer\" data-testid=\"card-listing-type-free\">\n                            <label htmlFor=\"free\" className=\"cursor-pointer\">\n                              <CardHeader className=\"flex flex-row items-center justify-between gap-4 space-y-0 pb-2\">\n                                <div className=\"flex items-center gap-2\">\n                                  <RadioGroupItem value=\"free\" id=\"free\" />\n                                  <div>\n                                    <CardTitle className=\"text-base\">Free Listing</CardTitle>\n                                    <CardDescription>Standard directory entry</CardDescription>\n                                  </div>\n                                </div>\n                                <Badge variant=\"secondary\">$0</Badge>\n                              </CardHeader>\n                              <CardContent>\n                                <ul className=\"text-sm text-muted-foreground space-y-1\">\n                                  <li className=\"flex items-center gap-2\">\n                                    <Check className=\"w-4 h-4\" /> Basic business information\n                                  </li>\n                                  <li className=\"flex items-center gap-2\">\n                                    <Check className=\"w-4 h-4\" /> Standard listing placement\n                                  </li>\n                                  <li className=\"flex items-center gap-2\">\n                                    <Check className=\"w-4 h-4\" /> Searchable in directory\n                                  </li>\n                                </ul>\n                              </CardContent>\n                            </label>\n                          </Card>\n                          <Card className=\"hover-elevate cursor-pointer border-primary\" data-testid=\"card-listing-type-promotional\">\n                            <label htmlFor=\"promotional\" className=\"cursor-pointer\">\n                              <CardHeader className=\"flex flex-row items-center justify-between gap-4 space-y-0 pb-2\">\n                                <div className=\"flex items-center gap-2\">\n                                  <RadioGroupItem value=\"promotional\" id=\"promotional\" />\n                                  <div>\n                                    <CardTitle className=\"text-base flex items-center gap-2\">\n                                      Promotional Listing\n                                      <Star className=\"w-4 h-4 text-primary fill-primary\" />\n                                    </CardTitle>\n                                    <CardDescription>Featured placement with premium benefits</CardDescription>\n                                  </div>\n                                </div>\n                              </CardHeader>\n                              <CardContent>\n                                <p className=\"text-sm text-muted-foreground mb-2\">Select a package below to continue</p>\n                              </CardContent>\n                            </label>\n                          </Card>\n                        </RadioGroup>\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                {listingType === \"promotional\" && (\n                  <FormField\n                    control={form.control}\n                    name=\"packageId\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>Select Promotional Package</FormLabel>\n                        <FormControl>\n                          <RadioGroup onValueChange={field.onChange} value={field.value} className=\"gap-4\">\n                            {packagesLoading ? (\n                              <p className=\"text-sm text-muted-foreground\">Loading packages...</p>\n                            ) : packages.length === 0 ? (\n                              <p className=\"text-sm text-muted-foreground\">No packages available</p>\n                            ) : (\n                              packages.map((pkg) => (\n                                <Card key={pkg.id} className=\"hover-elevate cursor-pointer\" data-testid={`card-package-${pkg.id}`}>\n                                  <label htmlFor={`package-${pkg.id}`} className=\"cursor-pointer\">\n                                    <CardHeader className=\"flex flex-row items-center justify-between gap-4 space-y-0 pb-2\">\n                                      <div className=\"flex items-center gap-2\">\n                                        <RadioGroupItem value={pkg.id.toString()} id={`package-${pkg.id}`} />\n                                        <div>\n                                          <CardTitle className=\"text-base\">{pkg.name}</CardTitle>\n                                          <CardDescription>{pkg.durationDays} days</CardDescription>\n                                        </div>\n                                      </div>\n                                      <Badge>{formatPrice(pkg.price)}</Badge>\n                                    </CardHeader>\n                                    <CardContent>\n                                      <ul className=\"text-sm text-muted-foreground space-y-1\">\n                                        {pkg.features.map((feature, idx) => (\n                                          <li key={idx} className=\"flex items-center gap-2\">\n                                            <Check className=\"w-4 h-4 text-primary\" /> {feature}\n                                          </li>\n                                        ))}\n                                      </ul>\n                                    </CardContent>\n                                  </label>\n                                </Card>\n                              ))\n                            )}\n                          </RadioGroup>\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                )}\n\n                <div className=\"flex justify-between\">\n                  <Button type=\"button\" variant=\"outline\" onClick={() => setStep(2)} data-testid=\"button-back-step-3\">\n                    Back\n                  </Button>\n                  <Button type=\"submit\" disabled={submitMutation.isPending} data-testid=\"button-submit-form\">\n                    {submitMutation.isPending && <Loader2 className=\"mr-2 w-4 h-4 animate-spin\" />}\n                    Submit Listing\n                  </Button>\n                </div>\n              </>\n            )}\n          </form>\n        </Form>\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":26648},"client/src/components/examples/AdminStatsCards.tsx":{"content":"import AdminStatsCards from \"../AdminStatsCards\";\n\nexport default function AdminStatsCardsExample() {\n  return (\n    <div className=\"p-4\">\n      <AdminStatsCards />\n    </div>\n  );\n}\n","size_bytes":183},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/pages/Home.tsx":{"content":"import { Link } from \"wouter\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport CategoryCard from \"@/components/CategoryCard\";\nimport ListingCard from \"@/components/ListingCard\";\nimport CountryTabs from \"@/components/CountryTabs\";\nimport StatsBar from \"@/components/StatsBar\";\nimport NewsHighlights from \"@/components/NewsHighlights\";\nimport { Button } from \"@/components/ui/button\";\nimport { Newspaper, Building2, GraduationCap, Code, Plane, Clapperboard, Stethoscope, Home as HomeIcon, Briefcase, Heart } from \"lucide-react\";\nimport type { Category, Listing } from \"@shared/schema\";\n\nconst iconMap: Record<string, any> = {\n  newspaper: Newspaper,\n  building2: Building2,\n  graduationcap: GraduationCap,\n  code: Code,\n  plane: Plane,\n  clapperboard: Clapperboard,\n  stethoscope: Stethoscope,\n  home: HomeIcon,\n  briefcase: Briefcase,\n  heart: Heart,\n};\n\nexport default function Home() {\n  const { data: categories = [], isLoading: categoriesLoading } = useQuery<Category[]>({\n    queryKey: [\"/api/categories\"],\n  });\n\n  const { data: listings = [], isLoading: listingsLoading } = useQuery<Listing[]>({\n    queryKey: [\"/api/listings\"],\n  });\n\n  return (\n    <div className=\"min-h-screen flex flex-col\">\n      <Header />\n      \n      <main className=\"flex-1\">\n        <StatsBar />\n\n        <section className=\"py-8 md:py-12 bg-background\">\n          <div className=\"max-w-7xl mx-auto px-4 md:px-6 lg:px-8\">\n            <div className=\"text-center mb-8\">\n              <h1 className=\"text-3xl md:text-4xl font-bold mb-3\">\n                The USA Mirror\n              </h1>\n              <p className=\"text-muted-foreground text-lg max-w-2xl mx-auto mb-6\">\n                Your complete guide to businesses, services, and organizations across 50+ countries and 200+ cities worldwide\n              </p>\n              <Link href=\"/submit\">\n                <Button size=\"lg\" data-testid=\"button-hero-submit\">\n                  Submit Your Business\n                </Button>\n              </Link>\n            </div>\n          </div>\n        </section>\n\n        <NewsHighlights />\n\n        <section className=\"py-8 md:py-12 bg-muted/30\">\n          <div className=\"max-w-7xl mx-auto px-4 md:px-6 lg:px-8\">\n            <h2 className=\"text-2xl font-semibold mb-6\">Browse by Category</h2>\n            {categoriesLoading ? (\n              <div className=\"text-center py-8 text-muted-foreground\">Loading categories...</div>\n            ) : categories.length === 0 ? (\n              <div className=\"text-center py-8 text-muted-foreground\">No categories found. Add categories in the admin panel.</div>\n            ) : (\n              <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\n                {categories.filter(c => !c.parentId).map((category) => {\n                  const IconComponent = iconMap[category.icon.toLowerCase()] || Briefcase;\n                  return (\n                    <CategoryCard\n                      key={category.slug}\n                      title={category.name}\n                      count={category.count}\n                      href={`/category/${category.slug}`}\n                      icon={IconComponent}\n                    />\n                  );\n                })}\n              </div>\n            )}\n          </div>\n        </section>\n\n        <section className=\"py-8 md:py-12 bg-background\">\n          <div className=\"max-w-7xl mx-auto px-4 md:px-6 lg:px-8\">\n            <h2 className=\"text-2xl font-semibold mb-6\">Browse by Country</h2>\n            <CountryTabs />\n          </div>\n        </section>\n\n        <section className=\"py-8 md:py-12 bg-muted/30\">\n          <div className=\"max-w-7xl mx-auto px-4 md:px-6 lg:px-8\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-2xl font-semibold\">Recent Listings</h2>\n              <Link href=\"/listings\">\n                <Button variant=\"outline\" size=\"sm\" data-testid=\"button-view-all\">\n                  View All\n                </Button>\n              </Link>\n            </div>\n            {listingsLoading ? (\n              <div className=\"text-center py-8 text-muted-foreground\">Loading listings...</div>\n            ) : listings.length === 0 ? (\n              <div className=\"text-center py-8 text-muted-foreground\">\n                No listings yet. <Link href=\"/submit\" className=\"text-primary hover:underline\">Submit the first listing</Link>\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                {listings.slice(0, 6).map((listing) => {\n                  const category = categories.find(c => c.id === listing.categoryId);\n                  return (\n                    <ListingCard\n                      key={listing.id}\n                      id={listing.id.toString()}\n                      title={listing.title}\n                      category={category?.name || \"Uncategorized\"}\n                      location={`Listing ${listing.id}`}\n                      description={listing.description}\n                      featured={listing.featured}\n                    />\n                  );\n                })}\n              </div>\n            )}\n          </div>\n        </section>\n      </main>\n\n      <Footer />\n    </div>\n  );\n}\n","size_bytes":5369},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"client/src/components/AdminSubmissionsTable.tsx":{"content":"import { useState } from \"react\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Check, X, Eye } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface Submission {\n  id: string;\n  date: string;\n  businessName: string;\n  category: string;\n  location: string;\n  status: \"pending\" | \"approved\" | \"rejected\";\n}\n\nexport default function AdminSubmissionsTable() {\n  const { toast } = useToast();\n  const [submissions, setSubmissions] = useState<Submission[]>([\n    {\n      id: \"1\",\n      date: \"2025-11-10\",\n      businessName: \"Tech Innovators Inc\",\n      category: \"Technology\",\n      location: \"San Francisco, USA\",\n      status: \"pending\",\n    },\n    {\n      id: \"2\",\n      date: \"2025-11-09\",\n      businessName: \"Global News Network\",\n      category: \"News\",\n      location: \"London, UK\",\n      status: \"pending\",\n    },\n    {\n      id: \"3\",\n      date: \"2025-11-08\",\n      businessName: \"International Business School\",\n      category: \"Education\",\n      location: \"Toronto, Canada\",\n      status: \"pending\",\n    },\n  ]);\n\n  const handleApprove = (id: string) => {\n    setSubmissions(submissions.map(sub =>\n      sub.id === id ? { ...sub, status: \"approved\" as const } : sub\n    ));\n    toast({\n      title: \"Submission Approved\",\n      description: \"The listing has been published.\",\n    });\n  };\n\n  const handleReject = (id: string) => {\n    setSubmissions(submissions.map(sub =>\n      sub.id === id ? { ...sub, status: \"rejected\" as const } : sub\n    ));\n    toast({\n      title: \"Submission Rejected\",\n      description: \"The listing has been rejected.\",\n      variant: \"destructive\",\n    });\n  };\n\n  const getStatusBadge = (status: string) => {\n    switch (status) {\n      case \"pending\":\n        return <Badge variant=\"secondary\">Pending</Badge>;\n      case \"approved\":\n        return <Badge variant=\"default\">Approved</Badge>;\n      case \"rejected\":\n        return <Badge variant=\"destructive\">Rejected</Badge>;\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className=\"border rounded-lg\" data-testid=\"table-submissions\">\n      <Table>\n        <TableHeader>\n          <TableRow>\n            <TableHead>Date</TableHead>\n            <TableHead>Business Name</TableHead>\n            <TableHead>Category</TableHead>\n            <TableHead>Location</TableHead>\n            <TableHead>Status</TableHead>\n            <TableHead className=\"text-right\">Actions</TableHead>\n          </TableRow>\n        </TableHeader>\n        <TableBody>\n          {submissions.map((submission) => (\n            <TableRow key={submission.id} data-testid={`row-submission-${submission.id}`}>\n              <TableCell className=\"text-sm\">{submission.date}</TableCell>\n              <TableCell className=\"font-medium\">{submission.businessName}</TableCell>\n              <TableCell>{submission.category}</TableCell>\n              <TableCell>{submission.location}</TableCell>\n              <TableCell>{getStatusBadge(submission.status)}</TableCell>\n              <TableCell className=\"text-right\">\n                <div className=\"flex justify-end gap-2\">\n                  <Button size=\"icon\" variant=\"ghost\" data-testid={`button-view-${submission.id}`}>\n                    <Eye className=\"w-4 h-4\" />\n                  </Button>\n                  {submission.status === \"pending\" && (\n                    <>\n                      <Button\n                        size=\"icon\"\n                        variant=\"ghost\"\n                        onClick={() => handleApprove(submission.id)}\n                        data-testid={`button-approve-${submission.id}`}\n                      >\n                        <Check className=\"w-4 h-4 text-green-600\" />\n                      </Button>\n                      <Button\n                        size=\"icon\"\n                        variant=\"ghost\"\n                        onClick={() => handleReject(submission.id)}\n                        data-testid={`button-reject-${submission.id}`}\n                      >\n                        <X className=\"w-4 h-4 text-red-600\" />\n                      </Button>\n                    </>\n                  )}\n                </div>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </div>\n  );\n}\n","size_bytes":4429},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":844},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","size_bytes":1080},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"server/db.ts":{"content":"import { Pool, neonConfig } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport ws from \"ws\";\nimport * as schema from \"@shared/schema\";\n\nneonConfig.webSocketConstructor = ws;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle({ client: pool, schema });\n","size_bytes":483},"client/src/components/AdminSidebar.tsx":{"content":"import { Link, useLocation, useRoute } from \"wouter\";\nimport {\n  Sidebar,\n  SidebarContent,\n  SidebarGroup,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarMenu,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarHeader,\n  SidebarFooter,\n} from \"@/components/ui/sidebar\";\nimport { LayoutDashboard, Inbox, List, FolderTree, MapPin, Package, Settings, LogOut, Users, Database } from \"lucide-react\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nexport default function AdminSidebar() {\n  const [location, setLocation] = useLocation();\n  const { toast } = useToast();\n\n  const logoutMutation = useMutation({\n    mutationFn: async () => {\n      await apiRequest(\"POST\", \"/api/admin/logout\");\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Success\",\n        description: \"Logged out successfully\",\n      });\n      setLocation(\"/admin/login\");\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleLogout = () => {\n    logoutMutation.mutate();\n  };\n\n  const menuItems = [\n    { title: \"Dashboard\", url: \"/admin\", icon: LayoutDashboard },\n    { title: \"Pending Submissions\", url: \"/admin/submissions\", icon: Inbox, badge: 12 },\n    { title: \"All Listings\", url: \"/admin/listings\", icon: List },\n    { title: \"Categories\", url: \"/admin/categories\", icon: FolderTree },\n    { title: \"Packages\", url: \"/admin/promotional-packages\", icon: Package },\n    { title: \"Locations\", url: \"/admin/locations\", icon: MapPin },\n    { title: \"Users\", url: \"/admin/users\", icon: Users },\n    { title: \"Database Tools\", url: \"/admin/database-tools\", icon: Database },\n    { title: \"Settings\", url: \"/admin/settings\", icon: Settings },\n  ];\n\n  return (\n    <Sidebar>\n      <SidebarHeader className=\"p-4\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-8 h-8 bg-primary rounded-md flex items-center justify-center\">\n            <span className=\"text-primary-foreground font-bold text-sm\">BD</span>\n          </div>\n          <div>\n            <p className=\"font-semibold text-sm\">Admin Panel</p>\n            <p className=\"text-xs text-muted-foreground\">Directory Portal</p>\n          </div>\n        </div>\n      </SidebarHeader>\n      <SidebarContent>\n        <SidebarGroup>\n          <SidebarGroupLabel>Management</SidebarGroupLabel>\n          <SidebarGroupContent>\n            <SidebarMenu>\n              {menuItems.map((item) => (\n                <SidebarMenuItem key={item.title}>\n                  <SidebarMenuButton asChild isActive={location === item.url}>\n                    <Link href={item.url} data-testid={`link-admin-${item.title.toLowerCase().replace(/\\s+/g, '-')}`}>\n                      <item.icon className=\"w-4 h-4\" />\n                      <span>{item.title}</span>\n                      {item.badge && (\n                        <Badge variant=\"default\" className=\"ml-auto\">\n                          {item.badge}\n                        </Badge>\n                      )}\n                    </Link>\n                  </SidebarMenuButton>\n                </SidebarMenuItem>\n              ))}\n            </SidebarMenu>\n          </SidebarGroupContent>\n        </SidebarGroup>\n      </SidebarContent>\n      <SidebarFooter className=\"p-4\">\n        <Button \n          variant=\"ghost\" \n          className=\"w-full justify-start gap-2\" \n          data-testid=\"button-logout\"\n          onClick={handleLogout}\n          disabled={logoutMutation.isPending}\n        >\n          <LogOut className=\"w-4 h-4\" />\n          {logoutMutation.isPending ? \"Logging out...\" : \"Logout\"}\n        </Button>\n      </SidebarFooter>\n    </Sidebar>\n  );\n}\n","size_bytes":3899},"client/src/components/ProtectedRoute.tsx":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport { useLocation } from \"wouter\";\nimport { useEffect } from \"react\";\n\ninterface ProtectedRouteProps {\n  children: React.ReactNode;\n}\n\ninterface SessionData {\n  authenticated: boolean;\n  email?: string;\n}\n\nexport function ProtectedRoute({ children }: ProtectedRouteProps) {\n  const [, setLocation] = useLocation();\n\n  const { data: session, isLoading } = useQuery<SessionData>({\n    queryKey: ['/api/admin/session'],\n    retry: false,\n    refetchOnMount: 'always',\n    staleTime: 0,\n  });\n\n  useEffect(() => {\n    if (!isLoading && !session?.authenticated) {\n      setLocation(\"/admin/login\");\n    }\n  }, [isLoading, session, setLocation]);\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\n          <p className=\"text-muted-foreground\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!session?.authenticated) {\n    return null;\n  }\n\n  return <>{children}</>;\n}\n","size_bytes":1148},"client/src/components/CountryTabs.tsx":{"content":"import { useState } from \"react\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Link } from \"wouter\";\n\ninterface Region {\n  name: string;\n  slug: string;\n}\n\ninterface Country {\n  name: string;\n  slug: string;\n  flag: string;\n  regions: Region[];\n}\n\nconst countries: Country[] = [\n  {\n    name: \"United States\",\n    slug: \"usa\",\n    flag: \"ðŸ‡ºðŸ‡¸\",\n    regions: [\n      { name: \"New York\", slug: \"new-york\" },\n      { name: \"California\", slug: \"california\" },\n      { name: \"Texas\", slug: \"texas\" },\n      { name: \"Florida\", slug: \"florida\" },\n      { name: \"Illinois\", slug: \"illinois\" },\n      { name: \"Washington\", slug: \"washington\" },\n    ],\n  },\n  {\n    name: \"United Kingdom\",\n    slug: \"uk\",\n    flag: \"ðŸ‡¬ðŸ‡§\",\n    regions: [\n      { name: \"London\", slug: \"london\" },\n      { name: \"Manchester\", slug: \"manchester\" },\n      { name: \"Birmingham\", slug: \"birmingham\" },\n      { name: \"Edinburgh\", slug: \"edinburgh\" },\n      { name: \"Cardiff\", slug: \"cardiff\" },\n      { name: \"Belfast\", slug: \"belfast\" },\n    ],\n  },\n  {\n    name: \"Canada\",\n    slug: \"canada\",\n    flag: \"ðŸ‡¨ðŸ‡¦\",\n    regions: [\n      { name: \"Ontario\", slug: \"ontario\" },\n      { name: \"Quebec\", slug: \"quebec\" },\n      { name: \"British Columbia\", slug: \"british-columbia\" },\n      { name: \"Alberta\", slug: \"alberta\" },\n      { name: \"Manitoba\", slug: \"manitoba\" },\n      { name: \"Saskatchewan\", slug: \"saskatchewan\" },\n    ],\n  },\n  {\n    name: \"Australia\",\n    slug: \"australia\",\n    flag: \"ðŸ‡¦ðŸ‡º\",\n    regions: [\n      { name: \"New South Wales\", slug: \"nsw\" },\n      { name: \"Victoria\", slug: \"victoria\" },\n      { name: \"Queensland\", slug: \"queensland\" },\n      { name: \"Western Australia\", slug: \"wa\" },\n      { name: \"South Australia\", slug: \"sa\" },\n      { name: \"Tasmania\", slug: \"tasmania\" },\n    ],\n  },\n  {\n    name: \"India\",\n    slug: \"india\",\n    flag: \"ðŸ‡®ðŸ‡³\",\n    regions: [\n      { name: \"Delhi\", slug: \"delhi\" },\n      { name: \"Mumbai\", slug: \"mumbai\" },\n      { name: \"Bangalore\", slug: \"bangalore\" },\n      { name: \"Hyderabad\", slug: \"hyderabad\" },\n      { name: \"Chennai\", slug: \"chennai\" },\n      { name: \"Kolkata\", slug: \"kolkata\" },\n    ],\n  },\n  {\n    name: \"Bangladesh\",\n    slug: \"bangladesh\",\n    flag: \"ðŸ‡§ðŸ‡©\",\n    regions: [\n      { name: \"Dhaka\", slug: \"dhaka\" },\n      { name: \"Chittagong\", slug: \"chittagong\" },\n      { name: \"Sylhet\", slug: \"sylhet\" },\n      { name: \"Rajshahi\", slug: \"rajshahi\" },\n      { name: \"Khulna\", slug: \"khulna\" },\n      { name: \"Barisal\", slug: \"barisal\" },\n    ],\n  },\n];\n\nexport default function CountryTabs() {\n  const [activeTab, setActiveTab] = useState(countries[0].slug);\n\n  return (\n    <div className=\"w-full\" data-testid=\"component-country-tabs\">\n      <Tabs value={activeTab} onValueChange={setActiveTab}>\n        <TabsList className=\"w-full justify-start overflow-x-auto flex-wrap h-auto gap-1\">\n          {countries.map((country) => (\n            <TabsTrigger\n              key={country.slug}\n              value={country.slug}\n              data-testid={`tab-${country.slug}`}\n              className=\"gap-2\"\n            >\n              <span>{country.flag}</span>\n              <span>{country.name}</span>\n            </TabsTrigger>\n          ))}\n        </TabsList>\n        {countries.map((country) => (\n          <TabsContent key={country.slug} value={country.slug} className=\"mt-4\">\n            <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3\">\n              {country.regions.map((region) => (\n                <Link key={region.slug} href={`/location/${country.slug}/${region.slug}`}>\n                  <Card className=\"hover-elevate active-elevate-2 cursor-pointer\" data-testid={`card-region-${region.slug}`}>\n                    <CardContent className=\"p-3\">\n                      <p className=\"font-medium text-sm text-center\">{region.name}</p>\n                    </CardContent>\n                  </Card>\n                </Link>\n              ))}\n            </div>\n          </TabsContent>\n        ))}\n      </Tabs>\n    </div>\n  );\n}\n","size_bytes":4130},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1592},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"client/src/components/examples/DivisionTabs.tsx":{"content":"import { Router } from \"wouter\";\nimport DivisionTabs from \"../DivisionTabs\";\n\nexport default function DivisionTabsExample() {\n  return (\n    <Router>\n      <div className=\"p-4\">\n        <DivisionTabs />\n      </div>\n    </Router>\n  );\n}\n","size_bytes":237},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"client/src/components/Header.tsx":{"content":"import { Link } from \"wouter\";\nimport { Search, Menu, X } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { useState } from \"react\";\nimport { Logo } from \"./Logo\";\n\nexport default function Header() {\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const navItems = [\n    { label: \"News\", href: \"/category/news\" },\n    { label: \"Business\", href: \"/category/business\" },\n    { label: \"Education\", href: \"/category/education\" },\n    { label: \"Technology\", href: \"/category/technology\" },\n    { label: \"Travel\", href: \"/category/travel\" },\n    { label: \"Entertainment\", href: \"/category/entertainment\" },\n  ];\n\n  return (\n    <header className=\"sticky top-0 z-50 bg-background border-b\">\n      <div className=\"max-w-7xl mx-auto px-4 md:px-6 lg:px-8\">\n        <div className=\"flex items-center justify-between h-16\">\n          <Link href=\"/\" data-testid=\"link-home\">\n            <Logo className=\"hover-elevate rounded-md p-1\" />\n          </Link>\n\n          <nav className=\"hidden md:flex items-center gap-1\">\n            {navItems.map((item) => (\n              <Link key={item.href} href={item.href}>\n                <Button variant=\"ghost\" size=\"sm\" data-testid={`link-${item.label.toLowerCase()}`}>\n                  {item.label}\n                </Button>\n              </Link>\n            ))}\n          </nav>\n\n          <div className=\"flex items-center gap-2\">\n            <div className=\"hidden lg:flex items-center relative\">\n              <Search className=\"absolute left-3 w-4 h-4 text-muted-foreground\" />\n              <Input\n                type=\"search\"\n                placeholder=\"Search...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"pl-9 w-64\"\n                data-testid=\"input-search\"\n              />\n            </div>\n            <Link href=\"/submit\">\n              <Button size=\"sm\" data-testid=\"button-submit\">\n                Submit Listing\n              </Button>\n            </Link>\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"md:hidden\"\n              onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\n              data-testid=\"button-menu-toggle\"\n            >\n              {mobileMenuOpen ? <X className=\"w-5 h-5\" /> : <Menu className=\"w-5 h-5\" />}\n            </Button>\n          </div>\n        </div>\n\n        {mobileMenuOpen && (\n          <div className=\"md:hidden py-4 border-t\">\n            <div className=\"flex flex-col gap-2\">\n              <div className=\"relative mb-2\">\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\n                <Input\n                  type=\"search\"\n                  placeholder=\"Search...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"pl-9\"\n                  data-testid=\"input-search-mobile\"\n                />\n              </div>\n              {navItems.map((item) => (\n                <Link key={item.href} href={item.href}>\n                  <Button\n                    variant=\"ghost\"\n                    className=\"w-full justify-start\"\n                    onClick={() => setMobileMenuOpen(false)}\n                    data-testid={`link-mobile-${item.label.toLowerCase()}`}\n                  >\n                    {item.label}\n                  </Button>\n                </Link>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    </header>\n  );\n}\n","size_bytes":3690},"client/src/components/examples/AdminSubmissionsTable.tsx":{"content":"import AdminSubmissionsTable from \"../AdminSubmissionsTable\";\n\nexport default function AdminSubmissionsTableExample() {\n  return (\n    <div className=\"p-4\">\n      <AdminSubmissionsTable />\n    </div>\n  );\n}\n","size_bytes":207},"client/src/components/examples/SubmissionForm.tsx":{"content":"import SubmissionForm from \"../SubmissionForm\";\n\nexport default function SubmissionFormExample() {\n  return (\n    <div className=\"p-4\">\n      <SubmissionForm />\n    </div>\n  );\n}\n","size_bytes":179},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"client/src/components/CategoryCard.tsx":{"content":"import { Link } from \"wouter\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { LucideIcon } from \"lucide-react\";\n\ninterface CategoryCardProps {\n  title: string;\n  count: number;\n  href: string;\n  icon: LucideIcon;\n}\n\nexport default function CategoryCard({ title, count, href, icon: Icon }: CategoryCardProps) {\n  return (\n    <Link href={href}>\n      <Card className=\"hover-elevate active-elevate-2 cursor-pointer transition-all\" data-testid={`card-category-${title.toLowerCase().replace(/\\s+/g, '-')}`}>\n        <CardContent className=\"p-4 md:p-6\">\n          <div className=\"flex items-start gap-3\">\n            <div className=\"p-2 bg-primary/10 rounded-md\">\n              <Icon className=\"w-5 h-5 text-primary\" />\n            </div>\n            <div className=\"flex-1 min-w-0\">\n              <h3 className=\"font-semibold text-base mb-1 truncate\">{title}</h3>\n              <p className=\"text-sm text-muted-foreground\">{count} listings</p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </Link>\n  );\n}\n","size_bytes":1052},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \".5625rem\", /* 9px */\n        md: \".375rem\", /* 6px */\n        sm: \".1875rem\", /* 3px */\n      },\n      colors: {\n        // Flat / base colors (regular buttons)\n        background: \"hsl(var(--background) / <alpha-value>)\",\n        foreground: \"hsl(var(--foreground) / <alpha-value>)\",\n        border: \"hsl(var(--border) / <alpha-value>)\",\n        input: \"hsl(var(--input) / <alpha-value>)\",\n        card: {\n          DEFAULT: \"hsl(var(--card) / <alpha-value>)\",\n          foreground: \"hsl(var(--card-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--card-border) / <alpha-value>)\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover) / <alpha-value>)\",\n          foreground: \"hsl(var(--popover-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--popover-border) / <alpha-value>)\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--primary-foreground) / <alpha-value>)\",\n          border: \"var(--primary-border)\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary) / <alpha-value>)\",\n          foreground: \"hsl(var(--secondary-foreground) / <alpha-value>)\",\n          border: \"var(--secondary-border)\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted) / <alpha-value>)\",\n          foreground: \"hsl(var(--muted-foreground) / <alpha-value>)\",\n          border: \"var(--muted-border)\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--accent-foreground) / <alpha-value>)\",\n          border: \"var(--accent-border)\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive) / <alpha-value>)\",\n          foreground: \"hsl(var(--destructive-foreground) / <alpha-value>)\",\n          border: \"var(--destructive-border)\",\n        },\n        ring: \"hsl(var(--ring) / <alpha-value>)\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--chart-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--chart-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--chart-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--chart-5) / <alpha-value>)\",\n        },\n        sidebar: {\n          ring: \"hsl(var(--sidebar-ring) / <alpha-value>)\",\n          DEFAULT: \"hsl(var(--sidebar) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--sidebar-border) / <alpha-value>)\",\n        },\n        \"sidebar-primary\": {\n          DEFAULT: \"hsl(var(--sidebar-primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-primary-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-primary-border)\",\n        },\n        \"sidebar-accent\": {\n          DEFAULT: \"hsl(var(--sidebar-accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-accent-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-accent-border)\"\n        },\n        status: {\n          online: \"rgb(34 197 94)\",\n          away: \"rgb(245 158 11)\",\n          busy: \"rgb(239 68 68)\",\n          offline: \"rgb(156 163 175)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":4050},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1202},"client/src/components/examples/Footer.tsx":{"content":"import { Router } from \"wouter\";\nimport Footer from \"../Footer\";\n\nexport default function FooterExample() {\n  return (\n    <Router>\n      <Footer />\n    </Router>\n  );\n}\n","size_bytes":170},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5741},"client/src/pages/CategoryPage.tsx":{"content":"import { useRoute, Link } from \"wouter\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport ListingCard from \"@/components/ListingCard\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport type { Category, Listing } from \"@shared/schema\";\n\nexport default function CategoryPage() {\n  const [, params] = useRoute(\"/category/:category\");\n  const categorySlug = params?.category || \"all\";\n\n  const { data: category, isLoading: categoryLoading } = useQuery<Category>({\n    queryKey: [`/api/categories/${categorySlug}`],\n  });\n\n  const { data: listings = [], isLoading: listingsLoading } = useQuery<Listing[]>({\n    queryKey: category ? [`/api/listings?categoryId=${category.id}`] : [\"disabled-listings\"],\n    enabled: !!category,\n  });\n\n  return (\n    <div className=\"min-h-screen flex flex-col\">\n      <Header />\n      \n      <main className=\"flex-1\">\n        {categoryLoading ? (\n          <div className=\"text-center py-12\">Loading...</div>\n        ) : !category ? (\n          <div className=\"text-center py-12\">\n            <h1 className=\"text-2xl font-bold mb-4\">Category Not Found</h1>\n            <Link href=\"/\">\n              <Button>Return Home</Button>\n            </Link>\n          </div>\n        ) : (\n          <>\n            <div className=\"bg-muted/30 py-6 border-b\">\n              <div className=\"max-w-7xl mx-auto px-4 md:px-6 lg:px-8\">\n                <nav className=\"text-sm text-muted-foreground mb-3\">\n                  <Link href=\"/\" className=\"hover:text-foreground\">Home</Link> / \n                  <span> Categories</span> / \n                  <span className=\"text-foreground\"> {category.name}</span>\n                </nav>\n                <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\n                  <div>\n                    <h1 className=\"text-3xl font-bold mb-2\">{category.name}</h1>\n                    <p className=\"text-muted-foreground\">\n                      Showing {listings.length} listing{listings.length !== 1 ? 's' : ''}\n                    </p>\n                  </div>\n                  <div className=\"flex items-center gap-3\">\n                    <Select defaultValue=\"recent\">\n                      <SelectTrigger className=\"w-40\" data-testid=\"select-sort\">\n                        <SelectValue placeholder=\"Sort by\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"recent\">Most Recent</SelectItem>\n                        <SelectItem value=\"popular\">Most Popular</SelectItem>\n                        <SelectItem value=\"name\">Name (A-Z)</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <section className=\"py-8 md:py-12\">\n              <div className=\"max-w-7xl mx-auto px-4 md:px-6 lg:px-8\">\n                {listingsLoading ? (\n                  <div className=\"text-center py-12 text-muted-foreground\">Loading listings...</div>\n                ) : listings.length === 0 ? (\n                  <div className=\"text-center py-12 text-muted-foreground\">\n                    <p className=\"mb-4\">No listings found in this category yet.</p>\n                    <Link href=\"/submit\">\n                      <Button>Submit First Listing</Button>\n                    </Link>\n                  </div>\n                ) : (\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                    {listings.map((listing) => (\n                      <ListingCard\n                        key={listing.id}\n                        id={listing.id.toString()}\n                        title={listing.title}\n                        category={category.name}\n                        location={`Listing ${listing.id}`}\n                        description={listing.description}\n                        featured={listing.featured}\n                      />\n                    ))}\n                  </div>\n                )}\n              </div>\n            </section>\n          </>\n        )}\n      </main>\n\n      <Footer />\n    </div>\n  );\n}\n","size_bytes":4355},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"design_guidelines.md":{"content":"# Design Guidelines: Global Directory Portal\n\n## Design Approach\n**System-Based Approach** using principles from Material Design and traditional directory portals, optimized for information density and scanability. This is a content-first, utility-focused global application where clear hierarchy, efficient navigation, and international accessibility are paramount.\n\n## Typography System\n\n**Font Families:**\n- Primary: 'Inter' or 'Roboto' for UI elements and navigation\n- Content: 'Noto Sans Bengali' for Bengali text support\n- Accent: System font stack for performance\n\n**Hierarchy:**\n- Page Titles: text-3xl md:text-4xl font-bold\n- Section Headers: text-2xl font-semibold\n- Category Headers: text-xl font-medium\n- Listing Titles: text-lg font-medium\n- Body Text: text-base\n- Meta Info: text-sm\n- Captions: text-xs\n\n## Layout System\n\n**Spacing Primitives:** Tailwind units of 2, 3, 4, 6, 8, 12, 16\n- Component padding: p-4 md:p-6\n- Section spacing: py-8 md:py-12\n- Card gaps: gap-4 md:gap-6\n- Grid gaps: gap-3 md:gap-4\n\n**Container Strategy:**\n- Max width: max-w-7xl mx-auto\n- Side padding: px-4 md:px-6 lg:px-8\n- Content sections: Full-width with inner containment\n\n**Grid Layouts:**\n- Category cards: grid-cols-2 md:grid-cols-3 lg:grid-cols-4\n- Listing items: grid-cols-1 md:grid-cols-2 lg:grid-cols-3\n- District navigation: grid-cols-2 sm:grid-cols-3 md:grid-cols-4\n- Admin dashboard: grid-cols-1 lg:grid-cols-3\n\n## Homepage Structure\n\n**1. Header Navigation (Sticky)**\n- Logo with flag icon on left\n- Horizontal navigation menu: Bangla News | English News | Online | Magazines | Radio | TV | World | Banks | Universities\n- Search icon and Submit button on right\n- Mobile: Hamburger menu, compact logo\n\n**2. Date & Quick Stats Bar**\n- Current date display in both Bangla and English\n- Key stats: \"450+ Listings | 64 Districts | 8 Divisions\"\n\n**3. Hero Section (No large image needed)**\n- Site tagline: \"Bangladesh's Complete Directory Portal\"\n- Brief description text\n- Quick category grid (4 featured categories with icons)\n- CTA: \"Submit Your Business\" button\n\n**4. Featured Categories Grid**\n- 8 category cards in responsive grid\n- Each card: Icon, category name, listing count, \"View All\" link\n- Subtle border, hover effect with slight elevation\n\n**5. Division & District Navigator**\n- Tabbed interface for 8 divisions (Dhaka, Chittagong, etc.)\n- Each tab shows district grid with district names as clickable cards\n- Shows district count per division\n\n**6. Recent Listings Section**\n- Grid of 12 recent/popular listings\n- Each card: Logo placeholder, title, category tag, location, brief description\n- \"View More\" button\n\n**7. Information Sidebar** (Desktop: sticky right column, Mobile: bottom section)\n- \"This Day in History\" widget\n- \"Popular Resources\" links (Banks, Universities, Post Codes)\n- \"Quick Stats\" widget\n- Mobile apps promotion\n\n**8. Footer**\n- About section\n- Category links organized by type\n- Division links\n- Contact information\n- Copyright and credits\n\n## Category/Listing Pages\n\n**Page Header:**\n- Breadcrumb navigation\n- Category title and description\n- Filter/Sort controls (dropdown for subcategories, sort options)\n\n**Listing Grid:**\n- Card-based layout with consistent sizing\n- Each card: Logo/icon, title, category badge, location tag, short description, \"View Details\" link\n- Pagination at bottom (showing \"Page X of Y\")\n\n## Listing Detail Page\n\n**Layout:**\n- Two-column on desktop (8-4 split), single column mobile\n- **Main Column:** Logo, title, full description, contact details, website link, social links\n- **Sidebar:** Category, location, submitted date, related listings, \"Report Listing\" link\n\n## Submission Form Page\n\n**Form Structure:**\n- Progress indicator showing \"Step 1 of 2\"\n- **Step 1 - Basic Info:** Business name, category dropdown, subcategory, division, district\n- **Step 2 - Details:** Description textarea, contact person, phone, email, website, logo upload\n- Form validation with inline error messages\n- Clear Submit button with \"Your submission will be reviewed\" note\n\n## Admin Panel\n\n**Layout:** Sidebar navigation + main content area\n\n**Sidebar:**\n- Dashboard, Pending Submissions (with count badge), All Listings, Categories, Districts, Settings, Logout\n\n**Dashboard:**\n- Stats cards: Total Listings, Pending, Approved This Week, Total Views\n- Recent submissions table preview\n- Quick actions\n\n**Submissions Management:**\n- Table view with columns: Date, Business Name, Category, Location, Status\n- Actions: View, Approve, Reject, Edit, Delete\n- Bulk action checkbox\n- Filter by status (Pending, Approved, Rejected)\n\n**Listing Editor:**\n- Form mirroring submission form\n- Status toggle (Draft, Published, Featured)\n- Additional admin fields (Featured position, priority)\n\n## Component Library\n\n**Cards:**\n- Standard card: rounded-lg border p-4 hover:shadow-md transition\n- Featured card: border-2 with subtle accent\n\n**Badges:**\n- Category tags: px-3 py-1 rounded-full text-sm\n- Status badges: Pending (neutral), Approved (success), Rejected (error)\n\n**Buttons:**\n- Primary: px-6 py-3 rounded-lg font-medium\n- Secondary: outlined variant\n- Small: px-4 py-2 text-sm\n\n**Forms:**\n- Labels: text-sm font-medium mb-2\n- Inputs: w-full p-3 border rounded-lg\n- Error states: red border with error text below\n- Select dropdowns: consistent with input styling\n\n**Navigation:**\n- Horizontal tabs: border-b with active indicator\n- Sidebar nav: full-width items with icons, active state highlighted\n\n## Responsive Behavior\n\n- Mobile: Single column, stacked navigation, collapsible filters\n- Tablet: 2-column grids, visible primary navigation\n- Desktop: Multi-column layouts, sticky sidebars\n\n## Images\n\n**No hero images required.** This is a directory portal focused on organized content presentation.\n\n**Logo placeholders:** Use throughout listing cards and detail pages for business logos (150x150px recommended size)\n\n**Icons:** Use Heroicons for all interface icons (categories, navigation, actions)","size_bytes":5955},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"client/src/components/examples/CategoryCard.tsx":{"content":"import { Router } from \"wouter\";\nimport CategoryCard from \"../CategoryCard\";\nimport { Newspaper, Building2, GraduationCap, Landmark } from \"lucide-react\";\n\nexport default function CategoryCardExample() {\n  return (\n    <Router>\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 p-4\">\n        <CategoryCard title=\"News\" count={125} href=\"/category/news\" icon={Newspaper} />\n        <CategoryCard title=\"Services\" count={340} href=\"/category/services\" icon={Building2} />\n        <CategoryCard title=\"Education\" count={89} href=\"/category/education\" icon={GraduationCap} />\n        <CategoryCard title=\"Banks\" count={52} href=\"/category/banks\" icon={Landmark} />\n      </div>\n    </Router>\n  );\n}\n","size_bytes":705},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"client/src/pages/SubmitPage.tsx":{"content":"import Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport SubmissionForm from \"@/components/SubmissionForm\";\n\nexport default function SubmitPage() {\n  return (\n    <div className=\"min-h-screen flex flex-col\">\n      <Header />\n      \n      <main className=\"flex-1 py-8 md:py-12 bg-muted/30\">\n        <div className=\"max-w-7xl mx-auto px-4 md:px-6 lg:px-8\">\n          <div className=\"mb-8 text-center\">\n            <h1 className=\"text-3xl md:text-4xl font-bold mb-3\">Submit Your Listing</h1>\n            <p className=\"text-muted-foreground\">\n              Join thousands of businesses already listed on our global platform\n            </p>\n          </div>\n          <SubmissionForm />\n        </div>\n      </main>\n\n      <Footer />\n    </div>\n  );\n}\n","size_bytes":782},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},"replit.md":{"content":"# The USA Mirror - Global Business & Service Directory\n\n## Overview\n\nThe USA Mirror is a comprehensive global business and service directory platform that enables users to browse, search, and submit business listings across multiple countries, regions, and categories. It features a content-rich portal with news, categorized listings, geographic organization, and an administrative dashboard for managing content. The platform supports both free and promotional listings with tiered packages for featured placements, aiming to be a key global business resource.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n\n**Technology Stack:**\n- **Framework**: React 18 with TypeScript\n- **Routing**: Wouter\n- **State Management**: TanStack Query (React Query)\n- **Form Handling**: React Hook Form with Zod validation\n- **UI Components**: Radix UI primitives with shadcn/ui design system\n- **Styling**: Tailwind CSS with custom design tokens\n\n**Design System:**\n- Material Design principles with high information density\n- Responsive grid layouts\n- Custom color system with light/dark themes\n- Typography with Inter/Roboto and Noto Sans Bengali for multilingual support\n\n### Backend Architecture\n\n**Technology Stack:**\n- **Runtime**: Node.js with Express.js\n- **Language**: TypeScript\n- **ORM**: Drizzle ORM\n- **Session Management**: Express-session with PostgreSQL store\n- **Authentication**: BCrypt for password hashing\n- **Build Tool**: Vite for frontend, esbuild for backend\n\n**API Design:**\n- RESTful endpoints\n- Session-based authentication for admin routes\n- JSON request/response format\n- Centralized error handling\n\n**Authentication & Authorization:**\n- Email-based authentication for admin users\n- BCrypt password hashing (10 rounds)\n- SHA-256 token hashing for password reset and email verification\n- Session regeneration to prevent fixation attacks\n- Postgres-backed session storage\n\n### Data Architecture\n\n**Database:** PostgreSQL (via Neon serverless)\n\n**Core Schema Tables:**\n- **categories**: Hierarchical system for business types.\n- **countries**, **regions**, **cities**: Geographic organization for listings.\n- **listings**: Approved business entries with details, location, and media.\n- **submissions**: Pending listings awaiting admin approval.\n- **promotional_packages**: Tiered pricing for featured listings.\n- **admin_users**: Admin authentication.\n- **users**: User authentication and profile data.\n- **listingViews**: Analytics for listing views.\n- **fieldConfigs**: Dynamic form configurations.\n- **session**: Session persistence.\n\n**Design Decisions:**\n- Denormalized category counts for performance.\n- Slug-based URLs for SEO.\n- Separate submissions table for content moderation.\n- Price stored in cents to avoid floating-point issues.\n\n## External Dependencies\n\n**Database:**\n- **Neon Serverless PostgreSQL**: Primary data store.\n- **@neondatabase/serverless**: Connection pooling.\n- **connect-pg-simple**: PostgreSQL session store.\n\n**UI Component Library:**\n- **Radix UI**: Accessible component primitives.\n- **shadcn/ui**: Design system built on Radix UI.\n\n**Form Validation:**\n- **Zod**: Runtime type validation.\n- **React Hook Form**: Form management.\n\n**Build & Development:**\n- **Vite**: Frontend development and bundling.\n- **esbuild**: Backend bundling.\n\n**Authentication:**\n- **BCrypt**: Password hashing.\n\n**Styling:**\n- **Tailwind CSS**: Utility-first CSS framework.\n- **PostCSS**: CSS processing.\n\n**Type Safety:**\n- **TypeScript**: Full type coverage.\n- **Drizzle-Zod**: Zod schemas from database schema.","size_bytes":3622},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"shared/schema.ts":{"content":"import { pgTable, text, serial, timestamp, boolean, integer, unique } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\n// User tables must come first so they can be referenced by other tables\nexport const users = pgTable(\"users\", {\n  id: serial(\"id\").primaryKey(),\n  email: text(\"email\").notNull().unique(),\n  passwordHash: text(\"password_hash\").notNull(),\n  firstName: text(\"first_name\"),\n  lastName: text(\"last_name\"),\n  phone: text(\"phone\"),\n  emailVerified: boolean(\"email_verified\").notNull().default(false),\n  verificationTokenHash: text(\"verification_token_hash\"), // HASHED token, not plaintext\n  verificationTokenExpiry: timestamp(\"verification_token_expiry\"),\n  resetTokenHash: text(\"reset_token_hash\"), // HASHED token, not plaintext\n  resetTokenExpiry: timestamp(\"reset_token_expiry\"),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\nexport const adminUsers = pgTable(\"admin_users\", {\n  id: serial(\"id\").primaryKey(),\n  username: text(\"username\").notNull().unique(),\n  email: text(\"email\").notNull().unique(),\n  passwordHash: text(\"password_hash\").notNull(),\n  resetTokenHash: text(\"reset_token_hash\"), // HASHED token, not plaintext\n  resetTokenExpiry: timestamp(\"reset_token_expiry\"),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\n// Categories can now reference users\nexport const categories = pgTable(\"categories\", {\n  id: serial(\"id\").primaryKey(),\n  name: text(\"name\").notNull().unique(),\n  slug: text(\"slug\").notNull().unique(),\n  icon: text(\"icon\").notNull(),\n  logoUrl: text(\"logo_url\"),\n  count: integer(\"count\").notNull().default(0),\n  parentId: integer(\"parent_id\").references((): any => categories.id), // for subcategories\n  createdBy: text(\"created_by\").default(\"system\"), // 'system', 'admin', or 'user'\n  createdByUserId: integer(\"created_by_user_id\").references(() => users.id), // NOW VALID\n  approved: boolean(\"approved\").notNull().default(true), // user-created categories need approval\n});\n\nexport const countries = pgTable(\"countries\", {\n  id: serial(\"id\").primaryKey(),\n  name: text(\"name\").notNull().unique(),\n  slug: text(\"slug\").notNull().unique(),\n  code: text(\"code\").notNull().unique(), // ISO 3166-1 alpha-2 code (e.g., US, GB, IN)\n  flag: text(\"flag\").notNull(),\n  continent: text(\"continent\"),\n});\n\nexport const regions = pgTable(\"regions\", {\n  id: serial(\"id\").primaryKey(),\n  name: text(\"name\").notNull(),\n  slug: text(\"slug\").notNull(),\n  countryId: integer(\"country_id\").notNull().references(() => countries.id),\n  type: text(\"type\"), // state, province, territory, etc.\n});\n\nexport const cities = pgTable(\"cities\", {\n  id: serial(\"id\").primaryKey(),\n  name: text(\"name\").notNull(),\n  slug: text(\"slug\").notNull(),\n  regionId: integer(\"region_id\").references(() => regions.id),\n  countryId: integer(\"country_id\").notNull().references(() => countries.id),\n  population: integer(\"population\"),\n  isCapital: boolean(\"is_capital\").default(false),\n  latitude: text(\"latitude\"),\n  longitude: text(\"longitude\"),\n});\n\nexport const promotionalPackages = pgTable(\"promotional_packages\", {\n  id: serial(\"id\").primaryKey(),\n  name: text(\"name\").notNull(),\n  price: integer(\"price\").notNull(), // Price in cents\n  durationDays: integer(\"duration_days\").notNull(),\n  features: text(\"features\").array().notNull(),\n  active: boolean(\"active\").notNull().default(true),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\nexport const listings = pgTable(\"listings\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").references(() => users.id), // NOW PRESENT for ownership\n  title: text(\"title\").notNull(),\n  description: text(\"description\").notNull(),\n  categoryId: integer(\"category_id\").notNull().references(() => categories.id),\n  countryId: integer(\"country_id\").notNull().references(() => countries.id),\n  regionId: integer(\"region_id\").notNull().references(() => regions.id),\n  cityId: integer(\"city_id\").references(() => cities.id),\n  contactPerson: text(\"contact_person\").notNull(),\n  phone: text(\"phone\").notNull(),\n  email: text(\"email\").notNull(),\n  website: text(\"website\"),\n  imageUrl: text(\"image_url\"),\n  videoUrl: text(\"video_url\"),\n  documentUrl: text(\"document_url\"), // business registration document\n  listingType: text(\"listing_type\").notNull().default(\"free\"), // 'free' or 'promotional'\n  packageId: integer(\"package_id\").references(() => promotionalPackages.id),\n  featured: boolean(\"featured\").notNull().default(false),\n  views: integer(\"views\").notNull().default(0),\n  position: integer(\"position\"), // admin-controlled position (1 = top)\n  positionExpiresAt: timestamp(\"position_expires_at\"), // when position expires\n  expiresAt: timestamp(\"expires_at\"),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n}, (table) => ({\n  // Partial unique index: only one listing can have a specific position in a category (NULLs are distinct - unlimited unpositioned listings allowed)\n  uniquePositionPerCategory: unique(\"unique_position_per_category\").on(table.categoryId, table.position),\n}));\n\nexport const submissions = pgTable(\"submissions\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").references(() => users.id), // NOW PRESENT for ownership\n  businessName: text(\"business_name\").notNull(),\n  description: text(\"description\").notNull(),\n  categoryId: integer(\"category_id\").notNull().references(() => categories.id),\n  countryId: integer(\"country_id\").notNull().references(() => countries.id),\n  regionId: integer(\"region_id\").references(() => regions.id), // Optional - can use regionName instead\n  cityId: integer(\"city_id\").references(() => cities.id), // Optional - can use cityName instead\n  regionName: text(\"region_name\"), // Manual entry for region/state\n  cityName: text(\"city_name\"), // Manual entry for city\n  contactPerson: text(\"contact_person\").notNull(),\n  phone: text(\"phone\").notNull(),\n  email: text(\"email\").notNull(),\n  website: text(\"website\"),\n  imageUrl: text(\"image_url\"),\n  videoUrl: text(\"video_url\"),\n  documentUrl: text(\"document_url\"), // business registration document\n  listingType: text(\"listing_type\").notNull().default(\"free\"), // 'free' or 'promotional'\n  packageId: integer(\"package_id\").references(() => promotionalPackages.id),\n  status: text(\"status\").notNull().default(\"pending\"),\n  submittedAt: timestamp(\"submitted_at\").notNull().defaultNow(),\n  reviewedAt: timestamp(\"reviewed_at\"),\n});\n\nexport const listingViews = pgTable(\"listing_views\", {\n  id: serial(\"id\").primaryKey(),\n  listingId: integer(\"listing_id\").notNull().references(() => listings.id),\n  userId: integer(\"user_id\").references(() => users.id), // NULL for anonymous\n  sessionId: text(\"session_id\"), // For anonymous visitor tracking\n  ipAddressHash: text(\"ip_address_hash\"), // HASHED IP for privacy\n  userAgent: text(\"user_agent\"),\n  country: text(\"country\"),\n  city: text(\"city\"),\n  viewedAt: timestamp(\"viewed_at\").notNull().defaultNow(),\n});\n\nexport const fieldConfigs = pgTable(\"field_configs\", {\n  id: serial(\"id\").primaryKey(),\n  fieldName: text(\"field_name\").notNull().unique(),\n  displayName: text(\"display_name\").notNull(),\n  fieldType: text(\"field_type\").notNull(), // text, email, phone, url, textarea, file\n  required: boolean(\"required\").notNull().default(false),\n  enabled: boolean(\"enabled\").notNull().default(true),\n  helpText: text(\"help_text\"),\n});\n\n// Insert schemas\nexport const insertUserSchema = createInsertSchema(users).omit({ \n  id: true, \n  emailVerified: true, \n  verificationTokenHash: true, \n  verificationTokenExpiry: true, \n  resetTokenHash: true, \n  resetTokenExpiry: true, \n  createdAt: true \n});\nexport const insertAdminUserSchema = createInsertSchema(adminUsers).omit({ \n  id: true, \n  resetTokenHash: true, \n  resetTokenExpiry: true, \n  createdAt: true \n});\nexport const insertCategorySchema = createInsertSchema(categories).omit({ \n  id: true, \n  count: true, \n  approved: true \n});\nexport const insertCountrySchema = createInsertSchema(countries).omit({ id: true });\nexport const insertRegionSchema = createInsertSchema(regions).omit({ id: true });\nexport const insertCitySchema = createInsertSchema(cities).omit({ id: true });\nexport const insertPromotionalPackageSchema = createInsertSchema(promotionalPackages).omit({ \n  id: true, \n  createdAt: true \n});\nexport const insertListingSchema = createInsertSchema(listings).omit({ \n  id: true, \n  views: true, \n  createdAt: true, \n  featured: true, \n  expiresAt: true, \n  position: true, \n  positionExpiresAt: true \n});\nexport const insertSubmissionSchema = createInsertSchema(submissions).omit({ \n  id: true, \n  status: true, \n  submittedAt: true, \n  reviewedAt: true \n});\nexport const insertListingViewSchema = createInsertSchema(listingViews).omit({ \n  id: true, \n  viewedAt: true \n});\nexport const insertFieldConfigSchema = createInsertSchema(fieldConfigs).omit({ id: true });\n\n// Types\nexport type User = typeof users.$inferSelect;\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type AdminUser = typeof adminUsers.$inferSelect;\nexport type InsertAdminUser = z.infer<typeof insertAdminUserSchema>;\nexport type Category = typeof categories.$inferSelect;\nexport type InsertCategory = z.infer<typeof insertCategorySchema>;\nexport type Country = typeof countries.$inferSelect;\nexport type InsertCountry = z.infer<typeof insertCountrySchema>;\nexport type Region = typeof regions.$inferSelect;\nexport type InsertRegion = z.infer<typeof insertRegionSchema>;\nexport type City = typeof cities.$inferSelect;\nexport type InsertCity = z.infer<typeof insertCitySchema>;\nexport type PromotionalPackage = typeof promotionalPackages.$inferSelect;\nexport type InsertPromotionalPackage = z.infer<typeof insertPromotionalPackageSchema>;\nexport type Listing = typeof listings.$inferSelect;\nexport type InsertListing = z.infer<typeof insertListingSchema>;\nexport type Submission = typeof submissions.$inferSelect;\nexport type InsertSubmission = z.infer<typeof insertSubmissionSchema>;\nexport type ListingView = typeof listingViews.$inferSelect;\nexport type InsertListingView = z.infer<typeof insertListingViewSchema>;\nexport type FieldConfig = typeof fieldConfigs.$inferSelect;\nexport type InsertFieldConfig = z.infer<typeof insertFieldConfigSchema>;\n\n// Paginated Response Schema\nexport const paginatedResponseSchema = <T extends z.ZodTypeAny>(itemSchema: T) => z.object({\n  data: z.array(itemSchema),\n  page: z.number().int().positive(),\n  pageSize: z.number().int().positive(),\n  total: z.number().int().nonnegative(),\n});\n\nexport type PaginatedResponse<T> = {\n  data: T[];\n  page: number;\n  pageSize: number;\n  total: number;\n};\n","size_bytes":10635},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* LIGHT MODE */\n:root {\n  --button-outline: rgba(0,0,0, .10);\n  --badge-outline: rgba(0,0,0, .05);\n  --opaque-button-border-intensity: -8;\n  --elevate-1: rgba(0,0,0, .03);\n  --elevate-2: rgba(0,0,0, .08);\n  --background: 0 0% 100%;\n  --foreground: 0 0% 9%;\n  --border: 0 0% 89%;\n  --card: 0 0% 98%;\n  --card-foreground: 0 0% 9%;\n  --card-border: 0 0% 94%;\n  --sidebar: 0 0% 96%;\n  --sidebar-foreground: 0 0% 9%;\n  --sidebar-border: 0 0% 92%;\n  --sidebar-primary: 142 76% 36%;\n  --sidebar-primary-foreground: 0 0% 98%;\n  --sidebar-accent: 0 0% 90%;\n  --sidebar-accent-foreground: 0 0% 9%;\n  --sidebar-ring: 142 76% 36%;\n  --popover: 0 0% 94%;\n  --popover-foreground: 0 0% 9%;\n  --popover-border: 0 0% 88%;\n  --primary: 142 76% 36%;\n  --primary-foreground: 0 0% 98%;\n  --secondary: 0 0% 88%;\n  --secondary-foreground: 0 0% 9%;\n  --muted: 0 0% 90%;\n  --muted-foreground: 0 0% 35%;\n  --accent: 142 12% 92%;\n  --accent-foreground: 0 0% 9%;\n  --destructive: 0 84% 42%;\n  --destructive-foreground: 0 0% 98%;\n  --input: 0 0% 75%;\n  --ring: 142 76% 36%;\n  --chart-1: 142 76% 36%;\n  --chart-2: 32 95% 44%;\n  --chart-3: 271 81% 56%;\n  --chart-4: 220 70% 50%;\n  --chart-5: 340 82% 52%;\n  --font-sans: Inter, Roboto, system-ui, sans-serif;\n  --font-serif: Georgia, serif;\n  --font-mono: Menlo, monospace;\n  --radius: .5rem;\n  --shadow-2xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);\n  --shadow-xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);\n  --shadow-sm: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 1px 2px -1px hsl(0 0% 0% / 0.00);\n  --shadow: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 1px 2px -1px hsl(0 0% 0% / 0.00);\n  --shadow-md: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 2px 4px -1px hsl(0 0% 0% / 0.00);\n  --shadow-lg: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 4px 6px -1px hsl(0 0% 0% / 0.00);\n  --shadow-xl: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 8px 10px -1px hsl(0 0% 0% / 0.00);\n  --shadow-2xl: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);\n  --tracking-normal: 0em;\n  --spacing: 0.25rem;\n\n/* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n.dark {\n  --button-outline: rgba(255,255,255, .10);\n  --badge-outline: rgba(255,255,255, .05);\n  --opaque-button-border-intensity: 9;\n  --elevate-1: rgba(255,255,255, .04);\n  --elevate-2: rgba(255,255,255, .09);\n  --background: 0 0% 9%;\n  --foreground: 0 0% 98%;\n  --border: 0 0% 18%;\n  --card: 0 0% 11%;\n  --card-foreground: 0 0% 98%;\n  --card-border: 0 0% 14%;\n  --sidebar: 0 0% 13%;\n  --sidebar-foreground: 0 0% 98%;\n  --sidebar-border: 0 0% 16%;\n  --sidebar-primary: 142 76% 36%;\n  --sidebar-primary-foreground: 0 0% 98%;\n  --sidebar-accent: 0 0% 17%;\n  --sidebar-accent-foreground: 0 0% 98%;\n  --sidebar-ring: 142 76% 36%;\n  --popover: 0 0% 15%;\n  --popover-foreground: 0 0% 98%;\n  --popover-border: 0 0% 18%;\n  --primary: 142 76% 36%;\n  --primary-foreground: 0 0% 98%;\n  --secondary: 0 0% 19%;\n  --secondary-foreground: 0 0% 98%;\n  --muted: 0 0% 17%;\n  --muted-foreground: 0 0% 65%;\n  --accent: 142 12% 15%;\n  --accent-foreground: 0 0% 98%;\n  --destructive: 0 84% 42%;\n  --destructive-foreground: 0 0% 98%;\n  --input: 0 0% 30%;\n  --ring: 142 76% 36%;\n  --chart-1: 142 70% 45%;\n  --chart-2: 32 95% 55%;\n  --chart-3: 271 81% 65%;\n  --chart-4: 220 70% 60%;\n  --chart-5: 340 82% 62%;\n  --shadow-2xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);\n  --shadow-xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);\n  --shadow-sm: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 1px 2px -1px hsl(0 0% 0% / 0.00);\n  --shadow: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 1px 2px -1px hsl(0 0% 0% / 0.00);\n  --shadow-md: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 2px 4px -1px hsl(0 0% 0% / 0.00);\n  --shadow-lg: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 4px 6px -1px hsl(0 0% 0% / 0.00);\n  --shadow-xl: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 8px 10px -1px hsl(0 0% 0% / 0.00);\n  --shadow-2xl: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);\n\n/* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n\n/**\n * Using the elevate system.\n * Automatic contrast adjustment.\n *\n * <element className=\"hover-elevate\" />\n * <element className=\"active-elevate-2\" />\n *\n * // Using the tailwind utility when a data attribute is \"on\"\n * <element className=\"toggle-elevate data-[state=on]:toggle-elevated\" />\n * // Or manually controlling the toggle state\n * <element className=\"toggle-elevate toggle-elevated\" />\n *\n * Elevation systems have to handle many states.\n * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)\n * - toggled or not\n * - focused or not (this is not handled with these utilities)\n *\n * Even without handling focused or not, this is six possible combinations that\n * need to be distinguished from eachother visually.\n */\n@layer utilities {\n\n  /* Hide ugly search cancel button in Chrome until we can style it properly */\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  /* Placeholder styling for contentEditable div */\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of\n   * buttons/badges can remove the automatic brightness adjustment on interactions\n   * and program their own. */\n  .no-default-hover-elevate {}\n\n  .no-default-active-elevate {}\n\n\n  /**\n   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.\n   * This way they can stack/compound. Both will overlap the parent's borders!\n   * So borders will be automatically adjusted both on toggle, and hover/active,\n   * and they will be compounded.\n   */\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: -1;\n    /* sits behind content but above backdrop */\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  /* Does not work on elements with overflow:hidden! */\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: 999;\n    /* sits in front of content */\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {\n    inset: -1px;\n  }\n}\n","size_bytes":10547},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"server/world-data-seed.ts":{"content":"import { db } from \"./db\";\nimport { countries, regions, cities } from \"@shared/schema\";\n\n// Comprehensive world countries data with ISO codes, flags, and continents\nconst worldCountries = [\n  // Africa\n  { name: \"Algeria\", code: \"DZ\", slug: \"algeria\", flag: \"ðŸ‡©ðŸ‡¿\", continent: \"Africa\" },\n  { name: \"Angola\", code: \"AO\", slug: \"angola\", flag: \"ðŸ‡¦ðŸ‡´\", continent: \"Africa\" },\n  { name: \"Benin\", code: \"BJ\", slug: \"benin\", flag: \"ðŸ‡§ðŸ‡¯\", continent: \"Africa\" },\n  { name: \"Botswana\", code: \"BW\", slug: \"botswana\", flag: \"ðŸ‡§ðŸ‡¼\", continent: \"Africa\" },\n  { name: \"Burkina Faso\", code: \"BF\", slug: \"burkina-faso\", flag: \"ðŸ‡§ðŸ‡«\", continent: \"Africa\" },\n  { name: \"Burundi\", code: \"BI\", slug: \"burundi\", flag: \"ðŸ‡§ðŸ‡®\", continent: \"Africa\" },\n  { name: \"Cameroon\", code: \"CM\", slug: \"cameroon\", flag: \"ðŸ‡¨ðŸ‡²\", continent: \"Africa\" },\n  { name: \"Cape Verde\", code: \"CV\", slug: \"cape-verde\", flag: \"ðŸ‡¨ðŸ‡»\", continent: \"Africa\" },\n  { name: \"Central African Republic\", code: \"CF\", slug: \"central-african-republic\", flag: \"ðŸ‡¨ðŸ‡«\", continent: \"Africa\" },\n  { name: \"Chad\", code: \"TD\", slug: \"chad\", flag: \"ðŸ‡¹ðŸ‡©\", continent: \"Africa\" },\n  { name: \"Comoros\", code: \"KM\", slug: \"comoros\", flag: \"ðŸ‡°ðŸ‡²\", continent: \"Africa\" },\n  { name: \"Congo\", code: \"CG\", slug: \"congo\", flag: \"ðŸ‡¨ðŸ‡¬\", continent: \"Africa\" },\n  { name: \"Democratic Republic of the Congo\", code: \"CD\", slug: \"dr-congo\", flag: \"ðŸ‡¨ðŸ‡©\", continent: \"Africa\" },\n  { name: \"Djibouti\", code: \"DJ\", slug: \"djibouti\", flag: \"ðŸ‡©ðŸ‡¯\", continent: \"Africa\" },\n  { name: \"Egypt\", code: \"EG\", slug: \"egypt\", flag: \"ðŸ‡ªðŸ‡¬\", continent: \"Africa\" },\n  { name: \"Equatorial Guinea\", code: \"GQ\", slug: \"equatorial-guinea\", flag: \"ðŸ‡¬ðŸ‡¶\", continent: \"Africa\" },\n  { name: \"Eritrea\", code: \"ER\", slug: \"eritrea\", flag: \"ðŸ‡ªðŸ‡·\", continent: \"Africa\" },\n  { name: \"Ethiopia\", code: \"ET\", slug: \"ethiopia\", flag: \"ðŸ‡ªðŸ‡¹\", continent: \"Africa\" },\n  { name: \"Gabon\", code: \"GA\", slug: \"gabon\", flag: \"ðŸ‡¬ðŸ‡¦\", continent: \"Africa\" },\n  { name: \"Gambia\", code: \"GM\", slug: \"gambia\", flag: \"ðŸ‡¬ðŸ‡²\", continent: \"Africa\" },\n  { name: \"Ghana\", code: \"GH\", slug: \"ghana\", flag: \"ðŸ‡¬ðŸ‡­\", continent: \"Africa\" },\n  { name: \"Guinea\", code: \"GN\", slug: \"guinea\", flag: \"ðŸ‡¬ðŸ‡³\", continent: \"Africa\" },\n  { name: \"Guinea-Bissau\", code: \"GW\", slug: \"guinea-bissau\", flag: \"ðŸ‡¬ðŸ‡¼\", continent: \"Africa\" },\n  { name: \"Ivory Coast\", code: \"CI\", slug: \"ivory-coast\", flag: \"ðŸ‡¨ðŸ‡®\", continent: \"Africa\" },\n  { name: \"Kenya\", code: \"KE\", slug: \"kenya\", flag: \"ðŸ‡°ðŸ‡ª\", continent: \"Africa\" },\n  { name: \"Lesotho\", code: \"LS\", slug: \"lesotho\", flag: \"ðŸ‡±ðŸ‡¸\", continent: \"Africa\" },\n  { name: \"Liberia\", code: \"LR\", slug: \"liberia\", flag: \"ðŸ‡±ðŸ‡·\", continent: \"Africa\" },\n  { name: \"Libya\", code: \"LY\", slug: \"libya\", flag: \"ðŸ‡±ðŸ‡¾\", continent: \"Africa\" },\n  { name: \"Madagascar\", code: \"MG\", slug: \"madagascar\", flag: \"ðŸ‡²ðŸ‡¬\", continent: \"Africa\" },\n  { name: \"Malawi\", code: \"MW\", slug: \"malawi\", flag: \"ðŸ‡²ðŸ‡¼\", continent: \"Africa\" },\n  { name: \"Mali\", code: \"ML\", slug: \"mali\", flag: \"ðŸ‡²ðŸ‡±\", continent: \"Africa\" },\n  { name: \"Mauritania\", code: \"MR\", slug: \"mauritania\", flag: \"ðŸ‡²ðŸ‡·\", continent: \"Africa\" },\n  { name: \"Mauritius\", code: \"MU\", slug: \"mauritius\", flag: \"ðŸ‡²ðŸ‡º\", continent: \"Africa\" },\n  { name: \"Morocco\", code: \"MA\", slug: \"morocco\", flag: \"ðŸ‡²ðŸ‡¦\", continent: \"Africa\" },\n  { name: \"Mozambique\", code: \"MZ\", slug: \"mozambique\", flag: \"ðŸ‡²ðŸ‡¿\", continent: \"Africa\" },\n  { name: \"Namibia\", code: \"NA\", slug: \"namibia\", flag: \"ðŸ‡³ðŸ‡¦\", continent: \"Africa\" },\n  { name: \"Niger\", code: \"NE\", slug: \"niger\", flag: \"ðŸ‡³ðŸ‡ª\", continent: \"Africa\" },\n  { name: \"Nigeria\", code: \"NG\", slug: \"nigeria\", flag: \"ðŸ‡³ðŸ‡¬\", continent: \"Africa\" },\n  { name: \"Rwanda\", code: \"RW\", slug: \"rwanda\", flag: \"ðŸ‡·ðŸ‡¼\", continent: \"Africa\" },\n  { name: \"Sao Tome and Principe\", code: \"ST\", slug: \"sao-tome-principe\", flag: \"ðŸ‡¸ðŸ‡¹\", continent: \"Africa\" },\n  { name: \"Senegal\", code: \"SN\", slug: \"senegal\", flag: \"ðŸ‡¸ðŸ‡³\", continent: \"Africa\" },\n  { name: \"Seychelles\", code: \"SC\", slug: \"seychelles\", flag: \"ðŸ‡¸ðŸ‡¨\", continent: \"Africa\" },\n  { name: \"Sierra Leone\", code: \"SL\", slug: \"sierra-leone\", flag: \"ðŸ‡¸ðŸ‡±\", continent: \"Africa\" },\n  { name: \"Somalia\", code: \"SO\", slug: \"somalia\", flag: \"ðŸ‡¸ðŸ‡´\", continent: \"Africa\" },\n  { name: \"South Africa\", code: \"ZA\", slug: \"south-africa\", flag: \"ðŸ‡¿ðŸ‡¦\", continent: \"Africa\" },\n  { name: \"South Sudan\", code: \"SS\", slug: \"south-sudan\", flag: \"ðŸ‡¸ðŸ‡¸\", continent: \"Africa\" },\n  { name: \"Sudan\", code: \"SD\", slug: \"sudan\", flag: \"ðŸ‡¸ðŸ‡©\", continent: \"Africa\" },\n  { name: \"Tanzania\", code: \"TZ\", slug: \"tanzania\", flag: \"ðŸ‡¹ðŸ‡¿\", continent: \"Africa\" },\n  { name: \"Togo\", code: \"TG\", slug: \"togo\", flag: \"ðŸ‡¹ðŸ‡¬\", continent: \"Africa\" },\n  { name: \"Tunisia\", code: \"TN\", slug: \"tunisia\", flag: \"ðŸ‡¹ðŸ‡³\", continent: \"Africa\" },\n  { name: \"Uganda\", code: \"UG\", slug: \"uganda\", flag: \"ðŸ‡ºðŸ‡¬\", continent: \"Africa\" },\n  { name: \"Zambia\", code: \"ZM\", slug: \"zambia\", flag: \"ðŸ‡¿ðŸ‡²\", continent: \"Africa\" },\n  { name: \"Zimbabwe\", code: \"ZW\", slug: \"zimbabwe\", flag: \"ðŸ‡¿ðŸ‡¼\", continent: \"Africa\" },\n  \n  // Asia\n  { name: \"Afghanistan\", code: \"AF\", slug: \"afghanistan\", flag: \"ðŸ‡¦ðŸ‡«\", continent: \"Asia\" },\n  { name: \"Armenia\", code: \"AM\", slug: \"armenia\", flag: \"ðŸ‡¦ðŸ‡²\", continent: \"Asia\" },\n  { name: \"Azerbaijan\", code: \"AZ\", slug: \"azerbaijan\", flag: \"ðŸ‡¦ðŸ‡¿\", continent: \"Asia\" },\n  { name: \"Bahrain\", code: \"BH\", slug: \"bahrain\", flag: \"ðŸ‡§ðŸ‡­\", continent: \"Asia\" },\n  { name: \"Bangladesh\", code: \"BD\", slug: \"bangladesh\", flag: \"ðŸ‡§ðŸ‡©\", continent: \"Asia\" },\n  { name: \"Bhutan\", code: \"BT\", slug: \"bhutan\", flag: \"ðŸ‡§ðŸ‡¹\", continent: \"Asia\" },\n  { name: \"Brunei\", code: \"BN\", slug: \"brunei\", flag: \"ðŸ‡§ðŸ‡³\", continent: \"Asia\" },\n  { name: \"Cambodia\", code: \"KH\", slug: \"cambodia\", flag: \"ðŸ‡°ðŸ‡­\", continent: \"Asia\" },\n  { name: \"China\", code: \"CN\", slug: \"china\", flag: \"ðŸ‡¨ðŸ‡³\", continent: \"Asia\" },\n  { name: \"Georgia\", code: \"GE\", slug: \"georgia\", flag: \"ðŸ‡¬ðŸ‡ª\", continent: \"Asia\" },\n  { name: \"India\", code: \"IN\", slug: \"india\", flag: \"ðŸ‡®ðŸ‡³\", continent: \"Asia\" },\n  { name: \"Indonesia\", code: \"ID\", slug: \"indonesia\", flag: \"ðŸ‡®ðŸ‡©\", continent: \"Asia\" },\n  { name: \"Iran\", code: \"IR\", slug: \"iran\", flag: \"ðŸ‡®ðŸ‡·\", continent: \"Asia\" },\n  { name: \"Iraq\", code: \"IQ\", slug: \"iraq\", flag: \"ðŸ‡®ðŸ‡¶\", continent: \"Asia\" },\n  { name: \"Israel\", code: \"IL\", slug: \"israel\", flag: \"ðŸ‡®ðŸ‡±\", continent: \"Asia\" },\n  { name: \"Japan\", code: \"JP\", slug: \"japan\", flag: \"ðŸ‡¯ðŸ‡µ\", continent: \"Asia\" },\n  { name: \"Jordan\", code: \"JO\", slug: \"jordan\", flag: \"ðŸ‡¯ðŸ‡´\", continent: \"Asia\" },\n  { name: \"Kazakhstan\", code: \"KZ\", slug: \"kazakhstan\", flag: \"ðŸ‡°ðŸ‡¿\", continent: \"Asia\" },\n  { name: \"Kuwait\", code: \"KW\", slug: \"kuwait\", flag: \"ðŸ‡°ðŸ‡¼\", continent: \"Asia\" },\n  { name: \"Kyrgyzstan\", code: \"KG\", slug: \"kyrgyzstan\", flag: \"ðŸ‡°ðŸ‡¬\", continent: \"Asia\" },\n  { name: \"Laos\", code: \"LA\", slug: \"laos\", flag: \"ðŸ‡±ðŸ‡¦\", continent: \"Asia\" },\n  { name: \"Lebanon\", code: \"LB\", slug: \"lebanon\", flag: \"ðŸ‡±ðŸ‡§\", continent: \"Asia\" },\n  { name: \"Malaysia\", code: \"MY\", slug: \"malaysia\", flag: \"ðŸ‡²ðŸ‡¾\", continent: \"Asia\" },\n  { name: \"Maldives\", code: \"MV\", slug: \"maldives\", flag: \"ðŸ‡²ðŸ‡»\", continent: \"Asia\" },\n  { name: \"Mongolia\", code: \"MN\", slug: \"mongolia\", flag: \"ðŸ‡²ðŸ‡³\", continent: \"Asia\" },\n  { name: \"Myanmar\", code: \"MM\", slug: \"myanmar\", flag: \"ðŸ‡²ðŸ‡²\", continent: \"Asia\" },\n  { name: \"Nepal\", code: \"NP\", slug: \"nepal\", flag: \"ðŸ‡³ðŸ‡µ\", continent: \"Asia\" },\n  { name: \"North Korea\", code: \"KP\", slug: \"north-korea\", flag: \"ðŸ‡°ðŸ‡µ\", continent: \"Asia\" },\n  { name: \"Oman\", code: \"OM\", slug: \"oman\", flag: \"ðŸ‡´ðŸ‡²\", continent: \"Asia\" },\n  { name: \"Pakistan\", code: \"PK\", slug: \"pakistan\", flag: \"ðŸ‡µðŸ‡°\", continent: \"Asia\" },\n  { name: \"Palestine\", code: \"PS\", slug: \"palestine\", flag: \"ðŸ‡µðŸ‡¸\", continent: \"Asia\" },\n  { name: \"Philippines\", code: \"PH\", slug: \"philippines\", flag: \"ðŸ‡µðŸ‡­\", continent: \"Asia\" },\n  { name: \"Qatar\", code: \"QA\", slug: \"qatar\", flag: \"ðŸ‡¶ðŸ‡¦\", continent: \"Asia\" },\n  { name: \"Saudi Arabia\", code: \"SA\", slug: \"saudi-arabia\", flag: \"ðŸ‡¸ðŸ‡¦\", continent: \"Asia\" },\n  { name: \"Singapore\", code: \"SG\", slug: \"singapore\", flag: \"ðŸ‡¸ðŸ‡¬\", continent: \"Asia\" },\n  { name: \"South Korea\", code: \"KR\", slug: \"south-korea\", flag: \"ðŸ‡°ðŸ‡·\", continent: \"Asia\" },\n  { name: \"Sri Lanka\", code: \"LK\", slug: \"sri-lanka\", flag: \"ðŸ‡±ðŸ‡°\", continent: \"Asia\" },\n  { name: \"Syria\", code: \"SY\", slug: \"syria\", flag: \"ðŸ‡¸ðŸ‡¾\", continent: \"Asia\" },\n  { name: \"Taiwan\", code: \"TW\", slug: \"taiwan\", flag: \"ðŸ‡¹ðŸ‡¼\", continent: \"Asia\" },\n  { name: \"Tajikistan\", code: \"TJ\", slug: \"tajikistan\", flag: \"ðŸ‡¹ðŸ‡¯\", continent: \"Asia\" },\n  { name: \"Thailand\", code: \"TH\", slug: \"thailand\", flag: \"ðŸ‡¹ðŸ‡­\", continent: \"Asia\" },\n  { name: \"Timor-Leste\", code: \"TL\", slug: \"timor-leste\", flag: \"ðŸ‡¹ðŸ‡±\", continent: \"Asia\" },\n  { name: \"Turkey\", code: \"TR\", slug: \"turkey\", flag: \"ðŸ‡¹ðŸ‡·\", continent: \"Asia\" },\n  { name: \"Turkmenistan\", code: \"TM\", slug: \"turkmenistan\", flag: \"ðŸ‡¹ðŸ‡²\", continent: \"Asia\" },\n  { name: \"United Arab Emirates\", code: \"AE\", slug: \"uae\", flag: \"ðŸ‡¦ðŸ‡ª\", continent: \"Asia\" },\n  { name: \"Uzbekistan\", code: \"UZ\", slug: \"uzbekistan\", flag: \"ðŸ‡ºðŸ‡¿\", continent: \"Asia\" },\n  { name: \"Vietnam\", code: \"VN\", slug: \"vietnam\", flag: \"ðŸ‡»ðŸ‡³\", continent: \"Asia\" },\n  { name: \"Yemen\", code: \"YE\", slug: \"yemen\", flag: \"ðŸ‡¾ðŸ‡ª\", continent: \"Asia\" },\n  \n  // Europe\n  { name: \"Albania\", code: \"AL\", slug: \"albania\", flag: \"ðŸ‡¦ðŸ‡±\", continent: \"Europe\" },\n  { name: \"Andorra\", code: \"AD\", slug: \"andorra\", flag: \"ðŸ‡¦ðŸ‡©\", continent: \"Europe\" },\n  { name: \"Austria\", code: \"AT\", slug: \"austria\", flag: \"ðŸ‡¦ðŸ‡¹\", continent: \"Europe\" },\n  { name: \"Belarus\", code: \"BY\", slug: \"belarus\", flag: \"ðŸ‡§ðŸ‡¾\", continent: \"Europe\" },\n  { name: \"Belgium\", code: \"BE\", slug: \"belgium\", flag: \"ðŸ‡§ðŸ‡ª\", continent: \"Europe\" },\n  { name: \"Bosnia and Herzegovina\", code: \"BA\", slug: \"bosnia\", flag: \"ðŸ‡§ðŸ‡¦\", continent: \"Europe\" },\n  { name: \"Bulgaria\", code: \"BG\", slug: \"bulgaria\", flag: \"ðŸ‡§ðŸ‡¬\", continent: \"Europe\" },\n  { name: \"Croatia\", code: \"HR\", slug: \"croatia\", flag: \"ðŸ‡­ðŸ‡·\", continent: \"Europe\" },\n  { name: \"Cyprus\", code: \"CY\", slug: \"cyprus\", flag: \"ðŸ‡¨ðŸ‡¾\", continent: \"Europe\" },\n  { name: \"Czech Republic\", code: \"CZ\", slug: \"czech-republic\", flag: \"ðŸ‡¨ðŸ‡¿\", continent: \"Europe\" },\n  { name: \"Denmark\", code: \"DK\", slug: \"denmark\", flag: \"ðŸ‡©ðŸ‡°\", continent: \"Europe\" },\n  { name: \"Estonia\", code: \"EE\", slug: \"estonia\", flag: \"ðŸ‡ªðŸ‡ª\", continent: \"Europe\" },\n  { name: \"Finland\", code: \"FI\", slug: \"finland\", flag: \"ðŸ‡«ðŸ‡®\", continent: \"Europe\" },\n  { name: \"France\", code: \"FR\", slug: \"france\", flag: \"ðŸ‡«ðŸ‡·\", continent: \"Europe\" },\n  { name: \"Germany\", code: \"DE\", slug: \"germany\", flag: \"ðŸ‡©ðŸ‡ª\", continent: \"Europe\" },\n  { name: \"Greece\", code: \"GR\", slug: \"greece\", flag: \"ðŸ‡¬ðŸ‡·\", continent: \"Europe\" },\n  { name: \"Hungary\", code: \"HU\", slug: \"hungary\", flag: \"ðŸ‡­ðŸ‡º\", continent: \"Europe\" },\n  { name: \"Iceland\", code: \"IS\", slug: \"iceland\", flag: \"ðŸ‡®ðŸ‡¸\", continent: \"Europe\" },\n  { name: \"Ireland\", code: \"IE\", slug: \"ireland\", flag: \"ðŸ‡®ðŸ‡ª\", continent: \"Europe\" },\n  { name: \"Italy\", code: \"IT\", slug: \"italy\", flag: \"ðŸ‡®ðŸ‡¹\", continent: \"Europe\" },\n  { name: \"Kosovo\", code: \"XK\", slug: \"kosovo\", flag: \"ðŸ‡½ðŸ‡°\", continent: \"Europe\" },\n  { name: \"Latvia\", code: \"LV\", slug: \"latvia\", flag: \"ðŸ‡±ðŸ‡»\", continent: \"Europe\" },\n  { name: \"Liechtenstein\", code: \"LI\", slug: \"liechtenstein\", flag: \"ðŸ‡±ðŸ‡®\", continent: \"Europe\" },\n  { name: \"Lithuania\", code: \"LT\", slug: \"lithuania\", flag: \"ðŸ‡±ðŸ‡¹\", continent: \"Europe\" },\n  { name: \"Luxembourg\", code: \"LU\", slug: \"luxembourg\", flag: \"ðŸ‡±ðŸ‡º\", continent: \"Europe\" },\n  { name: \"Malta\", code: \"MT\", slug: \"malta\", flag: \"ðŸ‡²ðŸ‡¹\", continent: \"Europe\" },\n  { name: \"Moldova\", code: \"MD\", slug: \"moldova\", flag: \"ðŸ‡²ðŸ‡©\", continent: \"Europe\" },\n  { name: \"Monaco\", code: \"MC\", slug: \"monaco\", flag: \"ðŸ‡²ðŸ‡¨\", continent: \"Europe\" },\n  { name: \"Montenegro\", code: \"ME\", slug: \"montenegro\", flag: \"ðŸ‡²ðŸ‡ª\", continent: \"Europe\" },\n  { name: \"Netherlands\", code: \"NL\", slug: \"netherlands\", flag: \"ðŸ‡³ðŸ‡±\", continent: \"Europe\" },\n  { name: \"North Macedonia\", code: \"MK\", slug: \"north-macedonia\", flag: \"ðŸ‡²ðŸ‡°\", continent: \"Europe\" },\n  { name: \"Norway\", code: \"NO\", slug: \"norway\", flag: \"ðŸ‡³ðŸ‡´\", continent: \"Europe\" },\n  { name: \"Poland\", code: \"PL\", slug: \"poland\", flag: \"ðŸ‡µðŸ‡±\", continent: \"Europe\" },\n  { name: \"Portugal\", code: \"PT\", slug: \"portugal\", flag: \"ðŸ‡µðŸ‡¹\", continent: \"Europe\" },\n  { name: \"Romania\", code: \"RO\", slug: \"romania\", flag: \"ðŸ‡·ðŸ‡´\", continent: \"Europe\" },\n  { name: \"Russia\", code: \"RU\", slug: \"russia\", flag: \"ðŸ‡·ðŸ‡º\", continent: \"Europe\" },\n  { name: \"San Marino\", code: \"SM\", slug: \"san-marino\", flag: \"ðŸ‡¸ðŸ‡²\", continent: \"Europe\" },\n  { name: \"Serbia\", code: \"RS\", slug: \"serbia\", flag: \"ðŸ‡·ðŸ‡¸\", continent: \"Europe\" },\n  { name: \"Slovakia\", code: \"SK\", slug: \"slovakia\", flag: \"ðŸ‡¸ðŸ‡°\", continent: \"Europe\" },\n  { name: \"Slovenia\", code: \"SI\", slug: \"slovenia\", flag: \"ðŸ‡¸ðŸ‡®\", continent: \"Europe\" },\n  { name: \"Spain\", code: \"ES\", slug: \"spain\", flag: \"ðŸ‡ªðŸ‡¸\", continent: \"Europe\" },\n  { name: \"Sweden\", code: \"SE\", slug: \"sweden\", flag: \"ðŸ‡¸ðŸ‡ª\", continent: \"Europe\" },\n  { name: \"Switzerland\", code: \"CH\", slug: \"switzerland\", flag: \"ðŸ‡¨ðŸ‡­\", continent: \"Europe\" },\n  { name: \"Ukraine\", code: \"UA\", slug: \"ukraine\", flag: \"ðŸ‡ºðŸ‡¦\", continent: \"Europe\" },\n  { name: \"United Kingdom\", code: \"GB\", slug: \"uk\", flag: \"ðŸ‡¬ðŸ‡§\", continent: \"Europe\" },\n  { name: \"Vatican City\", code: \"VA\", slug: \"vatican\", flag: \"ðŸ‡»ðŸ‡¦\", continent: \"Europe\" },\n  \n  // North America\n  { name: \"Antigua and Barbuda\", code: \"AG\", slug: \"antigua-barbuda\", flag: \"ðŸ‡¦ðŸ‡¬\", continent: \"North America\" },\n  { name: \"Bahamas\", code: \"BS\", slug: \"bahamas\", flag: \"ðŸ‡§ðŸ‡¸\", continent: \"North America\" },\n  { name: \"Barbados\", code: \"BB\", slug: \"barbados\", flag: \"ðŸ‡§ðŸ‡§\", continent: \"North America\" },\n  { name: \"Belize\", code: \"BZ\", slug: \"belize\", flag: \"ðŸ‡§ðŸ‡¿\", continent: \"North America\" },\n  { name: \"Canada\", code: \"CA\", slug: \"canada\", flag: \"ðŸ‡¨ðŸ‡¦\", continent: \"North America\" },\n  { name: \"Costa Rica\", code: \"CR\", slug: \"costa-rica\", flag: \"ðŸ‡¨ðŸ‡·\", continent: \"North America\" },\n  { name: \"Cuba\", code: \"CU\", slug: \"cuba\", flag: \"ðŸ‡¨ðŸ‡º\", continent: \"North America\" },\n  { name: \"Dominica\", code: \"DM\", slug: \"dominica\", flag: \"ðŸ‡©ðŸ‡²\", continent: \"North America\" },\n  { name: \"Dominican Republic\", code: \"DO\", slug: \"dominican-republic\", flag: \"ðŸ‡©ðŸ‡´\", continent: \"North America\" },\n  { name: \"El Salvador\", code: \"SV\", slug: \"el-salvador\", flag: \"ðŸ‡¸ðŸ‡»\", continent: \"North America\" },\n  { name: \"Grenada\", code: \"GD\", slug: \"grenada\", flag: \"ðŸ‡¬ðŸ‡©\", continent: \"North America\" },\n  { name: \"Guatemala\", code: \"GT\", slug: \"guatemala\", flag: \"ðŸ‡¬ðŸ‡¹\", continent: \"North America\" },\n  { name: \"Haiti\", code: \"HT\", slug: \"haiti\", flag: \"ðŸ‡­ðŸ‡¹\", continent: \"North America\" },\n  { name: \"Honduras\", code: \"HN\", slug: \"honduras\", flag: \"ðŸ‡­ðŸ‡³\", continent: \"North America\" },\n  { name: \"Jamaica\", code: \"JM\", slug: \"jamaica\", flag: \"ðŸ‡¯ðŸ‡²\", continent: \"North America\" },\n  { name: \"Mexico\", code: \"MX\", slug: \"mexico\", flag: \"ðŸ‡²ðŸ‡½\", continent: \"North America\" },\n  { name: \"Nicaragua\", code: \"NI\", slug: \"nicaragua\", flag: \"ðŸ‡³ðŸ‡®\", continent: \"North America\" },\n  { name: \"Panama\", code: \"PA\", slug: \"panama\", flag: \"ðŸ‡µðŸ‡¦\", continent: \"North America\" },\n  { name: \"Saint Kitts and Nevis\", code: \"KN\", slug: \"saint-kitts-nevis\", flag: \"ðŸ‡°ðŸ‡³\", continent: \"North America\" },\n  { name: \"Saint Lucia\", code: \"LC\", slug: \"saint-lucia\", flag: \"ðŸ‡±ðŸ‡¨\", continent: \"North America\" },\n  { name: \"Saint Vincent and the Grenadines\", code: \"VC\", slug: \"saint-vincent-grenadines\", flag: \"ðŸ‡»ðŸ‡¨\", continent: \"North America\" },\n  { name: \"Trinidad and Tobago\", code: \"TT\", slug: \"trinidad-tobago\", flag: \"ðŸ‡¹ðŸ‡¹\", continent: \"North America\" },\n  { name: \"United States\", code: \"US\", slug: \"usa\", flag: \"ðŸ‡ºðŸ‡¸\", continent: \"North America\" },\n  \n  // South America\n  { name: \"Argentina\", code: \"AR\", slug: \"argentina\", flag: \"ðŸ‡¦ðŸ‡·\", continent: \"South America\" },\n  { name: \"Bolivia\", code: \"BO\", slug: \"bolivia\", flag: \"ðŸ‡§ðŸ‡´\", continent: \"South America\" },\n  { name: \"Brazil\", code: \"BR\", slug: \"brazil\", flag: \"ðŸ‡§ðŸ‡·\", continent: \"South America\" },\n  { name: \"Chile\", code: \"CL\", slug: \"chile\", flag: \"ðŸ‡¨ðŸ‡±\", continent: \"South America\" },\n  { name: \"Colombia\", code: \"CO\", slug: \"colombia\", flag: \"ðŸ‡¨ðŸ‡´\", continent: \"South America\" },\n  { name: \"Ecuador\", code: \"EC\", slug: \"ecuador\", flag: \"ðŸ‡ªðŸ‡¨\", continent: \"South America\" },\n  { name: \"Guyana\", code: \"GY\", slug: \"guyana\", flag: \"ðŸ‡¬ðŸ‡¾\", continent: \"South America\" },\n  { name: \"Paraguay\", code: \"PY\", slug: \"paraguay\", flag: \"ðŸ‡µðŸ‡¾\", continent: \"South America\" },\n  { name: \"Peru\", code: \"PE\", slug: \"peru\", flag: \"ðŸ‡µðŸ‡ª\", continent: \"South America\" },\n  { name: \"Suriname\", code: \"SR\", slug: \"suriname\", flag: \"ðŸ‡¸ðŸ‡·\", continent: \"South America\" },\n  { name: \"Uruguay\", code: \"UY\", slug: \"uruguay\", flag: \"ðŸ‡ºðŸ‡¾\", continent: \"South America\" },\n  { name: \"Venezuela\", code: \"VE\", slug: \"venezuela\", flag: \"ðŸ‡»ðŸ‡ª\", continent: \"South America\" },\n  \n  // Oceania\n  { name: \"Australia\", code: \"AU\", slug: \"australia\", flag: \"ðŸ‡¦ðŸ‡º\", continent: \"Oceania\" },\n  { name: \"Fiji\", code: \"FJ\", slug: \"fiji\", flag: \"ðŸ‡«ðŸ‡¯\", continent: \"Oceania\" },\n  { name: \"Kiribati\", code: \"KI\", slug: \"kiribati\", flag: \"ðŸ‡°ðŸ‡®\", continent: \"Oceania\" },\n  { name: \"Marshall Islands\", code: \"MH\", slug: \"marshall-islands\", flag: \"ðŸ‡²ðŸ‡­\", continent: \"Oceania\" },\n  { name: \"Micronesia\", code: \"FM\", slug: \"micronesia\", flag: \"ðŸ‡«ðŸ‡²\", continent: \"Oceania\" },\n  { name: \"Nauru\", code: \"NR\", slug: \"nauru\", flag: \"ðŸ‡³ðŸ‡·\", continent: \"Oceania\" },\n  { name: \"New Zealand\", code: \"NZ\", slug: \"new-zealand\", flag: \"ðŸ‡³ðŸ‡¿\", continent: \"Oceania\" },\n  { name: \"Palau\", code: \"PW\", slug: \"palau\", flag: \"ðŸ‡µðŸ‡¼\", continent: \"Oceania\" },\n  { name: \"Papua New Guinea\", code: \"PG\", slug: \"papua-new-guinea\", flag: \"ðŸ‡µðŸ‡¬\", continent: \"Oceania\" },\n  { name: \"Samoa\", code: \"WS\", slug: \"samoa\", flag: \"ðŸ‡¼ðŸ‡¸\", continent: \"Oceania\" },\n  { name: \"Solomon Islands\", code: \"SB\", slug: \"solomon-islands\", flag: \"ðŸ‡¸ðŸ‡§\", continent: \"Oceania\" },\n  { name: \"Tonga\", code: \"TO\", slug: \"tonga\", flag: \"ðŸ‡¹ðŸ‡´\", continent: \"Oceania\" },\n  { name: \"Tuvalu\", code: \"TV\", slug: \"tuvalu\", flag: \"ðŸ‡¹ðŸ‡»\", continent: \"Oceania\" },\n  { name: \"Vanuatu\", code: \"VU\", slug: \"vanuatu\", flag: \"ðŸ‡»ðŸ‡º\", continent: \"Oceania\" },\n];\n\n// Capital cities for each country\nconst capitalCities: Record<string, { name: string; latitude?: string; longitude?: string; population?: number }> = {\n  \"DZ\": { name: \"Algiers\", latitude: \"36.7372\", longitude: \"3.0865\", population: 2988000 },\n  \"AO\": { name: \"Luanda\", latitude: \"8.8383\", longitude: \"13.2344\", population: 8330000 },\n  \"BJ\": { name: \"Porto-Novo\", latitude: \"6.4969\", longitude: \"2.6289\", population: 264320 },\n  \"BW\": { name: \"Gaborone\", latitude: \"-24.6282\", longitude: \"25.9231\", population: 231626 },\n  \"BF\": { name: \"Ouagadougou\", latitude: \"12.3686\", longitude: \"-1.5275\", population: 2200000 },\n  \"BI\": { name: \"Bujumbura\", latitude: \"-3.3614\", longitude: \"29.3599\", population: 800000 },\n  \"CM\": { name: \"YaoundÃ©\", latitude: \"3.8480\", longitude: \"11.5021\", population: 3412000 },\n  \"CV\": { name: \"Praia\", latitude: \"14.9177\", longitude: \"-23.5092\", population: 159000 },\n  \"CF\": { name: \"Bangui\", latitude: \"4.3947\", longitude: \"18.5582\", population: 734350 },\n  \"TD\": { name: \"N'Djamena\", latitude: \"12.1348\", longitude: \"15.0557\", population: 1092000 },\n  \"KM\": { name: \"Moroni\", latitude: \"-11.7172\", longitude: \"43.2473\", population: 60200 },\n  \"CG\": { name: \"Brazzaville\", latitude: \"-4.2634\", longitude: \"15.2429\", population: 2230000 },\n  \"CD\": { name: \"Kinshasa\", latitude: \"-4.3276\", longitude: \"15.3136\", population: 14342000 },\n  \"DJ\": { name: \"Djibouti\", latitude: \"11.5721\", longitude: \"43.1456\", population: 600000 },\n  \"EG\": { name: \"Cairo\", latitude: \"30.0444\", longitude: \"31.2357\", population: 20484965 },\n  \"GQ\": { name: \"Malabo\", latitude: \"3.7523\", longitude: \"8.7741\", population: 145000 },\n  \"ER\": { name: \"Asmara\", latitude: \"15.3229\", longitude: \"38.9251\", population: 963000 },\n  \"ET\": { name: \"Addis Ababa\", latitude: \"9.0054\", longitude: \"38.7636\", population: 3384569 },\n  \"GA\": { name: \"Libreville\", latitude: \"0.3924\", longitude: \"9.4535\", population: 703904 },\n  \"GM\": { name: \"Banjul\", latitude: \"13.4549\", longitude: \"-16.5790\", population: 31301 },\n  \"GH\": { name: \"Accra\", latitude: \"5.6037\", longitude: \"-0.1870\", population: 2291352 },\n  \"GN\": { name: \"Conakry\", latitude: \"9.5092\", longitude: \"-13.7122\", population: 1667864 },\n  \"GW\": { name: \"Bissau\", latitude: \"11.8636\", longitude: \"-15.5984\", population: 395954 },\n  \"CI\": { name: \"Yamoussoukro\", latitude: \"6.8276\", longitude: \"-5.2893\", population: 355573 },\n  \"KE\": { name: \"Nairobi\", latitude: \"-1.2864\", longitude: \"36.8172\", population: 4397073 },\n  \"LS\": { name: \"Maseru\", latitude: \"-29.3167\", longitude: \"27.4833\", population: 330760 },\n  \"LR\": { name: \"Monrovia\", latitude: \"6.3005\", longitude: \"-10.7969\", population: 1010970 },\n  \"LY\": { name: \"Tripoli\", latitude: \"32.8872\", longitude: \"13.1913\", population: 1150989 },\n  \"MG\": { name: \"Antananarivo\", latitude: \"-18.8792\", longitude: \"47.5079\", population: 1275207 },\n  \"MW\": { name: \"Lilongwe\", latitude: \"-13.9626\", longitude: \"33.7741\", population: 905964 },\n  \"ML\": { name: \"Bamako\", latitude: \"12.6392\", longitude: \"-8.0029\", population: 2447000 },\n  \"MR\": { name: \"Nouakchott\", latitude: \"18.0735\", longitude: \"-15.9582\", population: 1205000 },\n  \"MU\": { name: \"Port Louis\", latitude: \"-20.1609\", longitude: \"57.5012\", population: 147066 },\n  \"MA\": { name: \"Rabat\", latitude: \"33.9716\", longitude: \"-6.8498\", population: 577827 },\n  \"MZ\": { name: \"Maputo\", latitude: \"-25.9655\", longitude: \"32.5832\", population: 1101170 },\n  \"NA\": { name: \"Windhoek\", latitude: \"-22.5597\", longitude: \"17.0832\", population: 325858 },\n  \"NE\": { name: \"Niamey\", latitude: \"13.5127\", longitude: \"2.1127\", population: 1026848 },\n  \"NG\": { name: \"Abuja\", latitude: \"9.0579\", longitude: \"7.4951\", population: 1770000 },\n  \"RW\": { name: \"Kigali\", latitude: \"-1.9403\", longitude: \"29.8739\", population: 1132686 },\n  \"ST\": { name: \"SÃ£o TomÃ©\", latitude: \"0.3365\", longitude: \"6.7273\", population: 71868 },\n  \"SN\": { name: \"Dakar\", latitude: \"14.7167\", longitude: \"-17.4677\", population: 1146053 },\n  \"SC\": { name: \"Victoria\", latitude: \"-4.6236\", longitude: \"55.4544\", population: 26450 },\n  \"SL\": { name: \"Freetown\", latitude: \"8.4657\", longitude: \"-13.2317\", population: 1055964 },\n  \"SO\": { name: \"Mogadishu\", latitude: \"2.0469\", longitude: \"45.3182\", population: 2120000 },\n  \"ZA\": { name: \"Pretoria\", latitude: \"-25.7461\", longitude: \"28.1881\", population: 741651 },\n  \"SS\": { name: \"Juba\", latitude: \"4.8594\", longitude: \"31.5713\", population: 372410 },\n  \"SD\": { name: \"Khartoum\", latitude: \"15.5007\", longitude: \"32.5599\", population: 5274321 },\n  \"TZ\": { name: \"Dodoma\", latitude: \"-6.1630\", longitude: \"35.7516\", population: 410956 },\n  \"TG\": { name: \"LomÃ©\", latitude: \"6.1256\", longitude: \"1.2215\", population: 837437 },\n  \"TN\": { name: \"Tunis\", latitude: \"36.8065\", longitude: \"10.1815\", population: 1056247 },\n  \"UG\": { name: \"Kampala\", latitude: \"0.3476\", longitude: \"32.5825\", population: 1680000 },\n  \"ZM\": { name: \"Lusaka\", latitude: \"-15.3875\", longitude: \"28.3228\", population: 2524000 },\n  \"ZW\": { name: \"Harare\", latitude: \"-17.8292\", longitude: \"31.0522\", population: 1606000 },\n  \n  // Asia\n  \"AF\": { name: \"Kabul\", latitude: \"34.5553\", longitude: \"69.2075\", population: 4273156 },\n  \"AM\": { name: \"Yerevan\", latitude: \"40.1872\", longitude: \"44.5152\", population: 1082000 },\n  \"AZ\": { name: \"Baku\", latitude: \"40.4093\", longitude: \"49.8671\", population: 2236000 },\n  \"BH\": { name: \"Manama\", latitude: \"26.2285\", longitude: \"50.5860\", population: 147074 },\n  \"BD\": { name: \"Dhaka\", latitude: \"23.8103\", longitude: \"90.4125\", population: 21005860 },\n  \"BT\": { name: \"Thimphu\", latitude: \"27.4728\", longitude: \"89.6390\", population: 104000 },\n  \"BN\": { name: \"Bandar Seri Begawan\", latitude: \"4.8895\", longitude: \"114.9420\", population: 100700 },\n  \"KH\": { name: \"Phnom Penh\", latitude: \"11.5564\", longitude: \"104.9282\", population: 2129371 },\n  \"CN\": { name: \"Beijing\", latitude: \"39.9042\", longitude: \"116.4074\", population: 21540000 },\n  \"GE\": { name: \"Tbilisi\", latitude: \"41.7151\", longitude: \"44.8271\", population: 1118000 },\n  \"IN\": { name: \"New Delhi\", latitude: \"28.6139\", longitude: \"77.2090\", population: 32941000 },\n  \"ID\": { name: \"Jakarta\", latitude: \"-6.2088\", longitude: \"106.8456\", population: 10770000 },\n  \"IR\": { name: \"Tehran\", latitude: \"35.6892\", longitude: \"51.3890\", population: 8896000 },\n  \"IQ\": { name: \"Baghdad\", latitude: \"33.3128\", longitude: \"44.3615\", population: 7144260 },\n  \"IL\": { name: \"Jerusalem\", latitude: \"31.7683\", longitude: \"35.2137\", population: 936425 },\n  \"JP\": { name: \"Tokyo\", latitude: \"35.6762\", longitude: \"139.6503\", population: 13960000 },\n  \"JO\": { name: \"Amman\", latitude: \"31.9454\", longitude: \"35.9284\", population: 2130000 },\n  \"KZ\": { name: \"Astana\", latitude: \"51.1694\", longitude: \"71.4491\", population: 1078362 },\n  \"KW\": { name: \"Kuwait City\", latitude: \"29.3759\", longitude: \"47.9774\", population: 3050000 },\n  \"KG\": { name: \"Bishkek\", latitude: \"42.8746\", longitude: \"74.5698\", population: 1074000 },\n  \"LA\": { name: \"Vientiane\", latitude: \"17.9757\", longitude: \"102.6331\", population: 997240 },\n  \"LB\": { name: \"Beirut\", latitude: \"33.8886\", longitude: \"35.4955\", population: 361366 },\n  \"MY\": { name: \"Kuala Lumpur\", latitude: \"3.1390\", longitude: \"101.6869\", population: 1768000 },\n  \"MV\": { name: \"MalÃ©\", latitude: \"4.1755\", longitude: \"73.5093\", population: 133412 },\n  \"MN\": { name: \"Ulaanbaatar\", latitude: \"47.8864\", longitude: \"106.9057\", population: 1520000 },\n  \"MM\": { name: \"Naypyidaw\", latitude: \"19.7633\", longitude: \"96.0785\", population: 1250000 },\n  \"NP\": { name: \"Kathmandu\", latitude: \"27.7172\", longitude: \"85.3240\", population: 1003285 },\n  \"KP\": { name: \"Pyongyang\", latitude: \"39.0392\", longitude: \"125.7625\", population: 3038000 },\n  \"OM\": { name: \"Muscat\", latitude: \"23.5880\", longitude: \"58.3829\", population: 1560330 },\n  \"PK\": { name: \"Islamabad\", latitude: \"33.6844\", longitude: \"73.0479\", population: 1129198 },\n  \"PS\": { name: \"Jerusalem\", latitude: \"31.7683\", longitude: \"35.2137\", population: 936425 },\n  \"PH\": { name: \"Manila\", latitude: \"14.5995\", longitude: \"120.9842\", population: 1846513 },\n  \"QA\": { name: \"Doha\", latitude: \"25.2854\", longitude: \"51.5310\", population: 796947 },\n  \"SA\": { name: \"Riyadh\", latitude: \"24.7136\", longitude: \"46.6753\", population: 7676654 },\n  \"SG\": { name: \"Singapore\", latitude: \"1.3521\", longitude: \"103.8198\", population: 5685807 },\n  \"KR\": { name: \"Seoul\", latitude: \"37.5665\", longitude: \"126.9780\", population: 9776000 },\n  \"LK\": { name: \"Colombo\", latitude: \"6.9271\", longitude: \"79.8612\", population: 752993 },\n  \"SY\": { name: \"Damascus\", latitude: \"33.5138\", longitude: \"36.2765\", population: 2503000 },\n  \"TW\": { name: \"Taipei\", latitude: \"25.0330\", longitude: \"121.5654\", population: 2646204 },\n  \"TJ\": { name: \"Dushanbe\", latitude: \"38.5598\", longitude: \"68.7738\", population: 1000000 },\n  \"TH\": { name: \"Bangkok\", latitude: \"13.7563\", longitude: \"100.5018\", population: 10722000 },\n  \"TL\": { name: \"Dili\", latitude: \"-8.5569\", longitude: \"125.5603\", population: 277279 },\n  \"TR\": { name: \"Ankara\", latitude: \"39.9334\", longitude: \"32.8597\", population: 5663322 },\n  \"TM\": { name: \"Ashgabat\", latitude: \"37.9601\", longitude: \"58.3261\", population: 1031992 },\n  \"AE\": { name: \"Abu Dhabi\", latitude: \"24.4539\", longitude: \"54.3773\", population: 1482816 },\n  \"UZ\": { name: \"Tashkent\", latitude: \"41.2995\", longitude: \"69.2401\", population: 2517555 },\n  \"VN\": { name: \"Hanoi\", latitude: \"21.0285\", longitude: \"105.8542\", population: 8053000 },\n  \"YE\": { name: \"Sana'a\", latitude: \"15.3694\", longitude: \"44.1910\", population: 2575347 },\n  \n  // Europe\n  \"AL\": { name: \"Tirana\", latitude: \"41.3275\", longitude: \"19.8187\", population: 418495 },\n  \"AD\": { name: \"Andorra la Vella\", latitude: \"42.5063\", longitude: \"1.5218\", population: 22886 },\n  \"AT\": { name: \"Vienna\", latitude: \"48.2082\", longitude: \"16.3738\", population: 1911191 },\n  \"BY\": { name: \"Minsk\", latitude: \"53.9045\", longitude: \"27.5615\", population: 1982444 },\n  \"BE\": { name: \"Brussels\", latitude: \"50.8503\", longitude: \"4.3517\", population: 1211000 },\n  \"BA\": { name: \"Sarajevo\", latitude: \"43.8563\", longitude: \"18.4131\", population: 275524 },\n  \"BG\": { name: \"Sofia\", latitude: \"42.6977\", longitude: \"23.3219\", population: 1328120 },\n  \"HR\": { name: \"Zagreb\", latitude: \"45.8150\", longitude: \"15.9819\", population: 688163 },\n  \"CY\": { name: \"Nicosia\", latitude: \"35.1856\", longitude: \"33.3823\", population: 55014 },\n  \"CZ\": { name: \"Prague\", latitude: \"50.0755\", longitude: \"14.4378\", population: 1309000 },\n  \"DK\": { name: \"Copenhagen\", latitude: \"55.6761\", longitude: \"12.5683\", population: 799033 },\n  \"EE\": { name: \"Tallinn\", latitude: \"59.4370\", longitude: \"24.7536\", population: 445688 },\n  \"FI\": { name: \"Helsinki\", latitude: \"60.1699\", longitude: \"24.9384\", population: 658864 },\n  \"FR\": { name: \"Paris\", latitude: \"48.8566\", longitude: \"2.3522\", population: 2175000 },\n  \"DE\": { name: \"Berlin\", latitude: \"52.5200\", longitude: \"13.4050\", population: 3645000 },\n  \"GR\": { name: \"Athens\", latitude: \"37.9838\", longitude: \"23.7275\", population: 664046 },\n  \"HU\": { name: \"Budapest\", latitude: \"47.4979\", longitude: \"19.0402\", population: 1752286 },\n  \"IS\": { name: \"Reykjavik\", latitude: \"64.1466\", longitude: \"-21.9426\", population: 131136 },\n  \"IE\": { name: \"Dublin\", latitude: \"53.3498\", longitude: \"-6.2603\", population: 1173179 },\n  \"IT\": { name: \"Rome\", latitude: \"41.9028\", longitude: \"12.4964\", population: 2860000 },\n  \"XK\": { name: \"Pristina\", latitude: \"42.6629\", longitude: \"21.1655\", population: 204721 },\n  \"LV\": { name: \"Riga\", latitude: \"56.9496\", longitude: \"24.1052\", population: 614618 },\n  \"LI\": { name: \"Vaduz\", latitude: \"47.1410\", longitude: \"9.5209\", population: 5696 },\n  \"LT\": { name: \"Vilnius\", latitude: \"54.6872\", longitude: \"25.2797\", population: 580020 },\n  \"LU\": { name: \"Luxembourg\", latitude: \"49.6116\", longitude: \"6.1319\", population: 124509 },\n  \"MT\": { name: \"Valletta\", latitude: \"35.8989\", longitude: \"14.5146\", population: 6444 },\n  \"MD\": { name: \"Chisinau\", latitude: \"47.0105\", longitude: \"28.8638\", population: 510100 },\n  \"MC\": { name: \"Monaco\", latitude: \"43.7384\", longitude: \"7.4246\", population: 38300 },\n  \"ME\": { name: \"Podgorica\", latitude: \"42.4304\", longitude: \"19.2594\", population: 156169 },\n  \"NL\": { name: \"Amsterdam\", latitude: \"52.3702\", longitude: \"4.8952\", population: 872680 },\n  \"MK\": { name: \"Skopje\", latitude: \"42.0024\", longitude: \"21.4361\", population: 544086 },\n  \"NO\": { name: \"Oslo\", latitude: \"59.9139\", longitude: \"10.7522\", population: 693494 },\n  \"PL\": { name: \"Warsaw\", latitude: \"52.2297\", longitude: \"21.0122\", population: 1790658 },\n  \"PT\": { name: \"Lisbon\", latitude: \"38.7223\", longitude: \"-9.1393\", population: 505526 },\n  \"RO\": { name: \"Bucharest\", latitude: \"44.4268\", longitude: \"26.1025\", population: 1883425 },\n  \"RU\": { name: \"Moscow\", latitude: \"55.7558\", longitude: \"37.6173\", population: 12615279 },\n  \"SM\": { name: \"San Marino\", latitude: \"43.9359\", longitude: \"12.4472\", population: 4040 },\n  \"RS\": { name: \"Belgrade\", latitude: \"44.7866\", longitude: \"20.4489\", population: 1378682 },\n  \"SK\": { name: \"Bratislava\", latitude: \"48.1486\", longitude: \"17.1077\", population: 432864 },\n  \"SI\": { name: \"Ljubljana\", latitude: \"46.0569\", longitude: \"14.5058\", population: 294464 },\n  \"ES\": { name: \"Madrid\", latitude: \"40.4168\", longitude: \"-3.7038\", population: 3223334 },\n  \"SE\": { name: \"Stockholm\", latitude: \"59.3293\", longitude: \"18.0686\", population: 975904 },\n  \"CH\": { name: \"Bern\", latitude: \"46.9480\", longitude: \"7.4474\", population: 133883 },\n  \"UA\": { name: \"Kyiv\", latitude: \"50.4501\", longitude: \"30.5234\", population: 2962180 },\n  \"GB\": { name: \"London\", latitude: \"51.5074\", longitude: \"-0.1278\", population: 8982000 },\n  \"VA\": { name: \"Vatican City\", latitude: \"41.9029\", longitude: \"12.4534\", population: 800 },\n  \n  // North America\n  \"AG\": { name: \"Saint John's\", latitude: \"17.1274\", longitude: \"-61.8468\", population: 21926 },\n  \"BS\": { name: \"Nassau\", latitude: \"25.0443\", longitude: \"-77.3504\", population: 280000 },\n  \"BB\": { name: \"Bridgetown\", latitude: \"13.0969\", longitude: \"-59.6145\", population: 110000 },\n  \"BZ\": { name: \"Belmopan\", latitude: \"17.2510\", longitude: \"-88.7590\", population: 20000 },\n  \"CA\": { name: \"Ottawa\", latitude: \"45.4215\", longitude: \"-75.6972\", population: 1017449 },\n  \"CR\": { name: \"San JosÃ©\", latitude: \"9.9281\", longitude: \"-84.0907\", population: 333980 },\n  \"CU\": { name: \"Havana\", latitude: \"23.1136\", longitude: \"-82.3666\", population: 2131480 },\n  \"DM\": { name: \"Roseau\", latitude: \"15.3092\", longitude: \"-61.3880\", population: 14725 },\n  \"DO\": { name: \"Santo Domingo\", latitude: \"18.4861\", longitude: \"-69.9312\", population: 2581827 },\n  \"SV\": { name: \"San Salvador\", latitude: \"13.6929\", longitude: \"-89.2182\", population: 567698 },\n  \"GD\": { name: \"St. George's\", latitude: \"12.0565\", longitude: \"-61.7486\", population: 7500 },\n  \"GT\": { name: \"Guatemala City\", latitude: \"14.6349\", longitude: \"-90.5069\", population: 994938 },\n  \"HT\": { name: \"Port-au-Prince\", latitude: \"18.5944\", longitude: \"-72.3074\", population: 987310 },\n  \"HN\": { name: \"Tegucigalpa\", latitude: \"14.0723\", longitude: \"-87.1921\", population: 1126534 },\n  \"JM\": { name: \"Kingston\", latitude: \"17.9714\", longitude: \"-76.7931\", population: 580000 },\n  \"MX\": { name: \"Mexico City\", latitude: \"19.4326\", longitude: \"-99.1332\", population: 21671908 },\n  \"NI\": { name: \"Managua\", latitude: \"12.1150\", longitude: \"-86.2362\", population: 1028808 },\n  \"PA\": { name: \"Panama City\", latitude: \"8.9824\", longitude: \"-79.5199\", population: 430299 },\n  \"KN\": { name: \"Basseterre\", latitude: \"17.2948\", longitude: \"-62.7176\", population: 12920 },\n  \"LC\": { name: \"Castries\", latitude: \"14.0101\", longitude: \"-60.9875\", population: 22000 },\n  \"VC\": { name: \"Kingstown\", latitude: \"13.1600\", longitude: \"-61.2248\", population: 12909 },\n  \"TT\": { name: \"Port of Spain\", latitude: \"10.6603\", longitude: \"-61.5089\", population: 37074 },\n  \"US\": { name: \"Washington, D.C.\", latitude: \"38.9072\", longitude: \"-77.0369\", population: 705749 },\n  \n  // South America\n  \"AR\": { name: \"Buenos Aires\", latitude: \"-34.6037\", longitude: \"-58.3816\", population: 3075000 },\n  \"BO\": { name: \"La Paz\", latitude: \"-16.5000\", longitude: \"-68.1500\", population: 877363 },\n  \"BR\": { name: \"BrasÃ­lia\", latitude: \"-15.8267\", longitude: \"-47.9218\", population: 3055149 },\n  \"CL\": { name: \"Santiago\", latitude: \"-33.4489\", longitude: \"-70.6693\", population: 5614000 },\n  \"CO\": { name: \"BogotÃ¡\", latitude: \"4.7110\", longitude: \"-74.0721\", population: 7413000 },\n  \"EC\": { name: \"Quito\", latitude: \"-0.1807\", longitude: \"-78.4678\", population: 2011388 },\n  \"GY\": { name: \"Georgetown\", latitude: \"6.8013\", longitude: \"-58.1551\", population: 235017 },\n  \"PY\": { name: \"AsunciÃ³n\", latitude: \"-25.2637\", longitude: \"-57.5759\", population: 524287 },\n  \"PE\": { name: \"Lima\", latitude: \"-12.0464\", longitude: \"-77.0428\", population: 9752000 },\n  \"SR\": { name: \"Paramaribo\", latitude: \"5.8520\", longitude: \"-55.2038\", population: 240924 },\n  \"UY\": { name: \"Montevideo\", latitude: \"-34.9011\", longitude: \"-56.1645\", population: 1319108 },\n  \"VE\": { name: \"Caracas\", latitude: \"10.4806\", longitude: \"-66.9036\", population: 2935000 },\n  \n  // Oceania\n  \"AU\": { name: \"Canberra\", latitude: \"-35.2809\", longitude: \"149.1300\", population: 431380 },\n  \"FJ\": { name: \"Suva\", latitude: \"-18.1416\", longitude: \"178.4419\", population: 93970 },\n  \"KI\": { name: \"South Tarawa\", latitude: \"1.3382\", longitude: \"173.0176\", population: 63439 },\n  \"MH\": { name: \"Majuro\", latitude: \"7.1315\", longitude: \"171.1845\", population: 27797 },\n  \"FM\": { name: \"Palikir\", latitude: \"6.9248\", longitude: \"158.1610\", population: 6647 },\n  \"NR\": { name: \"Yaren\", latitude: \"-0.5477\", longitude: \"166.9209\", population: 1100 },\n  \"NZ\": { name: \"Wellington\", latitude: \"-41.2865\", longitude: \"174.7762\", population: 215100 },\n  \"PW\": { name: \"Ngerulmud\", latitude: \"7.5007\", longitude: \"134.6242\", population: 391 },\n  \"PG\": { name: \"Port Moresby\", latitude: \"-9.4438\", longitude: \"147.1803\", population: 364125 },\n  \"WS\": { name: \"Apia\", latitude: \"-13.8333\", longitude: \"-171.7667\", population: 36735 },\n  \"SB\": { name: \"Honiara\", latitude: \"-9.4333\", longitude: \"159.9500\", population: 84520 },\n  \"TO\": { name: \"Nuku'alofa\", latitude: \"-21.1393\", longitude: \"-175.2192\", population: 23658 },\n  \"TV\": { name: \"Funafuti\", latitude: \"-8.5167\", longitude: \"179.2167\", population: 6320 },\n  \"VU\": { name: \"Port Vila\", latitude: \"-17.7404\", longitude: \"168.3210\", population: 51437 },\n};\n\nexport async function seedWorldData() {\n  try {\n    console.log(\"Starting world data seed...\");\n    \n    // Clear existing data\n    await db.delete(cities);\n    await db.delete(regions);\n    await db.delete(countries);\n    \n    console.log(\"Inserting countries...\");\n    const insertedCountries: Record<string, number> = {};\n    \n    for (const country of worldCountries) {\n      const [inserted] = await db.insert(countries).values(country).returning();\n      insertedCountries[country.code] = inserted.id;\n      console.log(`âœ“ ${country.name} (${country.code})`);\n    }\n    \n    console.log(`\\nInserted ${worldCountries.length} countries.`);\n    console.log(\"\\nInserting capital cities...\");\n    \n    // Insert capital cities\n    let citiesInserted = 0;\n    for (const [countryCode, cityData] of Object.entries(capitalCities)) {\n      const countryId = insertedCountries[countryCode];\n      if (!countryId) {\n        console.warn(`Warning: Country ${countryCode} not found for city ${cityData.name}`);\n        continue;\n      }\n      \n      await db.insert(cities).values({\n        name: cityData.name,\n        slug: cityData.name.toLowerCase().replace(/[^a-z0-9]+/g, '-'),\n        countryId,\n        regionId: null,\n        isCapital: true,\n        latitude: cityData.latitude,\n        longitude: cityData.longitude,\n        population: cityData.population,\n      });\n      \n      citiesInserted++;\n    }\n    \n    console.log(`\\nâœ“ Inserted ${citiesInserted} capital cities.`);\n    console.log(\"\\nWorld data seed completed successfully!\");\n    console.log(`Total: ${worldCountries.length} countries, ${citiesInserted} cities`);\n    \n  } catch (error) {\n    console.error(\"Error seeding world data:\", error);\n    throw error;\n  }\n}\n\n// Run if executed directly\nif (import.meta.url === `file://${process.argv[1]}`) {\n  seedWorldData()\n    .then(() => {\n      console.log(\"\\nâœ… World data seeding complete!\");\n      process.exit(0);\n    })\n    .catch((error) => {\n      console.error(\"\\nâŒ World data seeding failed:\", error);\n      process.exit(1);\n    });\n}\n","size_bytes":39376},"client/src/pages/AdminSettings.tsx":{"content":"import { useState } from \"react\";\nimport { useMutation, useQuery } from \"@tanstack/react-query\";\nimport { SidebarProvider, SidebarTrigger } from \"@/components/ui/sidebar\";\nimport AdminSidebar from \"@/components/AdminSidebar\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { Lock } from \"lucide-react\";\nimport { apiRequest } from \"@/lib/queryClient\";\n\nconst passwordChangeSchema = z.object({\n  currentPassword: z.string().min(1, \"Current password is required\"),\n  newPassword: z.string().min(6, \"Password must be at least 6 characters\"),\n  confirmPassword: z.string().min(1, \"Please confirm your password\"),\n}).refine((data) => data.newPassword === data.confirmPassword, {\n  message: \"Passwords don't match\",\n  path: [\"confirmPassword\"],\n});\n\ntype PasswordChangeFormData = z.infer<typeof passwordChangeSchema>;\n\nexport default function AdminSettings() {\n  const { toast } = useToast();\n\n  const form = useForm<PasswordChangeFormData>({\n    resolver: zodResolver(passwordChangeSchema),\n    defaultValues: {\n      currentPassword: \"\",\n      newPassword: \"\",\n      confirmPassword: \"\",\n    },\n  });\n\n  const changePasswordMutation = useMutation({\n    mutationFn: async (data: PasswordChangeFormData) => {\n      await apiRequest(\"POST\", \"/api/admin/change-password\", {\n        currentPassword: data.currentPassword,\n        newPassword: data.newPassword,\n      });\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Success\",\n        description: \"Password changed successfully\",\n      });\n      form.reset();\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handlePasswordChange = (data: PasswordChangeFormData) => {\n    changePasswordMutation.mutate(data);\n  };\n\n  const style = {\n    \"--sidebar-width\": \"16rem\",\n  };\n\n  return (\n    <SidebarProvider style={style as React.CSSProperties}>\n      <div className=\"flex h-screen w-full\">\n        <AdminSidebar />\n        <div className=\"flex flex-col flex-1\">\n          <header className=\"flex items-center gap-2 h-14 px-4 border-b\">\n            <SidebarTrigger data-testid=\"button-sidebar-toggle\" />\n            <h1 className=\"text-lg font-semibold\">Settings</h1>\n          </header>\n          <main className=\"flex-1 overflow-auto p-6\">\n            <div className=\"max-w-2xl\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <Lock className=\"w-5 h-5\" />\n                    Change Password\n                  </CardTitle>\n                  <CardDescription>\n                    Update your admin account password\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <Form {...form}>\n                    <form onSubmit={form.handleSubmit(handlePasswordChange)} className=\"space-y-4\">\n                      <FormField\n                        control={form.control}\n                        name=\"currentPassword\"\n                        render={({ field }) => (\n                          <FormItem>\n                            <FormLabel>Current Password</FormLabel>\n                            <FormControl>\n                              <Input\n                                {...field}\n                                type=\"password\"\n                                placeholder=\"Enter current password\"\n                                data-testid=\"input-current-password\"\n                              />\n                            </FormControl>\n                            <FormMessage />\n                          </FormItem>\n                        )}\n                      />\n                      <FormField\n                        control={form.control}\n                        name=\"newPassword\"\n                        render={({ field }) => (\n                          <FormItem>\n                            <FormLabel>New Password</FormLabel>\n                            <FormControl>\n                              <Input\n                                {...field}\n                                type=\"password\"\n                                placeholder=\"Enter new password\"\n                                data-testid=\"input-new-password\"\n                              />\n                            </FormControl>\n                            <FormMessage />\n                          </FormItem>\n                        )}\n                      />\n                      <FormField\n                        control={form.control}\n                        name=\"confirmPassword\"\n                        render={({ field }) => (\n                          <FormItem>\n                            <FormLabel>Confirm New Password</FormLabel>\n                            <FormControl>\n                              <Input\n                                {...field}\n                                type=\"password\"\n                                placeholder=\"Confirm new password\"\n                                data-testid=\"input-confirm-password\"\n                              />\n                            </FormControl>\n                            <FormMessage />\n                          </FormItem>\n                        )}\n                      />\n                      <Button\n                        type=\"submit\"\n                        disabled={changePasswordMutation.isPending}\n                        data-testid=\"button-change-password\"\n                      >\n                        {changePasswordMutation.isPending ? \"Changing...\" : \"Change Password\"}\n                      </Button>\n                    </form>\n                  </Form>\n                </CardContent>\n              </Card>\n            </div>\n          </main>\n        </div>\n      </div>\n    </SidebarProvider>\n  );\n}\n","size_bytes":6275},"server/regions-data-seed.ts":{"content":"import { db } from \"./db\";\nimport { countries, regions, cities } from \"@shared/schema\";\nimport { eq } from \"drizzle-orm\";\n\n// Major regions/states/provinces for important countries\nconst regionsByCountry: Record<string, Array<{ name: string; slug: string; type: string }>> = {\n  // United States - 50 States\n  \"US\": [\n    { name: \"Alabama\", slug: \"alabama\", type: \"state\" },\n    { name: \"Alaska\", slug: \"alaska\", type: \"state\" },\n    { name: \"Arizona\", slug: \"arizona\", type: \"state\" },\n    { name: \"Arkansas\", slug: \"arkansas\", type: \"state\" },\n    { name: \"California\", slug: \"california\", type: \"state\" },\n    { name: \"Colorado\", slug: \"colorado\", type: \"state\" },\n    { name: \"Connecticut\", slug: \"connecticut\", type: \"state\" },\n    { name: \"Delaware\", slug: \"delaware\", type: \"state\" },\n    { name: \"Florida\", slug: \"florida\", type: \"state\" },\n    { name: \"Georgia\", slug: \"georgia-us\", type: \"state\" },\n    { name: \"Hawaii\", slug: \"hawaii\", type: \"state\" },\n    { name: \"Idaho\", slug: \"idaho\", type: \"state\" },\n    { name: \"Illinois\", slug: \"illinois\", type: \"state\" },\n    { name: \"Indiana\", slug: \"indiana\", type: \"state\" },\n    { name: \"Iowa\", slug: \"iowa\", type: \"state\" },\n    { name: \"Kansas\", slug: \"kansas\", type: \"state\" },\n    { name: \"Kentucky\", slug: \"kentucky\", type: \"state\" },\n    { name: \"Louisiana\", slug: \"louisiana\", type: \"state\" },\n    { name: \"Maine\", slug: \"maine\", type: \"state\" },\n    { name: \"Maryland\", slug: \"maryland\", type: \"state\" },\n    { name: \"Massachusetts\", slug: \"massachusetts\", type: \"state\" },\n    { name: \"Michigan\", slug: \"michigan\", type: \"state\" },\n    { name: \"Minnesota\", slug: \"minnesota\", type: \"state\" },\n    { name: \"Mississippi\", slug: \"mississippi\", type: \"state\" },\n    { name: \"Missouri\", slug: \"missouri\", type: \"state\" },\n    { name: \"Montana\", slug: \"montana\", type: \"state\" },\n    { name: \"Nebraska\", slug: \"nebraska\", type: \"state\" },\n    { name: \"Nevada\", slug: \"nevada\", type: \"state\" },\n    { name: \"New Hampshire\", slug: \"new-hampshire\", type: \"state\" },\n    { name: \"New Jersey\", slug: \"new-jersey\", type: \"state\" },\n    { name: \"New Mexico\", slug: \"new-mexico\", type: \"state\" },\n    { name: \"New York\", slug: \"new-york\", type: \"state\" },\n    { name: \"North Carolina\", slug: \"north-carolina\", type: \"state\" },\n    { name: \"North Dakota\", slug: \"north-dakota\", type: \"state\" },\n    { name: \"Ohio\", slug: \"ohio\", type: \"state\" },\n    { name: \"Oklahoma\", slug: \"oklahoma\", type: \"state\" },\n    { name: \"Oregon\", slug: \"oregon\", type: \"state\" },\n    { name: \"Pennsylvania\", slug: \"pennsylvania\", type: \"state\" },\n    { name: \"Rhode Island\", slug: \"rhode-island\", type: \"state\" },\n    { name: \"South Carolina\", slug: \"south-carolina\", type: \"state\" },\n    { name: \"South Dakota\", slug: \"south-dakota\", type: \"state\" },\n    { name: \"Tennessee\", slug: \"tennessee\", type: \"state\" },\n    { name: \"Texas\", slug: \"texas\", type: \"state\" },\n    { name: \"Utah\", slug: \"utah\", type: \"state\" },\n    { name: \"Vermont\", slug: \"vermont\", type: \"state\" },\n    { name: \"Virginia\", slug: \"virginia\", type: \"state\" },\n    { name: \"Washington\", slug: \"washington-state\", type: \"state\" },\n    { name: \"West Virginia\", slug: \"west-virginia\", type: \"state\" },\n    { name: \"Wisconsin\", slug: \"wisconsin\", type: \"state\" },\n    { name: \"Wyoming\", slug: \"wyoming\", type: \"state\" },\n  ],\n  \n  // Canada - Provinces and Territories\n  \"CA\": [\n    { name: \"Alberta\", slug: \"alberta\", type: \"province\" },\n    { name: \"British Columbia\", slug: \"british-columbia\", type: \"province\" },\n    { name: \"Manitoba\", slug: \"manitoba\", type: \"province\" },\n    { name: \"New Brunswick\", slug: \"new-brunswick\", type: \"province\" },\n    { name: \"Newfoundland and Labrador\", slug: \"newfoundland-labrador\", type: \"province\" },\n    { name: \"Nova Scotia\", slug: \"nova-scotia\", type: \"province\" },\n    { name: \"Ontario\", slug: \"ontario\", type: \"province\" },\n    { name: \"Prince Edward Island\", slug: \"prince-edward-island\", type: \"province\" },\n    { name: \"Quebec\", slug: \"quebec\", type: \"province\" },\n    { name: \"Saskatchewan\", slug: \"saskatchewan\", type: \"province\" },\n    { name: \"Northwest Territories\", slug: \"northwest-territories\", type: \"territory\" },\n    { name: \"Nunavut\", slug: \"nunavut\", type: \"territory\" },\n    { name: \"Yukon\", slug: \"yukon\", type: \"territory\" },\n  ],\n  \n  // United Kingdom - Countries\n  \"GB\": [\n    { name: \"England\", slug: \"england\", type: \"country\" },\n    { name: \"Scotland\", slug: \"scotland\", type: \"country\" },\n    { name: \"Wales\", slug: \"wales\", type: \"country\" },\n    { name: \"Northern Ireland\", slug: \"northern-ireland\", type: \"country\" },\n  ],\n  \n  // India - States and Union Territories\n  \"IN\": [\n    { name: \"Andhra Pradesh\", slug: \"andhra-pradesh\", type: \"state\" },\n    { name: \"Arunachal Pradesh\", slug: \"arunachal-pradesh\", type: \"state\" },\n    { name: \"Assam\", slug: \"assam\", type: \"state\" },\n    { name: \"Bihar\", slug: \"bihar\", type: \"state\" },\n    { name: \"Chhattisgarh\", slug: \"chhattisgarh\", type: \"state\" },\n    { name: \"Goa\", slug: \"goa\", type: \"state\" },\n    { name: \"Gujarat\", slug: \"gujarat\", type: \"state\" },\n    { name: \"Haryana\", slug: \"haryana\", type: \"state\" },\n    { name: \"Himachal Pradesh\", slug: \"himachal-pradesh\", type: \"state\" },\n    { name: \"Jharkhand\", slug: \"jharkhand\", type: \"state\" },\n    { name: \"Karnataka\", slug: \"karnataka\", type: \"state\" },\n    { name: \"Kerala\", slug: \"kerala\", type: \"state\" },\n    { name: \"Madhya Pradesh\", slug: \"madhya-pradesh\", type: \"state\" },\n    { name: \"Maharashtra\", slug: \"maharashtra\", type: \"state\" },\n    { name: \"Manipur\", slug: \"manipur\", type: \"state\" },\n    { name: \"Meghalaya\", slug: \"meghalaya\", type: \"state\" },\n    { name: \"Mizoram\", slug: \"mizoram\", type: \"state\" },\n    { name: \"Nagaland\", slug: \"nagaland\", type: \"state\" },\n    { name: \"Odisha\", slug: \"odisha\", type: \"state\" },\n    { name: \"Punjab\", slug: \"punjab\", type: \"state\" },\n    { name: \"Rajasthan\", slug: \"rajasthan\", type: \"state\" },\n    { name: \"Sikkim\", slug: \"sikkim\", type: \"state\" },\n    { name: \"Tamil Nadu\", slug: \"tamil-nadu\", type: \"state\" },\n    { name: \"Telangana\", slug: \"telangana\", type: \"state\" },\n    { name: \"Tripura\", slug: \"tripura\", type: \"state\" },\n    { name: \"Uttar Pradesh\", slug: \"uttar-pradesh\", type: \"state\" },\n    { name: \"Uttarakhand\", slug: \"uttarakhand\", type: \"state\" },\n    { name: \"West Bengal\", slug: \"west-bengal\", type: \"state\" },\n    { name: \"Andaman and Nicobar Islands\", slug: \"andaman-nicobar\", type: \"union territory\" },\n    { name: \"Chandigarh\", slug: \"chandigarh\", type: \"union territory\" },\n    { name: \"Dadra and Nagar Haveli and Daman and Diu\", slug: \"dadra-nagar-haveli-daman-diu\", type: \"union territory\" },\n    { name: \"Delhi\", slug: \"delhi\", type: \"union territory\" },\n    { name: \"Jammu and Kashmir\", slug: \"jammu-kashmir\", type: \"union territory\" },\n    { name: \"Ladakh\", slug: \"ladakh\", type: \"union territory\" },\n    { name: \"Lakshadweep\", slug: \"lakshadweep\", type: \"union territory\" },\n    { name: \"Puducherry\", slug: \"puducherry\", type: \"union territory\" },\n  ],\n  \n  // Australia - States and Territories\n  \"AU\": [\n    { name: \"New South Wales\", slug: \"new-south-wales\", type: \"state\" },\n    { name: \"Queensland\", slug: \"queensland\", type: \"state\" },\n    { name: \"South Australia\", slug: \"south-australia\", type: \"state\" },\n    { name: \"Tasmania\", slug: \"tasmania\", type: \"state\" },\n    { name: \"Victoria\", slug: \"victoria\", type: \"state\" },\n    { name: \"Western Australia\", slug: \"western-australia\", type: \"state\" },\n    { name: \"Australian Capital Territory\", slug: \"australian-capital-territory\", type: \"territory\" },\n    { name: \"Northern Territory\", slug: \"northern-territory\", type: \"territory\" },\n  ],\n  \n  // China - Provinces\n  \"CN\": [\n    { name: \"Anhui\", slug: \"anhui\", type: \"province\" },\n    { name: \"Beijing\", slug: \"beijing\", type: \"municipality\" },\n    { name: \"Chongqing\", slug: \"chongqing\", type: \"municipality\" },\n    { name: \"Fujian\", slug: \"fujian\", type: \"province\" },\n    { name: \"Gansu\", slug: \"gansu\", type: \"province\" },\n    { name: \"Guangdong\", slug: \"guangdong\", type: \"province\" },\n    { name: \"Guangxi\", slug: \"guangxi\", type: \"autonomous region\" },\n    { name: \"Guizhou\", slug: \"guizhou\", type: \"province\" },\n    { name: \"Hainan\", slug: \"hainan\", type: \"province\" },\n    { name: \"Hebei\", slug: \"hebei\", type: \"province\" },\n    { name: \"Heilongjiang\", slug: \"heilongjiang\", type: \"province\" },\n    { name: \"Henan\", slug: \"henan\", type: \"province\" },\n    { name: \"Hong Kong\", slug: \"hong-kong\", type: \"special administrative region\" },\n    { name: \"Hubei\", slug: \"hubei\", type: \"province\" },\n    { name: \"Hunan\", slug: \"hunan\", type: \"province\" },\n    { name: \"Inner Mongolia\", slug: \"inner-mongolia\", type: \"autonomous region\" },\n    { name: \"Jiangsu\", slug: \"jiangsu\", type: \"province\" },\n    { name: \"Jiangxi\", slug: \"jiangxi\", type: \"province\" },\n    { name: \"Jilin\", slug: \"jilin\", type: \"province\" },\n    { name: \"Liaoning\", slug: \"liaoning\", type: \"province\" },\n    { name: \"Macau\", slug: \"macau\", type: \"special administrative region\" },\n    { name: \"Ningxia\", slug: \"ningxia\", type: \"autonomous region\" },\n    { name: \"Qinghai\", slug: \"qinghai\", type: \"province\" },\n    { name: \"Shaanxi\", slug: \"shaanxi\", type: \"province\" },\n    { name: \"Shandong\", slug: \"shandong\", type: \"province\" },\n    { name: \"Shanghai\", slug: \"shanghai\", type: \"municipality\" },\n    { name: \"Shanxi\", slug: \"shanxi\", type: \"province\" },\n    { name: \"Sichuan\", slug: \"sichuan\", type: \"province\" },\n    { name: \"Tianjin\", slug: \"tianjin\", type: \"municipality\" },\n    { name: \"Tibet\", slug: \"tibet\", type: \"autonomous region\" },\n    { name: \"Xinjiang\", slug: \"xinjiang\", type: \"autonomous region\" },\n    { name: \"Yunnan\", slug: \"yunnan\", type: \"province\" },\n    { name: \"Zhejiang\", slug: \"zhejiang\", type: \"province\" },\n  ],\n  \n  // Germany - States\n  \"DE\": [\n    { name: \"Baden-WÃ¼rttemberg\", slug: \"baden-wurttemberg\", type: \"state\" },\n    { name: \"Bavaria\", slug: \"bavaria\", type: \"state\" },\n    { name: \"Berlin\", slug: \"berlin\", type: \"state\" },\n    { name: \"Brandenburg\", slug: \"brandenburg\", type: \"state\" },\n    { name: \"Bremen\", slug: \"bremen\", type: \"state\" },\n    { name: \"Hamburg\", slug: \"hamburg\", type: \"state\" },\n    { name: \"Hesse\", slug: \"hesse\", type: \"state\" },\n    { name: \"Lower Saxony\", slug: \"lower-saxony\", type: \"state\" },\n    { name: \"Mecklenburg-Vorpommern\", slug: \"mecklenburg-vorpommern\", type: \"state\" },\n    { name: \"North Rhine-Westphalia\", slug: \"north-rhine-westphalia\", type: \"state\" },\n    { name: \"Rhineland-Palatinate\", slug: \"rhineland-palatinate\", type: \"state\" },\n    { name: \"Saarland\", slug: \"saarland\", type: \"state\" },\n    { name: \"Saxony\", slug: \"saxony\", type: \"state\" },\n    { name: \"Saxony-Anhalt\", slug: \"saxony-anhalt\", type: \"state\" },\n    { name: \"Schleswig-Holstein\", slug: \"schleswig-holstein\", type: \"state\" },\n    { name: \"Thuringia\", slug: \"thuringia\", type: \"state\" },\n  ],\n  \n  // France - Regions\n  \"FR\": [\n    { name: \"Auvergne-RhÃ´ne-Alpes\", slug: \"auvergne-rhone-alpes\", type: \"region\" },\n    { name: \"Bourgogne-Franche-ComtÃ©\", slug: \"bourgogne-franche-comte\", type: \"region\" },\n    { name: \"Brittany\", slug: \"brittany\", type: \"region\" },\n    { name: \"Centre-Val de Loire\", slug: \"centre-val-de-loire\", type: \"region\" },\n    { name: \"Corsica\", slug: \"corsica\", type: \"region\" },\n    { name: \"Grand Est\", slug: \"grand-est\", type: \"region\" },\n    { name: \"Hauts-de-France\", slug: \"hauts-de-france\", type: \"region\" },\n    { name: \"ÃŽle-de-France\", slug: \"ile-de-france\", type: \"region\" },\n    { name: \"Normandy\", slug: \"normandy\", type: \"region\" },\n    { name: \"Nouvelle-Aquitaine\", slug: \"nouvelle-aquitaine\", type: \"region\" },\n    { name: \"Occitanie\", slug: \"occitanie\", type: \"region\" },\n    { name: \"Pays de la Loire\", slug: \"pays-de-la-loire\", type: \"region\" },\n    { name: \"Provence-Alpes-CÃ´te d'Azur\", slug: \"provence-alpes-cote-azur\", type: \"region\" },\n  ],\n  \n  // Brazil - States\n  \"BR\": [\n    { name: \"Acre\", slug: \"acre\", type: \"state\" },\n    { name: \"Alagoas\", slug: \"alagoas\", type: \"state\" },\n    { name: \"AmapÃ¡\", slug: \"amapa\", type: \"state\" },\n    { name: \"Amazonas\", slug: \"amazonas\", type: \"state\" },\n    { name: \"Bahia\", slug: \"bahia\", type: \"state\" },\n    { name: \"CearÃ¡\", slug: \"ceara\", type: \"state\" },\n    { name: \"Distrito Federal\", slug: \"distrito-federal\", type: \"federal district\" },\n    { name: \"EspÃ­rito Santo\", slug: \"espirito-santo\", type: \"state\" },\n    { name: \"GoiÃ¡s\", slug: \"goias\", type: \"state\" },\n    { name: \"MaranhÃ£o\", slug: \"maranhao\", type: \"state\" },\n    { name: \"Mato Grosso\", slug: \"mato-grosso\", type: \"state\" },\n    { name: \"Mato Grosso do Sul\", slug: \"mato-grosso-do-sul\", type: \"state\" },\n    { name: \"Minas Gerais\", slug: \"minas-gerais\", type: \"state\" },\n    { name: \"ParÃ¡\", slug: \"para\", type: \"state\" },\n    { name: \"ParaÃ­ba\", slug: \"paraiba\", type: \"state\" },\n    { name: \"ParanÃ¡\", slug: \"parana\", type: \"state\" },\n    { name: \"Pernambuco\", slug: \"pernambuco\", type: \"state\" },\n    { name: \"PiauÃ­\", slug: \"piaui\", type: \"state\" },\n    { name: \"Rio de Janeiro\", slug: \"rio-de-janeiro\", type: \"state\" },\n    { name: \"Rio Grande do Norte\", slug: \"rio-grande-do-norte\", type: \"state\" },\n    { name: \"Rio Grande do Sul\", slug: \"rio-grande-do-sul\", type: \"state\" },\n    { name: \"RondÃ´nia\", slug: \"rondonia\", type: \"state\" },\n    { name: \"Roraima\", slug: \"roraima\", type: \"state\" },\n    { name: \"Santa Catarina\", slug: \"santa-catarina\", type: \"state\" },\n    { name: \"SÃ£o Paulo\", slug: \"sao-paulo\", type: \"state\" },\n    { name: \"Sergipe\", slug: \"sergipe\", type: \"state\" },\n    { name: \"Tocantins\", slug: \"tocantins\", type: \"state\" },\n  ],\n  \n  // Mexico - States\n  \"MX\": [\n    { name: \"Aguascalientes\", slug: \"aguascalientes\", type: \"state\" },\n    { name: \"Baja California\", slug: \"baja-california\", type: \"state\" },\n    { name: \"Baja California Sur\", slug: \"baja-california-sur\", type: \"state\" },\n    { name: \"Campeche\", slug: \"campeche\", type: \"state\" },\n    { name: \"Chiapas\", slug: \"chiapas\", type: \"state\" },\n    { name: \"Chihuahua\", slug: \"chihuahua\", type: \"state\" },\n    { name: \"Coahuila\", slug: \"coahuila\", type: \"state\" },\n    { name: \"Colima\", slug: \"colima\", type: \"state\" },\n    { name: \"Durango\", slug: \"durango\", type: \"state\" },\n    { name: \"Guanajuato\", slug: \"guanajuato\", type: \"state\" },\n    { name: \"Guerrero\", slug: \"guerrero\", type: \"state\" },\n    { name: \"Hidalgo\", slug: \"hidalgo\", type: \"state\" },\n    { name: \"Jalisco\", slug: \"jalisco\", type: \"state\" },\n    { name: \"MÃ©xico\", slug: \"mexico-state\", type: \"state\" },\n    { name: \"Mexico City\", slug: \"mexico-city\", type: \"federal district\" },\n    { name: \"MichoacÃ¡n\", slug: \"michoacan\", type: \"state\" },\n    { name: \"Morelos\", slug: \"morelos\", type: \"state\" },\n    { name: \"Nayarit\", slug: \"nayarit\", type: \"state\" },\n    { name: \"Nuevo LeÃ³n\", slug: \"nuevo-leon\", type: \"state\" },\n    { name: \"Oaxaca\", slug: \"oaxaca\", type: \"state\" },\n    { name: \"Puebla\", slug: \"puebla\", type: \"state\" },\n    { name: \"QuerÃ©taro\", slug: \"queretaro\", type: \"state\" },\n    { name: \"Quintana Roo\", slug: \"quintana-roo\", type: \"state\" },\n    { name: \"San Luis PotosÃ­\", slug: \"san-luis-potosi\", type: \"state\" },\n    { name: \"Sinaloa\", slug: \"sinaloa\", type: \"state\" },\n    { name: \"Sonora\", slug: \"sonora\", type: \"state\" },\n    { name: \"Tabasco\", slug: \"tabasco\", type: \"state\" },\n    { name: \"Tamaulipas\", slug: \"tamaulipas\", type: \"state\" },\n    { name: \"Tlaxcala\", slug: \"tlaxcala\", type: \"state\" },\n    { name: \"Veracruz\", slug: \"veracruz\", type: \"state\" },\n    { name: \"YucatÃ¡n\", slug: \"yucatan\", type: \"state\" },\n    { name: \"Zacatecas\", slug: \"zacatecas\", type: \"state\" },\n  ],\n};\n\nexport async function seedRegionsData() {\n  try {\n    console.log(\"Starting regions data seed...\");\n    \n    let totalRegionsInserted = 0;\n    \n    for (const [countryCode, countryRegions] of Object.entries(regionsByCountry)) {\n      // Find country by code\n      const [country] = await db.select().from(countries).where(eq(countries.code, countryCode));\n      \n      if (!country) {\n        console.warn(`Warning: Country ${countryCode} not found`);\n        continue;\n      }\n      \n      console.log(`\\nInserting regions for ${country.name}...`);\n      \n      for (const region of countryRegions) {\n        await db.insert(regions).values({\n          name: region.name,\n          slug: region.slug,\n          countryId: country.id,\n          type: region.type,\n        });\n        totalRegionsInserted++;\n      }\n      \n      console.log(`âœ“ ${countryRegions.length} regions inserted for ${country.name}`);\n    }\n    \n    console.log(`\\nâœ… Regions data seed completed successfully!`);\n    console.log(`Total: ${totalRegionsInserted} regions inserted across ${Object.keys(regionsByCountry).length} countries`);\n    \n  } catch (error) {\n    console.error(\"Error seeding regions data:\", error);\n    throw error;\n  }\n}\n\n// Run if executed directly\nif (import.meta.url === `file://${process.argv[1]}`) {\n  seedRegionsData()\n    .then(() => {\n      console.log(\"\\nâœ… Regions seeding complete!\");\n      process.exit(0);\n    })\n    .catch((error) => {\n      console.error(\"\\nâŒ Regions seeding failed:\", error);\n      process.exit(1);\n    });\n}\n","size_bytes":17182},"server/utils/auth.ts":{"content":"import crypto from \"crypto\";\n\n/**\n * Generate a cryptographically secure random token\n * @param bytes Number of random bytes (default: 32)\n * @returns Hex-encoded token string\n */\nexport function generateToken(bytes: number = 32): string {\n  return crypto.randomBytes(bytes).toString(\"hex\");\n}\n\n/**\n * Hash a token using SHA-256 for secure storage\n * @param token Plaintext token to hash\n * @returns Hashed token (hex-encoded)\n */\nexport function hashToken(token: string): string {\n  return crypto.createHash(\"sha256\").update(token).digest(\"hex\");\n}\n\n/**\n * Hash an IP address for privacy-compliant storage\n * @param ipAddress IP address to hash\n * @returns Hashed IP address (hex-encoded)\n */\nexport function hashIpAddress(ipAddress: string): string {\n  return crypto.createHash(\"sha256\").update(ipAddress).digest(\"hex\");\n}\n\n/**\n * Generate a verification token and its hash\n * @returns Object with plaintext token and hashed version\n */\nexport function generateVerificationToken(): { token: string; hash: string } {\n  const token = generateToken();\n  const hash = hashToken(token);\n  return { token, hash };\n}\n\n/**\n * Generate a password reset token and its hash\n * @param expiryHours Hours until expiry (default: 1)\n * @returns Object with plaintext token, hash, and expiry date\n */\nexport function generateResetToken(expiryHours: number = 1): {\n  token: string;\n  hash: string;\n  expiry: Date;\n} {\n  const token = generateToken();\n  const hash = hashToken(token);\n  const expiry = new Date(Date.now() + expiryHours * 60 * 60 * 1000);\n  return { token, hash, expiry };\n}\n","size_bytes":1574},"client/src/pages/AdminListings.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport {\n  SidebarProvider,\n  SidebarTrigger,\n} from \"@/components/ui/sidebar\";\nimport AdminSidebar from \"@/components/AdminSidebar\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { ArrowUp, X, Loader2, Eye } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport type { Listing } from \"@shared/schema\";\n\nexport default function AdminListings() {\n  const { toast } = useToast();\n  const [positionDialogOpen, setPositionDialogOpen] = useState(false);\n  const [selectedListing, setSelectedListing] = useState<Listing | null>(null);\n  const [position, setPosition] = useState(\"\");\n  const [durationHours, setDurationHours] = useState(\"\");\n\n  const { data: listings, isLoading } = useQuery<Listing[]>({\n    queryKey: [\"/api/listings\"],\n  });\n\n  const setPositionMutation = useMutation({\n    mutationFn: async ({ id, position, durationHours }: { id: number; position: number; durationHours: number }) => {\n      await apiRequest(\"POST\", `/api/admin/listings/${id}/position`, { position, durationHours });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/listings\"] });\n      toast({\n        title: \"Success\",\n        description: \"Listing position updated\",\n      });\n      setPositionDialogOpen(false);\n      setSelectedListing(null);\n      setPosition(\"\");\n      setDurationHours(\"\");\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const removePositionMutation = useMutation({\n    mutationFn: async (id: number) => {\n      await apiRequest(\"DELETE\", `/api/admin/listings/${id}/position`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/listings\"] });\n      toast({\n        title: \"Success\",\n        description: \"Listing position removed\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleSetPosition = (listing: Listing) => {\n    setSelectedListing(listing);\n    setPosition(listing.position?.toString() || \"\");\n    setDurationHours(\"\");\n    setPositionDialogOpen(true);\n  };\n\n  const handlePositionSubmit = () => {\n    if (!selectedListing) return;\n    \n    const positionNum = parseInt(position);\n    const durationNum = parseInt(durationHours);\n\n    if (isNaN(positionNum) || positionNum < 1) {\n      toast({\n        title: \"Invalid Position\",\n        description: \"Position must be a positive integer\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (isNaN(durationNum) || durationNum < 1) {\n      toast({\n        title: \"Invalid Duration\",\n        description: \"Duration must be at least 1 hour\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setPositionMutation.mutate({ \n      id: selectedListing.id, \n      position: positionNum, \n      durationHours: durationNum \n    });\n  };\n\n  const style = {\n    \"--sidebar-width\": \"16rem\",\n  };\n\n  return (\n    <SidebarProvider style={style as React.CSSProperties}>\n      <div className=\"flex h-screen w-full\">\n        <AdminSidebar />\n        <div className=\"flex flex-col flex-1\">\n          <header className=\"flex items-center gap-3 h-14 px-4 border-b\">\n            <SidebarTrigger data-testid=\"button-sidebar-toggle\" />\n            <h1 className=\"text-lg font-semibold\">All Listings</h1>\n          </header>\n          <main className=\"flex-1 overflow-auto p-6 bg-muted/30\">\n            <div className=\"max-w-7xl mx-auto\">\n              <Card>\n                <CardHeader>\n                  <CardTitle>Approved Listings</CardTitle>\n                  <CardDescription>\n                    Manage all published listings and their positions\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  {isLoading ? (\n                    <div className=\"flex items-center justify-center py-8\">\n                      <Loader2 className=\"w-6 h-6 animate-spin text-muted-foreground\" />\n                    </div>\n                  ) : !listings || listings.length === 0 ? (\n                    <p className=\"text-muted-foreground text-center py-8\">\n                      No listings found\n                    </p>\n                  ) : (\n                    <div className=\"border rounded-lg\" data-testid=\"table-listings\">\n                      <Table>\n                        <TableHeader>\n                          <TableRow>\n                            <TableHead>Position</TableHead>\n                            <TableHead>Business Name</TableHead>\n                            <TableHead>Category</TableHead>\n                            <TableHead>Type</TableHead>\n                            <TableHead>Featured</TableHead>\n                            <TableHead>Views</TableHead>\n                            <TableHead className=\"text-right\">Actions</TableHead>\n                          </TableRow>\n                        </TableHeader>\n                        <TableBody>\n                          {listings.map((listing) => (\n                            <TableRow key={listing.id} data-testid={`row-listing-${listing.id}`}>\n                              <TableCell>\n                                {listing.position ? (\n                                  <Badge variant=\"default\">#{listing.position}</Badge>\n                                ) : (\n                                  <span className=\"text-muted-foreground text-sm\">-</span>\n                                )}\n                              </TableCell>\n                              <TableCell className=\"font-medium\">{listing.title}</TableCell>\n                              <TableCell>{listing.categoryId}</TableCell>\n                              <TableCell>\n                                <Badge variant={listing.listingType === 'promotional' ? 'default' : 'secondary'}>\n                                  {listing.listingType}\n                                </Badge>\n                              </TableCell>\n                              <TableCell>\n                                {listing.featured ? (\n                                  <Badge variant=\"default\">Featured</Badge>\n                                ) : (\n                                  <span className=\"text-muted-foreground text-sm\">-</span>\n                                )}\n                              </TableCell>\n                              <TableCell>0</TableCell>\n                              <TableCell className=\"text-right\">\n                                <div className=\"flex justify-end gap-2\">\n                                  <Button\n                                    size=\"icon\"\n                                    variant=\"ghost\"\n                                    onClick={() => handleSetPosition(listing)}\n                                    data-testid={`button-position-${listing.id}`}\n                                  >\n                                    <ArrowUp className=\"w-4 h-4\" />\n                                  </Button>\n                                  {listing.position && (\n                                    <Button\n                                      size=\"icon\"\n                                      variant=\"ghost\"\n                                      onClick={() => removePositionMutation.mutate(listing.id)}\n                                      disabled={removePositionMutation.isPending}\n                                      data-testid={`button-remove-position-${listing.id}`}\n                                    >\n                                      <X className=\"w-4 h-4 text-red-600\" />\n                                    </Button>\n                                  )}\n                                </div>\n                              </TableCell>\n                            </TableRow>\n                          ))}\n                        </TableBody>\n                      </Table>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </div>\n          </main>\n        </div>\n      </div>\n\n      <Dialog open={positionDialogOpen} onOpenChange={setPositionDialogOpen}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Set Listing Position</DialogTitle>\n            <DialogDescription>\n              Position this listing at the top of its category\n            </DialogDescription>\n          </DialogHeader>\n          {selectedListing && (\n            <div className=\"space-y-4 py-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"business-name\">Listing Title</Label>\n                <Input \n                  id=\"business-name\" \n                  value={selectedListing.title} \n                  disabled \n                  data-testid=\"input-business-name\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"position\">Position (1 = top)</Label>\n                <Input\n                  id=\"position\"\n                  type=\"number\"\n                  min=\"1\"\n                  placeholder=\"Enter position number\"\n                  value={position}\n                  onChange={(e) => setPosition(e.target.value)}\n                  data-testid=\"input-position\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"duration\">Duration (hours)</Label>\n                <Input\n                  id=\"duration\"\n                  type=\"number\"\n                  min=\"1\"\n                  placeholder=\"Enter number of hours\"\n                  value={durationHours}\n                  onChange={(e) => setDurationHours(e.target.value)}\n                  data-testid=\"input-duration\"\n                />\n              </div>\n            </div>\n          )}\n          <DialogFooter>\n            <Button\n              variant=\"outline\"\n              onClick={() => setPositionDialogOpen(false)}\n              data-testid=\"button-cancel\"\n            >\n              Cancel\n            </Button>\n            <Button\n              onClick={handlePositionSubmit}\n              disabled={setPositionMutation.isPending}\n              data-testid=\"button-confirm-position\"\n            >\n              {setPositionMutation.isPending ? \"Saving...\" : \"Set Position\"}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </SidebarProvider>\n  );\n}\n","size_bytes":11176},"client/src/pages/AdminUsers.tsx":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport {\n  SidebarProvider,\n  SidebarTrigger,\n} from \"@/components/ui/sidebar\";\nimport AdminSidebar from \"@/components/AdminSidebar\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Loader2, CheckCircle, XCircle } from \"lucide-react\";\nimport type { User } from \"@shared/schema\";\n\nexport default function AdminUsers() {\n  const { data: users, isLoading } = useQuery<User[]>({\n    queryKey: [\"/api/admin/users\"],\n  });\n\n  const style = {\n    \"--sidebar-width\": \"16rem\",\n  };\n\n  return (\n    <SidebarProvider style={style as React.CSSProperties}>\n      <div className=\"flex h-screen w-full\">\n        <AdminSidebar />\n        <div className=\"flex flex-col flex-1\">\n          <header className=\"flex items-center gap-3 h-14 px-4 border-b\">\n            <SidebarTrigger data-testid=\"button-sidebar-toggle\" />\n            <h1 className=\"text-lg font-semibold\">User Management</h1>\n          </header>\n          <main className=\"flex-1 overflow-auto p-6 bg-muted/30\">\n            <div className=\"max-w-7xl mx-auto\">\n              <Card>\n                <CardHeader>\n                  <CardTitle>Registered Users</CardTitle>\n                  <CardDescription>\n                    View and manage all registered users ({users?.length || 0} total)\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  {isLoading ? (\n                    <div className=\"flex items-center justify-center py-8\">\n                      <Loader2 className=\"w-6 h-6 animate-spin text-muted-foreground\" />\n                    </div>\n                  ) : !users || users.length === 0 ? (\n                    <p className=\"text-muted-foreground text-center py-8\">\n                      No registered users yet\n                    </p>\n                  ) : (\n                    <div className=\"border rounded-lg\" data-testid=\"table-users\">\n                      <Table>\n                        <TableHeader>\n                          <TableRow>\n                            <TableHead>ID</TableHead>\n                            <TableHead>Email</TableHead>\n                            <TableHead>Email Verified</TableHead>\n                            <TableHead>Created At</TableHead>\n                          </TableRow>\n                        </TableHeader>\n                        <TableBody>\n                          {users.map((user) => (\n                            <TableRow key={user.id} data-testid={`row-user-${user.id}`}>\n                              <TableCell className=\"font-mono text-sm\">{user.id}</TableCell>\n                              <TableCell className=\"font-medium\">{user.email}</TableCell>\n                              <TableCell>\n                                {user.emailVerified ? (\n                                  <Badge variant=\"default\" className=\"gap-1\">\n                                    <CheckCircle className=\"w-3 h-3\" />\n                                    Verified\n                                  </Badge>\n                                ) : (\n                                  <Badge variant=\"secondary\" className=\"gap-1\">\n                                    <XCircle className=\"w-3 h-3\" />\n                                    Not Verified\n                                  </Badge>\n                                )}\n                              </TableCell>\n                              <TableCell className=\"text-muted-foreground\">\n                                {new Date(user.createdAt).toLocaleString()}\n                              </TableCell>\n                            </TableRow>\n                          ))}\n                        </TableBody>\n                      </Table>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </div>\n          </main>\n        </div>\n      </div>\n    </SidebarProvider>\n  );\n}\n","size_bytes":4137},"client/src/pages/AdminSubmissions.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport {\n  SidebarProvider,\n  SidebarTrigger,\n} from \"@/components/ui/sidebar\";\nimport AdminSidebar from \"@/components/AdminSidebar\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Check, X, Eye, Loader2, ChevronLeft, ChevronRight } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport type { Submission, PaginatedResponse } from \"@shared/schema\";\n\nexport default function AdminSubmissions() {\n  const { toast } = useToast();\n  const [viewDialogOpen, setViewDialogOpen] = useState(false);\n  const [selectedSubmission, setSelectedSubmission] = useState<Submission | null>(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const pageSize = 10;\n\n  const { data: submissionsResponse, isLoading } = useQuery<PaginatedResponse<Submission>>({\n    queryKey: [`/api/submissions?page=${currentPage}&pageSize=${pageSize}`],\n  });\n\n  const submissions = submissionsResponse?.data || [];\n  const totalPages = submissionsResponse ? Math.ceil(submissionsResponse.total / submissionsResponse.pageSize) : 0;\n\n  // Adjust currentPage if it exceeds totalPages after data changes\n  useEffect(() => {\n    if (totalPages > 0 && currentPage > totalPages) {\n      setCurrentPage(totalPages);\n    }\n  }, [totalPages, currentPage]);\n\n  const approveMutation = useMutation({\n    mutationFn: async (id: number) => {\n      await apiRequest(\"PATCH\", `/api/submissions/${id}/status`, { status: \"approved\" });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ \n        predicate: ({ queryKey }) => \n          typeof queryKey[0] === \"string\" && queryKey[0].startsWith(\"/api/submissions\")\n      });\n      queryClient.invalidateQueries({ queryKey: [\"/api/listings\"] });\n      toast({\n        title: \"Success\",\n        description: \"Submission approved and published as listing\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const rejectMutation = useMutation({\n    mutationFn: async (id: number) => {\n      await apiRequest(\"PATCH\", `/api/submissions/${id}/status`, { status: \"rejected\" });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ \n        predicate: ({ queryKey }) => \n          typeof queryKey[0] === \"string\" && queryKey[0].startsWith(\"/api/submissions\")\n      });\n      toast({\n        title: \"Success\",\n        description: \"Submission rejected\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleView = (submission: Submission) => {\n    setSelectedSubmission(submission);\n    setViewDialogOpen(true);\n  };\n\n  const getStatusBadge = (status: string) => {\n    switch (status) {\n      case \"pending\":\n        return <Badge variant=\"secondary\">Pending</Badge>;\n      case \"approved\":\n        return <Badge variant=\"default\">Approved</Badge>;\n      case \"rejected\":\n        return <Badge variant=\"destructive\">Rejected</Badge>;\n      default:\n        return <Badge variant=\"outline\">{status}</Badge>;\n    }\n  };\n\n  const style = {\n    \"--sidebar-width\": \"16rem\",\n  };\n\n  return (\n    <SidebarProvider style={style as React.CSSProperties}>\n      <div className=\"flex h-screen w-full\">\n        <AdminSidebar />\n        <div className=\"flex flex-col flex-1\">\n          <header className=\"flex items-center gap-3 h-14 px-4 border-b\">\n            <SidebarTrigger data-testid=\"button-sidebar-toggle\" />\n            <h1 className=\"text-lg font-semibold\">Pending Submissions</h1>\n          </header>\n          <main className=\"flex-1 overflow-auto p-6 bg-muted/30\">\n            <div className=\"max-w-7xl mx-auto\">\n              <Card>\n                <CardHeader>\n                  <CardTitle>Submitted Listings</CardTitle>\n                  <CardDescription>\n                    Review and manage pending business submissions\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  {isLoading ? (\n                    <div className=\"flex items-center justify-center py-8\">\n                      <Loader2 className=\"w-6 h-6 animate-spin text-muted-foreground\" />\n                    </div>\n                  ) : !submissions || submissions.length === 0 ? (\n                    <p className=\"text-muted-foreground text-center py-8\">\n                      No pending submissions\n                    </p>\n                  ) : (\n                    <div className=\"border rounded-lg\" data-testid=\"table-submissions\">\n                      <Table>\n                        <TableHeader>\n                          <TableRow>\n                            <TableHead>Date</TableHead>\n                            <TableHead>Business Name</TableHead>\n                            <TableHead>Category</TableHead>\n                            <TableHead>Type</TableHead>\n                            <TableHead>Status</TableHead>\n                            <TableHead className=\"text-right\">Actions</TableHead>\n                          </TableRow>\n                        </TableHeader>\n                        <TableBody>\n                          {submissions.map((submission) => (\n                            <TableRow key={submission.id} data-testid={`row-submission-${submission.id}`}>\n                              <TableCell className=\"text-sm\">\n                                {new Date(submission.submittedAt).toLocaleDateString()}\n                              </TableCell>\n                              <TableCell className=\"font-medium\">{submission.businessName}</TableCell>\n                              <TableCell>{submission.categoryId}</TableCell>\n                              <TableCell>\n                                <Badge variant={submission.listingType === 'promotional' ? 'default' : 'secondary'}>\n                                  {submission.listingType}\n                                </Badge>\n                              </TableCell>\n                              <TableCell>{getStatusBadge(submission.status)}</TableCell>\n                              <TableCell className=\"text-right\">\n                                <div className=\"flex justify-end gap-2\">\n                                  <Button\n                                    size=\"icon\"\n                                    variant=\"ghost\"\n                                    onClick={() => handleView(submission)}\n                                    data-testid={`button-view-${submission.id}`}\n                                  >\n                                    <Eye className=\"w-4 h-4\" />\n                                  </Button>\n                                  {submission.status === \"pending\" && (\n                                    <>\n                                      <Button\n                                        size=\"icon\"\n                                        variant=\"ghost\"\n                                        onClick={() => approveMutation.mutate(submission.id)}\n                                        disabled={approveMutation.isPending}\n                                        data-testid={`button-approve-${submission.id}`}\n                                      >\n                                        <Check className=\"w-4 h-4 text-green-600\" />\n                                      </Button>\n                                      <Button\n                                        size=\"icon\"\n                                        variant=\"ghost\"\n                                        onClick={() => rejectMutation.mutate(submission.id)}\n                                        disabled={rejectMutation.isPending}\n                                        data-testid={`button-reject-${submission.id}`}\n                                      >\n                                        <X className=\"w-4 h-4 text-red-600\" />\n                                      </Button>\n                                    </>\n                                  )}\n                                </div>\n                              </TableCell>\n                            </TableRow>\n                          ))}\n                        </TableBody>\n                      </Table>\n                    </div>\n                  )}\n                  \n                  {!isLoading && submissions.length > 0 && totalPages > 1 && (\n                    <div className=\"flex items-center justify-between gap-4 mt-4\">\n                      <p className=\"text-sm text-muted-foreground\">\n                        Page {currentPage} of {totalPages} ({submissionsResponse?.total || 0} total submissions)\n                      </p>\n                      <div className=\"flex gap-2\">\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={() => setCurrentPage(p => Math.max(1, p - 1))}\n                          disabled={currentPage === 1}\n                          data-testid=\"button-previous-page\"\n                        >\n                          <ChevronLeft className=\"w-4 h-4 mr-1\" />\n                          Previous\n                        </Button>\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={() => setCurrentPage(p => Math.min(totalPages, p + 1))}\n                          disabled={currentPage === totalPages}\n                          data-testid=\"button-next-page\"\n                        >\n                          Next\n                          <ChevronRight className=\"w-4 h-4 ml-1\" />\n                        </Button>\n                      </div>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </div>\n          </main>\n        </div>\n      </div>\n\n      <Dialog open={viewDialogOpen} onOpenChange={setViewDialogOpen}>\n        <DialogContent className=\"max-w-2xl max-h-[80vh] overflow-auto\">\n          <DialogHeader>\n            <DialogTitle>Submission Details</DialogTitle>\n            <DialogDescription>\n              Review the full details of this submission\n            </DialogDescription>\n          </DialogHeader>\n          {selectedSubmission && (\n            <div className=\"space-y-4\">\n              <div>\n                <h3 className=\"font-semibold mb-2\">Business Information</h3>\n                <dl className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <dt className=\"text-sm text-muted-foreground\">Business Name</dt>\n                    <dd className=\"font-medium\">{selectedSubmission.businessName}</dd>\n                  </div>\n                  <div>\n                    <dt className=\"text-sm text-muted-foreground\">Type</dt>\n                    <dd className=\"capitalize\">{selectedSubmission.listingType}</dd>\n                  </div>\n                  {selectedSubmission.description && (\n                    <div className=\"col-span-2\">\n                      <dt className=\"text-sm text-muted-foreground\">Description</dt>\n                      <dd>{selectedSubmission.description}</dd>\n                    </div>\n                  )}\n                  {selectedSubmission.email && (\n                    <div>\n                      <dt className=\"text-sm text-muted-foreground\">Email</dt>\n                      <dd>{selectedSubmission.email}</dd>\n                    </div>\n                  )}\n                  {selectedSubmission.phone && (\n                    <div>\n                      <dt className=\"text-sm text-muted-foreground\">Phone</dt>\n                      <dd>{selectedSubmission.phone}</dd>\n                    </div>\n                  )}\n                  {selectedSubmission.website && (\n                    <div className=\"col-span-2\">\n                      <dt className=\"text-sm text-muted-foreground\">Website</dt>\n                      <dd>\n                        <a href={selectedSubmission.website} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-primary hover:underline\">\n                          {selectedSubmission.website}\n                        </a>\n                      </dd>\n                    </div>\n                  )}\n                </dl>\n              </div>\n              {selectedSubmission.status === \"pending\" && (\n                <div className=\"flex gap-2 pt-4 border-t\">\n                  <Button\n                    onClick={() => {\n                      approveMutation.mutate(selectedSubmission.id);\n                      setViewDialogOpen(false);\n                    }}\n                    disabled={approveMutation.isPending}\n                    data-testid=\"button-approve-dialog\"\n                  >\n                    <Check className=\"w-4 h-4 mr-2\" />\n                    Approve\n                  </Button>\n                  <Button\n                    variant=\"destructive\"\n                    onClick={() => {\n                      rejectMutation.mutate(selectedSubmission.id);\n                      setViewDialogOpen(false);\n                    }}\n                    disabled={rejectMutation.isPending}\n                    data-testid=\"button-reject-dialog\"\n                  >\n                    <X className=\"w-4 h-4 mr-2\" />\n                    Reject\n                  </Button>\n                </div>\n              )}\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n    </SidebarProvider>\n  );\n}\n","size_bytes":14070},"client/src/pages/AdminLocations.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport {\n  SidebarProvider,\n  SidebarTrigger,\n} from \"@/components/ui/sidebar\";\nimport AdminSidebar from \"@/components/AdminSidebar\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Loader2 } from \"lucide-react\";\nimport type { Country, Region, City } from \"@shared/schema\";\n\nexport default function AdminLocations() {\n  const { data: countries, isLoading: countriesLoading } = useQuery<Country[]>({\n    queryKey: [\"/api/countries\"],\n  });\n\n  const { data: regions, isLoading: regionsLoading } = useQuery<Region[]>({\n    queryKey: [\"/api/regions\"],\n  });\n\n  const { data: cities, isLoading: citiesLoading } = useQuery<City[]>({\n    queryKey: [\"/api/cities\"],\n  });\n\n  const style = {\n    \"--sidebar-width\": \"16rem\",\n  };\n\n  return (\n    <SidebarProvider style={style as React.CSSProperties}>\n      <div className=\"flex h-screen w-full\">\n        <AdminSidebar />\n        <div className=\"flex flex-col flex-1\">\n          <header className=\"flex items-center gap-3 h-14 px-4 border-b\">\n            <SidebarTrigger data-testid=\"button-sidebar-toggle\" />\n            <h1 className=\"text-lg font-semibold\">Locations</h1>\n          </header>\n          <main className=\"flex-1 overflow-auto p-6 bg-muted/30\">\n            <div className=\"max-w-7xl mx-auto\">\n              <Tabs defaultValue=\"countries\" className=\"space-y-4\">\n                <TabsList>\n                  <TabsTrigger value=\"countries\" data-testid=\"tab-countries\">Countries</TabsTrigger>\n                  <TabsTrigger value=\"regions\" data-testid=\"tab-regions\">Regions</TabsTrigger>\n                  <TabsTrigger value=\"cities\" data-testid=\"tab-cities\">Cities</TabsTrigger>\n                </TabsList>\n\n                <TabsContent value=\"countries\">\n                  <Card>\n                    <CardHeader>\n                      <CardTitle>Countries</CardTitle>\n                      <CardDescription>\n                        All countries in the directory ({countries?.length || 0} total)\n                      </CardDescription>\n                    </CardHeader>\n                    <CardContent>\n                      {countriesLoading ? (\n                        <div className=\"flex items-center justify-center py-8\">\n                          <Loader2 className=\"w-6 h-6 animate-spin text-muted-foreground\" />\n                        </div>\n                      ) : !countries || countries.length === 0 ? (\n                        <p className=\"text-muted-foreground text-center py-8\">No countries found</p>\n                      ) : (\n                        <div className=\"border rounded-lg\">\n                          <Table>\n                            <TableHeader>\n                              <TableRow>\n                                <TableHead>Flag</TableHead>\n                                <TableHead>Name</TableHead>\n                                <TableHead>Code</TableHead>\n                                <TableHead>Slug</TableHead>\n                              </TableRow>\n                            </TableHeader>\n                            <TableBody>\n                              {countries.map((country) => (\n                                <TableRow key={country.id} data-testid={`row-country-${country.id}`}>\n                                  <TableCell className=\"text-2xl\">{country.flag}</TableCell>\n                                  <TableCell className=\"font-medium\">{country.name}</TableCell>\n                                  <TableCell>\n                                    <Badge variant=\"outline\">{country.code}</Badge>\n                                  </TableCell>\n                                  <TableCell className=\"text-muted-foreground\">{country.slug}</TableCell>\n                                </TableRow>\n                              ))}\n                            </TableBody>\n                          </Table>\n                        </div>\n                      )}\n                    </CardContent>\n                  </Card>\n                </TabsContent>\n\n                <TabsContent value=\"regions\">\n                  <Card>\n                    <CardHeader>\n                      <CardTitle>Regions</CardTitle>\n                      <CardDescription>\n                        States, provinces, and territories ({regions?.length || 0} total)\n                      </CardDescription>\n                    </CardHeader>\n                    <CardContent>\n                      {regionsLoading ? (\n                        <div className=\"flex items-center justify-center py-8\">\n                          <Loader2 className=\"w-6 h-6 animate-spin text-muted-foreground\" />\n                        </div>\n                      ) : !regions || regions.length === 0 ? (\n                        <p className=\"text-muted-foreground text-center py-8\">No regions found</p>\n                      ) : (\n                        <div className=\"border rounded-lg\">\n                          <Table>\n                            <TableHeader>\n                              <TableRow>\n                                <TableHead>Name</TableHead>\n                                <TableHead>Type</TableHead>\n                                <TableHead>Country ID</TableHead>\n                                <TableHead>Slug</TableHead>\n                              </TableRow>\n                            </TableHeader>\n                            <TableBody>\n                              {regions.map((region) => (\n                                <TableRow key={region.id} data-testid={`row-region-${region.id}`}>\n                                  <TableCell className=\"font-medium\">{region.name}</TableCell>\n                                  <TableCell>\n                                    <Badge variant=\"secondary\">{region.type || 'region'}</Badge>\n                                  </TableCell>\n                                  <TableCell>{region.countryId}</TableCell>\n                                  <TableCell className=\"text-muted-foreground\">{region.slug}</TableCell>\n                                </TableRow>\n                              ))}\n                            </TableBody>\n                          </Table>\n                        </div>\n                      )}\n                    </CardContent>\n                  </Card>\n                </TabsContent>\n\n                <TabsContent value=\"cities\">\n                  <Card>\n                    <CardHeader>\n                      <CardTitle>Cities</CardTitle>\n                      <CardDescription>\n                        Major cities and capitals ({cities?.length || 0} total)\n                      </CardDescription>\n                    </CardHeader>\n                    <CardContent>\n                      {citiesLoading ? (\n                        <div className=\"flex items-center justify-center py-8\">\n                          <Loader2 className=\"w-6 h-6 animate-spin text-muted-foreground\" />\n                        </div>\n                      ) : !cities || cities.length === 0 ? (\n                        <p className=\"text-muted-foreground text-center py-8\">No cities found</p>\n                      ) : (\n                        <div className=\"border rounded-lg\">\n                          <Table>\n                            <TableHeader>\n                              <TableRow>\n                                <TableHead>Name</TableHead>\n                                <TableHead>Country ID</TableHead>\n                                <TableHead>Region ID</TableHead>\n                                <TableHead>Population</TableHead>\n                                <TableHead>Capital</TableHead>\n                              </TableRow>\n                            </TableHeader>\n                            <TableBody>\n                              {cities.map((city) => (\n                                <TableRow key={city.id} data-testid={`row-city-${city.id}`}>\n                                  <TableCell className=\"font-medium\">{city.name}</TableCell>\n                                  <TableCell>{city.countryId}</TableCell>\n                                  <TableCell>{city.regionId || '-'}</TableCell>\n                                  <TableCell>{city.population?.toLocaleString() || '-'}</TableCell>\n                                  <TableCell>\n                                    {city.isCapital && <Badge variant=\"default\">Capital</Badge>}\n                                  </TableCell>\n                                </TableRow>\n                              ))}\n                            </TableBody>\n                          </Table>\n                        </div>\n                      )}\n                    </CardContent>\n                  </Card>\n                </TabsContent>\n              </Tabs>\n            </div>\n          </main>\n        </div>\n      </div>\n    </SidebarProvider>\n  );\n}\n","size_bytes":9214},"create-admin-production.ts":{"content":"import bcrypt from 'bcrypt';\n\nasync function createAdminHash() {\n  const email = 'mumkhande@gmail.com';\n  const password = 'USA@de';\n  \n  const passwordHash = await bcrypt.hash(password, 10);\n  \n  console.log('\\n=== PRODUCTION ADMIN USER SETUP ===\\n');\n  console.log('Run this SQL command in your PRODUCTION database:');\n  console.log('(Database tool > My Data > SQL runner)\\n');\n  console.log(`INSERT INTO admin_users (email, password_hash, created_at)`);\n  console.log(`VALUES ('${email}', '${passwordHash}', NOW());`);\n  console.log('\\n===================================\\n');\n}\n\ncreateAdminHash();\n","size_bytes":602},"server/utils/seedAdmin.ts":{"content":"import bcrypt from 'bcrypt';\nimport { db } from '../db';\nimport { adminUsers } from '../../shared/schema';\nimport { eq } from 'drizzle-orm';\n\nexport async function seedAdminUser() {\n  try {\n    const adminEmail = 'mumkhande@gmail.com';\n    const adminUsername = 'admin';\n    const adminPassword = 'USA@de';\n\n    // Check if admin user already exists\n    const existingAdmin = await db\n      .select()\n      .from(adminUsers)\n      .where(eq(adminUsers.email, adminEmail))\n      .limit(1);\n\n    if (existingAdmin.length > 0) {\n      console.log('âœ“ Admin user already exists');\n      return;\n    }\n\n    // Create admin user if it doesn't exist\n    const passwordHash = await bcrypt.hash(adminPassword, 10);\n    \n    await db.insert(adminUsers).values({\n      username: adminUsername,\n      email: adminEmail,\n      passwordHash: passwordHash,\n    });\n\n    console.log('âœ“ Admin user created successfully');\n    console.log(`  Email: ${adminEmail}`);\n    console.log(`  Username: ${adminUsername}`);\n    console.log(`  Password: ${adminPassword}`);\n  } catch (error) {\n    console.error('Error seeding admin user:', error);\n    // Don't throw - let the app continue even if seeding fails\n  }\n}\n","size_bytes":1194},"client/src/pages/AdminDatabaseTools.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { SidebarProvider, SidebarTrigger } from \"@/components/ui/sidebar\";\nimport AdminSidebar from \"@/components/AdminSidebar\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Database, Copy, Download, Globe, MapPin, Package } from \"lucide-react\";\nimport type { Category } from \"@shared/schema\";\n\nexport default function AdminDatabaseTools() {\n  const { toast } = useToast();\n  const [sqlOutput, setSqlOutput] = useState(\"\");\n  const [schemaOutput, setSchemaOutput] = useState(\"\");\n\n  const { data: categories = [], isLoading: categoriesLoading } = useQuery<Category[]>({\n    queryKey: [\"/api/categories\"],\n  });\n\n  const { data: countries = [], isLoading: countriesLoading } = useQuery<any[]>({\n    queryKey: [\"/api/countries\"],\n  });\n\n  const { data: regions = [], isLoading: regionsLoading } = useQuery<any[]>({\n    queryKey: [\"/api/regions\"],\n  });\n\n  const { data: cities = [], isLoading: citiesLoading } = useQuery<any[]>({\n    queryKey: [\"/api/cities\"],\n  });\n\n  const { data: packages = [], isLoading: packagesLoading } = useQuery<any[]>({\n    queryKey: [\"/api/admin/promotional-packages\"],\n  });\n\n  const isLoading = categoriesLoading || countriesLoading || regionsLoading || citiesLoading || packagesLoading;\n\n  const generateAllDataSql = async () => {\n    try {\n      const response = await fetch('/api/admin/export-sql');\n      if (!response.ok) {\n        throw new Error('Failed to generate SQL');\n      }\n      const sql = await response.text();\n      setSqlOutput(sql);\n\n      const totalRecords = categories.length + countries.length + regions.length + cities.length + packages.length;\n      toast({\n        title: \"SQL Generated!\",\n        description: `Exported ${totalRecords} total records.`,\n      });\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to generate SQL export.\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const copyToClipboard = async () => {\n    try {\n      await navigator.clipboard.writeText(sqlOutput);\n      toast({\n        title: \"Copied!\",\n        description: \"SQL statements copied to clipboard.\",\n      });\n    } catch (error) {\n      toast({\n        title: \"Copy Failed\",\n        description: \"Could not copy to clipboard.\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const downloadSql = () => {\n    const blob = new Blob([sqlOutput], { type: 'text/plain' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `data-export-${Date.now()}.sql`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n\n    toast({\n      title: \"Downloaded!\",\n      description: \"Data export file downloaded successfully.\",\n    });\n  };\n\n  const downloadSchema = async () => {\n    try {\n      const response = await fetch('/api/admin/export-schema');\n      if (!response.ok) {\n        throw new Error('Failed to fetch schema');\n      }\n      const schema = await response.text();\n      setSchemaOutput(schema);\n\n      const blob = new Blob([schema], { type: 'text/plain' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `schema-${Date.now()}.sql`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n\n      toast({\n        title: \"Downloaded!\",\n        description: \"Database schema downloaded successfully.\",\n      });\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to download schema.\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const downloadHostingerPackage = async () => {\n    try {\n      // Get schema\n      const schemaResponse = await fetch('/api/admin/export-schema');\n      if (!schemaResponse.ok) throw new Error('Failed to fetch schema');\n      const schema = await schemaResponse.text();\n\n      // Get data\n      const dataResponse = await fetch('/api/admin/export-sql');\n      if (!dataResponse.ok) throw new Error('Failed to fetch data');\n      const data = await dataResponse.text();\n\n      // Combine them\n      const complete = `-- ========================================\n-- THE USA MIRROR - COMPLETE DATABASE EXPORT\n-- FOR HOSTINGER POSTGRESQL DEPLOYMENT\n-- Generated: ${new Date().toLocaleString()}\n-- ========================================\n--\n-- INSTRUCTIONS:\n-- 1. Create a new PostgreSQL database in Hostinger\n-- 2. Run this ENTIRE file in phpPgAdmin or your database manager\n-- 3. The schema will be created first, then data will be imported\n--\n-- ========================================\n\n-- STEP 1: CREATE TABLES (Schema)\n-- ========================================\n\n${schema}\n\n-- ========================================\n-- STEP 2: INSERT DATA\n-- ========================================\n\n${data}\n\n-- ========================================\n-- DEPLOYMENT COMPLETE!\n-- ========================================`;\n\n      const blob = new Blob([complete], { type: 'text/plain' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `hostinger-complete-deployment-${Date.now()}.sql`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n\n      toast({\n        title: \"Downloaded!\",\n        description: \"Complete Hostinger deployment package downloaded.\",\n      });\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to create deployment package.\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  return (\n    <SidebarProvider>\n      <div className=\"flex h-screen w-full\">\n        <AdminSidebar />\n        <div className=\"flex flex-col flex-1\">\n          <header className=\"flex items-center justify-between p-4 border-b\">\n            <SidebarTrigger data-testid=\"button-sidebar-toggle\" />\n            <h2 className=\"text-lg font-semibold\">Database Tools</h2>\n          </header>\n          <main className=\"flex-1 overflow-auto p-6\">\n            <div className=\"space-y-6 max-w-5xl\">\n              <div>\n                <h1 className=\"text-3xl font-bold mb-2\">Database Tools</h1>\n                <p className=\"text-muted-foreground\">\n                  Export data from development to import into production database\n                </p>\n              </div>\n\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <Database className=\"h-5 w-5\" />\n                    Export All Reference Data\n                  </CardTitle>\n                  <CardDescription>\n                    Generate SQL statements to copy all categories, countries, regions, cities, and promotional packages to production\n                  </CardDescription>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4\">\n                    <div className=\"text-center p-4 bg-muted rounded-lg\">\n                      <Database className=\"h-6 w-6 mx-auto mb-2 text-muted-foreground\" />\n                      <p className=\"text-2xl font-bold\">{isLoading ? \"...\" : categories.length}</p>\n                      <p className=\"text-xs text-muted-foreground\">Categories</p>\n                    </div>\n                    <div className=\"text-center p-4 bg-muted rounded-lg\">\n                      <Globe className=\"h-6 w-6 mx-auto mb-2 text-muted-foreground\" />\n                      <p className=\"text-2xl font-bold\">{isLoading ? \"...\" : countries.length}</p>\n                      <p className=\"text-xs text-muted-foreground\">Countries</p>\n                    </div>\n                    <div className=\"text-center p-4 bg-muted rounded-lg\">\n                      <MapPin className=\"h-6 w-6 mx-auto mb-2 text-muted-foreground\" />\n                      <p className=\"text-2xl font-bold\">{isLoading ? \"...\" : regions.length}</p>\n                      <p className=\"text-xs text-muted-foreground\">Regions</p>\n                    </div>\n                    <div className=\"text-center p-4 bg-muted rounded-lg\">\n                      <MapPin className=\"h-6 w-6 mx-auto mb-2 text-muted-foreground\" />\n                      <p className=\"text-2xl font-bold\">{isLoading ? \"...\" : cities.length}</p>\n                      <p className=\"text-xs text-muted-foreground\">Cities</p>\n                    </div>\n                    <div className=\"text-center p-4 bg-muted rounded-lg\">\n                      <Package className=\"h-6 w-6 mx-auto mb-2 text-muted-foreground\" />\n                      <p className=\"text-2xl font-bold\">{isLoading ? \"...\" : packages.length}</p>\n                      <p className=\"text-xs text-muted-foreground\">Packages</p>\n                    </div>\n                  </div>\n\n                  <Button\n                    onClick={generateAllDataSql}\n                    disabled={isLoading}\n                    size=\"lg\"\n                    className=\"w-full\"\n                    data-testid=\"button-export-all\"\n                  >\n                    <Database className=\"h-4 w-4 mr-2\" />\n                    Generate Complete SQL Export\n                  </Button>\n\n                  {sqlOutput && (\n                    <div className=\"space-y-3\">\n                      <div className=\"flex items-center justify-between\">\n                        <p className=\"text-sm font-medium\">Generated SQL Statements</p>\n                        <div className=\"flex gap-2\">\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={copyToClipboard}\n                            data-testid=\"button-copy-sql\"\n                          >\n                            <Copy className=\"h-4 w-4 mr-2\" />\n                            Copy\n                          </Button>\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={downloadSql}\n                            data-testid=\"button-download-sql\"\n                          >\n                            <Download className=\"h-4 w-4 mr-2\" />\n                            Download\n                          </Button>\n                        </div>\n                      </div>\n                      <Textarea\n                        value={sqlOutput}\n                        readOnly\n                        className=\"font-mono text-xs min-h-[400px]\"\n                        data-testid=\"textarea-sql-output\"\n                      />\n                    </div>\n                  )}\n\n                  <Tabs defaultValue=\"replit\" className=\"w-full\">\n                    <TabsList className=\"grid w-full grid-cols-2\">\n                      <TabsTrigger value=\"replit\">Replit Production</TabsTrigger>\n                      <TabsTrigger value=\"hostinger\">Hostinger / External DB</TabsTrigger>\n                    </TabsList>\n                    \n                    <TabsContent value=\"replit\" className=\"space-y-3\">\n                      <div className=\"bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800 rounded-lg p-4\">\n                        <h4 className=\"font-semibold text-blue-900 dark:text-blue-100 mb-2\">\n                          ðŸ“ Import to Replit Production Database:\n                        </h4>\n                        <ol className=\"text-sm text-blue-800 dark:text-blue-200 space-y-2 list-decimal list-inside\">\n                          <li>Click \"Generate Complete SQL Export\" above</li>\n                          <li>Click \"Copy\" to copy all SQL to your clipboard</li>\n                          <li>Open the Replit Database pane (left sidebar)</li>\n                          <li>Switch to the \"Production\" tab at the top</li>\n                          <li>Click \"SQL Runner\" or \"Query\" button</li>\n                          <li>Paste the SQL statements and click \"Run\"</li>\n                          <li>All your data will now be in production!</li>\n                        </ol>\n                      </div>\n                    </TabsContent>\n                    \n                    <TabsContent value=\"hostinger\" className=\"space-y-3\">\n                      <div className=\"bg-purple-50 dark:bg-purple-950 border border-purple-200 dark:border-purple-800 rounded-lg p-4\">\n                        <h4 className=\"font-semibold text-purple-900 dark:text-purple-100 mb-3\">\n                          ðŸŒ Complete Hostinger Deployment Package\n                        </h4>\n                        <p className=\"text-sm text-purple-800 dark:text-purple-200 mb-4\">\n                          Download a single SQL file that contains both the database schema (CREATE TABLE statements) and all your data. Perfect for deploying to Hostinger!\n                        </p>\n                        \n                        <Button\n                          onClick={downloadHostingerPackage}\n                          disabled={isLoading}\n                          size=\"lg\"\n                          className=\"w-full mb-4\"\n                          data-testid=\"button-download-hostinger-package\"\n                        >\n                          <Download className=\"h-4 w-4 mr-2\" />\n                          Download Complete Hostinger Package\n                        </Button>\n\n                        <h4 className=\"font-semibold text-purple-900 dark:text-purple-100 mb-2 mt-4\">\n                          ðŸ“ Deployment Instructions:\n                        </h4>\n                        <ol className=\"text-sm text-purple-800 dark:text-purple-200 space-y-2 list-decimal list-inside\">\n                          <li>Click \"Download Complete Hostinger Package\" button above</li>\n                          <li>Login to your Hostinger control panel (hPanel)</li>\n                          <li>Go to \"Databases\" â†’ Create or select a PostgreSQL database</li>\n                          <li>Click \"phpPgAdmin\" or \"Manage\" to open the database manager</li>\n                          <li>Click the \"SQL\" tab at the top</li>\n                          <li>Open the downloaded file and copy ALL the SQL content</li>\n                          <li>Paste it into the SQL query box</li>\n                          <li>Click \"Execute\" to create tables and import all data</li>\n                          <li>Your database is now ready on Hostinger!</li>\n                        </ol>\n                        \n                        <div className=\"mt-4 p-3 bg-purple-100 dark:bg-purple-900 rounded\">\n                          <p className=\"text-xs text-purple-900 dark:text-purple-100 font-semibold mb-2\">\n                            ðŸ“¦ What's included in the package:\n                          </p>\n                          <ul className=\"text-xs text-purple-800 dark:text-purple-200 space-y-1 list-disc list-inside\">\n                            <li>Complete database schema (all 11 tables)</li>\n                            <li>All {categories.length} categories with hierarchical structure</li>\n                            <li>All {countries.length} countries with flags and codes</li>\n                            <li>All {regions.length} regions (states/provinces)</li>\n                            <li>All {cities.length} cities with geographic data</li>\n                            <li>All {packages.length} promotional packages</li>\n                          </ul>\n                        </div>\n                      </div>\n                    </TabsContent>\n                  </Tabs>\n\n                  <div className=\"bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg p-4\">\n                    <h4 className=\"font-semibold text-green-900 dark:text-green-100 mb-2\">\n                      âœ… Safe to Use:\n                    </h4>\n                    <ul className=\"text-sm text-green-800 dark:text-green-200 space-y-1 list-disc list-inside\">\n                      <li>Uses ON CONFLICT to safely update existing records</li>\n                      <li>Won't create duplicates - safe to run multiple times</li>\n                      <li>Categories are exported parent-first for proper ordering</li>\n                      <li>All data properly escaped and formatted</li>\n                    </ul>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </main>\n        </div>\n      </div>\n    </SidebarProvider>\n  );\n}\n","size_bytes":16948},"HOSTINGER_DEPLOYMENT_GUIDE.md":{"content":"# Hostinger Deployment Guide - The USA Mirror\n\nThis guide will help you deploy your complete application (database + Node.js app) to Hostinger.\n\n## Overview\n\nHostinger offers VPS (Virtual Private Server) hosting which is perfect for Node.js applications. You'll be deploying:\n- **PostgreSQL Database** (your data)\n- **Node.js/Express Backend** (API server)\n- **React Frontend** (pre-built and served by Express)\n\n---\n\n## Part 1: Database Deployment\n\n### Step 1: Download Database Package\n\n1. Login to your admin panel at `/admin/login`\n2. Go to \"Database Tools\" in the sidebar\n3. Click the **\"Hostinger / External DB\"** tab\n4. Click **\"Download Complete Hostinger Package\"**\n5. Save the `.sql` file to your computer\n\n### Step 2: Create PostgreSQL Database on Hostinger\n\n1. Login to Hostinger hPanel\n2. Go to **\"Advanced\" â†’ \"Databases\"**\n3. Click **\"Create Database\"**\n4. Choose **PostgreSQL**\n5. Name your database (e.g., `usa_mirror_db`)\n6. Create a database user and password (save these!)\n7. Click **\"Create\"**\n\n### Step 3: Import Database\n\n1. In hPanel, find your new database and click **\"Manage\" or \"phpPgAdmin\"**\n2. Select your database from the left sidebar\n3. Click the **\"SQL\"** tab at the top\n4. Open the downloaded `.sql` file in a text editor\n5. Copy **ALL** the SQL content\n6. Paste it into the SQL query box\n7. Click **\"Execute\"** or **\"Go\"**\n8. Wait for it to complete (may take a minute)\n9. You should see: \"Import complete!\" message\n\n**âœ… Your database is now ready with all tables and data!**\n\n---\n\n## Part 2: Application Code Deployment\n\n### Option A: Deploy to Hostinger VPS (Recommended)\n\nHostinger VPS gives you full control to run Node.js applications.\n\n#### Prerequisites on VPS:\n- Node.js 18+ installed\n- npm or yarn installed\n- PostgreSQL client installed\n- Process manager (PM2) installed\n\n#### Deployment Steps:\n\n1. **Access Your VPS**\n   ```bash\n   ssh your-username@your-vps-ip\n   ```\n\n2. **Install Node.js** (if not installed)\n   ```bash\n   curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -\n   sudo apt-get install -y nodejs\n   ```\n\n3. **Install PM2** (process manager)\n   ```bash\n   sudo npm install -g pm2\n   ```\n\n4. **Upload Your Code**\n   - Option 1: Use Git\n     ```bash\n     cd /var/www\n     git clone <your-repo-url> usa-mirror\n     cd usa-mirror\n     ```\n   \n   - Option 2: Use SFTP/SCP to upload files\n     - Upload all files from your Replit workspace\n     - Make sure to include: `package.json`, `server/`, `client/`, `shared/`, `migrations/`\n\n5. **Install Dependencies**\n   ```bash\n   npm install\n   ```\n\n6. **Set Environment Variables**\n   Create a `.env` file:\n   ```bash\n   nano .env\n   ```\n   \n   Add these variables:\n   ```env\n   DATABASE_URL=postgresql://username:password@localhost:5432/usa_mirror_db\n   SESSION_SECRET=your-very-long-random-secret-string-here\n   NODE_ENV=production\n   PORT=5000\n   ```\n   \n   Replace:\n   - `username` and `password` with your database credentials\n   - `usa_mirror_db` with your database name\n   - `your-very-long-random-secret-string-here` with a secure random string\n\n7. **Build the Frontend**\n   ```bash\n   npm run build\n   ```\n\n8. **Run Database Migrations** (if needed)\n   ```bash\n   npx drizzle-kit migrate\n   ```\n\n9. **Create Admin User**\n   You need to create an admin user manually in the database:\n   ```bash\n   psql -U username -d usa_mirror_db\n   ```\n   \n   Then run:\n   ```sql\n   INSERT INTO admin_users (username, email, password_hash, created_at)\n   VALUES ('admin', 'your-email@example.com', '$2b$10$...(use bcrypt to hash your password)', NOW());\n   ```\n   \n   Or create a script to do this (recommended).\n\n10. **Start the Application with PM2**\n    ```bash\n    pm2 start npm --name \"usa-mirror\" -- start\n    pm2 save\n    pm2 startup\n    ```\n\n11. **Configure Nginx** (reverse proxy)\n    ```bash\n    sudo nano /etc/nginx/sites-available/usa-mirror\n    ```\n    \n    Add:\n    ```nginx\n    server {\n        listen 80;\n        server_name your-domain.com www.your-domain.com;\n\n        location / {\n            proxy_pass http://localhost:5000;\n            proxy_http_version 1.1;\n            proxy_set_header Upgrade $http_upgrade;\n            proxy_set_header Connection 'upgrade';\n            proxy_set_header Host $host;\n            proxy_cache_bypass $http_upgrade;\n        }\n    }\n    ```\n    \n    Enable the site:\n    ```bash\n    sudo ln -s /etc/nginx/sites-available/usa-mirror /etc/nginx/sites-enabled/\n    sudo nginx -t\n    sudo systemctl reload nginx\n    ```\n\n12. **Setup SSL** (HTTPS)\n    ```bash\n    sudo apt-get install certbot python3-certbot-nginx\n    sudo certbot --nginx -d your-domain.com -d www.your-domain.com\n    ```\n\n**âœ… Your application is now live!**\n\n---\n\n### Option B: Deploy to Shared Hosting (Limited)\n\nâš ï¸ **Note**: Most Hostinger shared hosting plans don't support custom Node.js applications. You'll need a VPS plan.\n\nIf you have Node.js support on shared hosting:\n1. Upload files via File Manager or FTP\n2. Create `.htaccess` file to route to Node.js\n3. Set environment variables in hosting panel\n4. Start Node.js application through hosting control panel\n\n---\n\n## Part 3: Post-Deployment\n\n### Monitor Your Application\n```bash\npm2 status\npm2 logs usa-mirror\npm2 monit\n```\n\n### Update Your Application\n```bash\ncd /var/www/usa-mirror\ngit pull origin main\nnpm install\nnpm run build\npm2 restart usa-mirror\n```\n\n### Backup Your Database\n```bash\npg_dump -U username usa_mirror_db > backup-$(date +%Y%m%d).sql\n```\n\n---\n\n## Troubleshooting\n\n### Database Connection Issues\n- Check `DATABASE_URL` is correct\n- Verify PostgreSQL is running: `sudo systemctl status postgresql`\n- Check firewall allows port 5432\n- Verify database credentials\n\n### Application Won't Start\n- Check logs: `pm2 logs usa-mirror`\n- Verify Node.js version: `node --version` (should be 18+)\n- Check all environment variables are set\n- Verify build completed: check `dist/` directory exists\n\n### Cannot Access Website\n- Check Nginx status: `sudo systemctl status nginx`\n- Verify DNS points to your VPS IP\n- Check firewall allows ports 80 and 443\n- Review Nginx error logs: `sudo tail -f /var/log/nginx/error.log`\n\n---\n\n## Important Files Checklist\n\nMake sure you have these files before deploying:\n- âœ… `package.json` - Dependencies and scripts\n- âœ… `server/` - Backend code\n- âœ… `client/` - Frontend code\n- âœ… `shared/` - Shared types and schemas\n- âœ… `migrations/` - Database migrations\n- âœ… `.env` - Environment variables (create on server)\n- âœ… Database export SQL file (from Database Tools)\n\n---\n\n## Need Help?\n\nCommon Hostinger Support Resources:\n- Hostinger Knowledge Base: https://support.hostinger.com\n- VPS Management: https://www.hostinger.com/tutorials/vps\n- Node.js on VPS: Search Hostinger docs for \"Node.js VPS setup\"\n\n---\n\n**Good luck with your deployment!** ðŸš€\n","size_bytes":6800}},"version":2}